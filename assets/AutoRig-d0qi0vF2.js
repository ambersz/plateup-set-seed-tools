import{S as R,A as S,d as B}from"./branchingRerolls-Ku93QpO_.js";import{T as k,_ as M,p as D,u as t}from"./main-LoDFSLAM.js";import{u as p}from"./usePersistentState-QZnuxCCl.js";import"./shop-nZDvkY5y.js";import"./utils-Q-HaJtwR.js";import"./prng-ACD5049E.js";import"./unlocks-ENjzZK3S.js";import"./GhostBlueprints-IsYLidWZ.js";import"./UnlockSelect-8Y3Qa_AR.js";function y(i,u){i.postMessage(u)}const x={"Grabber - Rotating":["Grabber","Smart Grabber"],Grabber:["Conveyor","Grabber - Rotating","Smart Grabber"],Freezer:["Counter"],Workstation:["Counter"],"Prep Station":["Frozen Prep Station"],"Frozen Prep Station":["Prep Station"],Mixer:["Rapid Mixer","Conveyor Mixer","Heated Mixer"],"Dish Rack":["Dish Washer"],"Rapid Mixer":["Mixer","Conveyor Mixer"],"Heated Mixer":["Mixer","Rapid Mixer"],"Conveyor Mixer":["Heated Mixer","Mixer"],Bin:["Affordable Bin","Expanded Bin","Compactor Bin","Composter Bin"],"Compactor Bin":["Expanded Bin","Bin"],"Composter Bin":["Compactor Bin","Bin"],"Expanded Bin":["Composter Bin","Bin"],"Metal Table":["Dining Table"],"Table - Simple Cloth":["Dining Table"],"Table - Fancy Cloth":["Dining Table"],"Power Sink":["Soaking Sink","Sink"],"Soaking Sink":["Sink","Dish Washer"],"Dish Washer":["Sink","Wash Basin"],"Danger Hob":["Safety Hob","Hob"],"Safety Hob":["Hob","Danger Hob"],Microwave:["Oven"],"Robot Mop":["Fast Mop"],"Robot Buffer":["Floor Buffer"],"Copying Desk":["Research Desk","Discount Desk"],"Discount Desk":["Research Desk","Blueprint Desk"],Teleporter:["Dumbwaiter"]},N=({})=>{const[i,u]=p(B,"BRANCH_CONFIG",e=>{if(typeof e.simpleBPSettings=="boolean"){debugger;return{...e,simpleBPSettings:e.simpleBPSettings?"insideOnly":"full"}}return e}),[c,d]=p([[]],"RIG_TIERS"),[b,g]=p(1,"RIG_PLAYER_COUNT"),[C,m]=p("","RIG_RESULT"),f=k(e=>{m(e.data)},[]),a=M();D(()=>{a.current===void 0&&(a.current=new Worker(new URL("/plateup-set-seed-tools/assets/autoRigWorker-VqabXo1q.js",import.meta.url),{type:"module"})),a.current.onmessage=f},[]);const h=e=>{y(a.current,{config:i,tiers:e,playerCount:b})};return t("div",{children:[t("label",{for:"playerCount",children:"Player Count"}),t("input",{id:"playerCount",defaultValue:b.toString(),type:"number",onChange:e=>{const o=e.target;g(Number(o.value))}}),t(R,{onConfigChange:u,config:i}),c.map((e,o)=>t(S,{shopModifiersOnly:!1,appliances:e,allowDupes:!0,label:`Tier ${o+1} appliances: `,onSelectionChange:n=>{d(s=>{const r=[...s];r.splice(o,1,n);let l=r.length;for(;l--&&!r[l].length;)r.pop();return r.push([]),r})}})),t("button",{onClick:()=>{const e=c.map(o=>{let n={};for(const r of o)n[r.Name]||(n[r.Name]=0),n[r.Name]++;let s=[];for(const[r,l]of Object.entries(n))s.push({goal:r,substitutes:x[r]??[],number:l});return s});h(e)},children:"Route Rig"}),t("button",{onClick:()=>{m("")},children:"Clear Previous Results"}),t("div",{children:C.split(`
`).map(e=>t("div",{children:e}))})]})};export{N as default};
