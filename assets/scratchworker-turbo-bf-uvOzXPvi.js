var ve=Object.defineProperty;var Ce=(h,T,j)=>T in h?ve(h,T,{enumerable:!0,configurable:!0,writable:!0,value:j}):h[T]=j;var d=(h,T,j)=>(Ce(h,typeof T!="symbol"?T+"":T,j),j);(function(){"use strict";var h=(e=>(e[e.Generic=0]="Generic",e[e.Dish=1]="Dish",e[e.PrimaryTheme=3]="PrimaryTheme",e[e.SecondaryTheme=4]="SecondaryTheme",e[e.Franchise=5]="Franchise",e[e.Special=6]="Special",e))(h||{}),T=(e=>(e[e.Base=0]="Base",e[e.Main=1]="Main",e[e.Extra=2]="Extra",e[e.Side=3]="Side",e[e.Starter=4]="Starter",e[e.Dessert=5]="Dessert",e[e.Null=6]="Null",e))(T||{}),j=`373996608,Ice Cream,1,,,,-1533430406,False,False,5\r
-2075899,Breakfast,1,,,-523839730:-1706154991,380220741:925796718,True,False,0\r
-1199743580,Breakfast Beans,1,-2075899,,,1807525572:-957949759,False,False,2\r
1436814208,Breakfast Eggs,1,-2075899,,,961148621,False,False,2\r
-1998930853,Breakfast Extras,1,-2075899,,,-712909563:-1097889139,False,False,2\r
-1778969928,Burgers,1,,,1972879238,759552160:380220741:385684499,True,False,0\r
965292477,Cheeseburgers,1,-1778969928,,,759552160:380220741:385684499:-117339838,False,False,2\r
-1091625127,Fresh Patties,1,-1778969928,,,759552160:380220741:961148621:-484165118,False,False,2\r
1298035216,Burger Toppings,1,-1778969928,,,759552160:380220741:-712909563:385684499:-2042103798,False,False,2\r
1626323920,Hot Dogs,1,,,1972879238,-1132411297:380220741:1799769627:-965827229,True,False,0\r
-278713285,Hot Dog - Mustard,1,1626323920,,,-117356585,False,False,2\r
1743900205,Fish,1,,,1972879238,-609358791:380220741:-1735137431,True,False,0\r
-297968808,Crab Cake,1,1743900205,,2087693779:1972879238,380220741:925796718:961148621,True,False,1\r
243846255,Fish Selection,1,1442262270,,,-609358791,False,False,2\r
-243820179,Fish Selection,1,274986412,,,-609358791,False,False,2\r
1442262270,Fish Fillet,1,1743900205,,1972879238:2087693779,380220741,True,False,1\r
274986412,Oysters,1,1743900205,,2087693779,380220741,True,False,1\r
-643878280,Spiny Fish,1,1743900205,,2087693779,380220741,True,False,1\r
-211821608,Apple Pies,1,,,2087693779:1972879238:-523839730,925796718:-266993023:-905438738,False,False,5\r
-133939790,Pies,1,,,-1706154991:-523839730,925796718:-484165118:-266993023:380220741,True,False,0\r
-1992316049,Mushroom Pie,1,-133939790,,,-1097889139:925796718:-266993023,False,False,1\r
-1802123036,Vegetable Pies,1,-133939790,,,925796718:-266993023:-452101383:-1573812073,False,False,1\r
1570910782,Apple Salad,1,1356267749,,2087693779,1193867305:-712909563:380220741:-905438738:1834063794:-1963699221:961148621,True,False,1\r
1356267749,Salad,1,,,2087693779,1193867305:-712909563:380220741,True,False,0\r
-862637543,Potato Salad,1,1356267749,,2087693779:1972879238,-1963699221:961148621:44541785:-957949759:-2042103798:-266993023,True,False,1\r
372460604,Salad Toppings,1,1356267749,,,-1434800013:-2042103798,False,False,2\r
1384317454,Bone-in Steaks,1,-959076098,,1972879238,269523389,True,False,1\r
-959076098,Steak,1,,,1972879238,-484165118:380220741,True,False,0\r
-953651922,Steak Sauce - Mushroom,1,-959076098,,,-1097889139:-266993023:-2042103798:-957949759,False,False,2\r
2074054556,Steak Sauce - Red Wine Jus,1,-959076098,,,-957949759:-2042103798:-266993023:-1353971407,False,False,2\r
-1192928429,Steak Topping - Mushroom,1,-959076098,,,-1097889139,False,False,2\r
-851525606,Steak Topping - Tomato,1,-959076098,,,-712909563,False,False,2\r
1916300984,Thick Cut Steaks,1,-959076098,,1972879238,-1507801323,True,False,1\r
-1716993344,Thin Cut Steaks,1,-959076098,,1972879238,1800865634,True,False,1\r
-1653221873,Stir Fry,1,,,2087693779:1972879238,-452101383:-1573812073:380220741:-1201769154:314862254,True,False,0\r
-204178430,Steak Stir Fry,1,-1653221873,,,-1201769154:314862254:-484165118:-452101383:380220741:-1573812073,False,False,1\r
1380953991,Broccoli,1,,,1972879238,-1573812073:-957949759:-266993023,False,True,3\r
-520693398,Chips,1,,,1972879238:2087693779,44541785,False,True,3\r
364243605,Mashed Potato,1,,,1972879238:2087693779,-957949759:44541785:-266993023,False,True,3\r
2012685115,Carrot Soup,1,,,1972879238,-266993023:-2042103798:-452101383:-957949759,False,True,4\r
-997241706,Meat Soup,1,,,1972879238,-484165118:-2042103798:-957949759:-266993023,False,True,4\r
-233806503,Tomato Soup,1,,,1972879238:2087693779,-712909563:-2042103798:-957949759:-266993023,False,True,4\r
312770813,Cheese Board,1,,,2087693779,-905438738:235423916:-117339838:1834063794,False,False,5\r
550743424,Pizza,1,,,2087693779:-1706154991:-523839730,925796718:-1963699221:-117339838:-712909563:380220741,True,False,0\r
1434421325,Mushroom Pizza,1,550743424,,,925796718:-1963699221:-117339838:-712909563:380220741:-1097889139,False,False,2\r
-2071275506,Onion Pizza,1,550743424,,,-117339838:925796718:-2042103798:-1963699221:380220741:-712909563,False,False,2\r
-1745179096,Onion Rings,1,,,1972879238:2087693779,-2042103798:925796718,False,True,3\r
1642577536,Herd Mentality,0,,,,,False,False,6\r
-1737101581,Health and Safety,0,,,,,False,False,6\r
-2040314977,Picky Eaters,0,,,,,False,False,6\r
73422455,Tipping Culture,0,,,,,False,False,6\r
1168007081,Corn on the Cob,1,,,1972879238,976574457,False,True,3\r
400765800,Pumpkin Pies,1,,,2087693779:1972879238:-523839730,-1055654549:925796718,False,False,5\r
1393945424,Pumpkin Seed,1,,,1972879238,-1055654549,False,True,4\r
1984233383,Pumpkin Soup,1,,,1972879238,-266993023:-2042103798:-1055654549:-957949759,False,True,4\r
1838568431,Trick - Nasty Nightmares,6,,,,,False,False,6\r
61056284,Trick - Risky Reservations,6,,,,,False,False,6\r
2112990883,Trick - Freak Fires,6,,,,,False,False,6\r
-1477157706,Trick - Mysterious Messes,6,,,,,False,False,6\r
-209485820,Trick - Dark Deliberations,6,,,,,False,False,6\r
83673522,Trick - Spooky Solos,6,,,,,False,False,6\r
1139286658,Trick - Pyro Patrons,6,,,,,False,False,6\r
79859072,Trick - Cowardly Customers,6,,,,,False,False,6\r
-2123879305,Trick - Full of Friends,6,,,,,False,False,6\r
-1895806374,Trick - Grand Gesture,6,,,,,False,False,6\r
-1839415999,Trick - Spatial Scares,6,,,,,False,False,6\r
-269971294,Trick - Frightful Fluff,6,,,,,False,False,6\r
1892828942,Trick - Immortal Impatience,6,,,,,False,False,6\r
524188336,Trick - Foggy Food,6,,,,,False,False,6\r
797208634,Trick - Vanishing Valuables,6,,,,,False,False,6\r
561747534,Trick - Careful Conveyance,6,,,,,False,False,6\r
-1921275517,Trick - Tiring Times,6,,,,,False,False,6\r
319209671,Community,6,,,,,False,False,6\r
536093200,Nut Roast,1,1551533879,,2087693779:-1706154991,1834063794:380220741:-2042103798,True,False,1\r
-1405391769,Affogato,1,16318784:373996608,,,-1609758240:-1533430406,False,False,5\r
1847735819,Bread,1,,,1972879238,925796718:235423916,False,True,4\r
-1015158173,Broccoli Cheese Soup,1,,,1972879238,-1573812073:-957949759:-117339838:-266993023:-2042103798,False,True,4\r
12170609,Cherry Pie,1,,,1972879238,148543530:925796718:-266993023,False,False,5\r
-1289628495,Roast Potato,1,,,1972879238,44541785,False,True,3\r
1551533879,Turkey,1,,,-1706154991,-1506824829:380220741,True,False,0\r
-361249036,Christmas Rush,6,,,,,False,False,6\r
878396172,Christmas Crackers,1,1551533879,,,303858729,False,True,4\r
1398180456,Turkey - Cranberry Sauce,1,1551533879,,,735786885:-2133205155,False,False,2\r
-1460640973,Turkey - Gravy,1,1551533879,,,-2042103798:-957949759:-266993023,False,False,2\r
-1243742384,Turkey - Stuffing,1,1551533879,,,-2042103798:925796718:-266993023,False,False,2\r
-1273613313,Lucky Gift,6,,,,,False,False,6\r
-1742801708,Bamboo,1,,,1972879238,-2092567672:-266993023:-957949759,False,True,3\r
-437161441,Bamboo Stir Fry,1,-1653221873,,,-1201769154:314862254:-2092567672:-452101383:380220741:-1573812073:-957949759:-266993023,False,False,1\r
-1759612454,Dumpling - Soy Sauce,1,367917843,,,-471813067,False,False,2\r
367917843,Dumplings,1,,,1972879238:-523839730:2087693779,925796718:-484165118:-452101383:380220741,True,False,0\r
137627410,Seaweed,1,367917843,,,595306349,False,False,2\r
1696424557,Mandarin Starter,1,,,,-1210117767,False,True,4\r
1642878331,Mushroom Stir Fry,1,-1653221873,,,-1097889139:-1573812073:-452101383:380220741:-1201769154:314862254,False,False,1\r
1064343768,Stir Fry - Soy Sauce,1,-1653221873,,,-471813067,False,False,2\r
-2106646073,Couples,6,,,,,False,False,6\r
2028238661,Double Dates,0,-2106646073,,,,False,False,6\r
587399881,First Dates,0,-2106646073,,,,False,False,6\r
251686519,Double Brew,0,746549422,,,,False,False,6\r
2079359756,Slow Brew Coffee,1,746549422:16318784,,,,False,False,6\r
1103885337,Cake Stand,1,16318784:16318784,,,143484231,False,False,2\r
16318784,Black Coffee,1,,,-1316622579,-1609758240,False,False,0\r
-740215310,Extra Milk,1,16318784,,,120342736,False,False,2\r
-696561631,Extra Sugar,1,16318784,,,-2133205155,False,False,2\r
2133632711,Iced Coffee,1,16318784,,-1316622579,-1609758240:801015432,False,False,2\r
-141282934,Latte,1,16318784,,-1316622579:510796221,-1609758240:120342736,False,False,2\r
1398671754,Tea,1,16318784,,,-1598460622:1377093570:-762638188:-266993023,False,False,2\r
1316998108,Sponge Cake,1,1113735761,,,-660310536:961148621:925796718:120342736:-217313684:-2133205155,False,False,5\r
1609120418,Brownies,1,1113735761,,,783588616:-2135982034:961148621:925796718:-217313684:-2133205155,False,False,5\r
-810134986,Cake Flavour - Coffee,1,1113735761,,-1316622579,-1609758240,False,False,5\r
-1693098895,Cake Flavour - Lemon,1,1113735761,,2087693779,1470180731,False,False,5\r
627241196,Cupcake,1,1113735761,,,-315287689:961148621:925796718:120342736:-217313684:-2133205155,False,False,5\r
-1166412657,Doughnut,1,1113735761,,,2136474391:961148621:925796718:120342736:-217313684:-2133205155:-1963699221:-957949759,False,False,5\r
1113735761,Cakes,0,,,-1706154991:-523839730:1972879238,-1723125645:961148621:925796718:-217313684:-2133205155:783588616,False,False,0\r
-1501485763,Spaghetti Bolognese,1,1764920765,,1972879238:2087693779,-1541798751:-182748008:-266993023:-957949759:380220741:-712909563,True,False,1\r
803049136,Lasagne,1,-1501485763:1651927267,,-1706154991:1972879238:-523839730,-2077197906:-1541798751:-215543585:120342736:925796718:-957949759:380220741:-712909563:-1339944542,True,False,1\r
1651927267,Cheesy Spaghetti,1,1764920765,,1972879238:2087693779,925796718:-182748008:-266993023:-957949759:380220741:120342736:-215543585:-117339838,True,False,1\r
2055765569,Double Helpings,0,-347199069,,,,False,False,6\r
-347199069,All You Can Eat,0,,,,,False,False,6\r
233335391,Personalised Waiting,0,,,,,False,False,6\r
-1815978981,Closing Time?,0,,,,,False,False,6\r
-287956430,Leisurely Eating,0,,,,,False,False,6\r
220354841,Sedate Atmosphere,0,,,,,False,False,6\r
-37551439,Dinner Rush,0,,1958825350,,,False,False,6\r
-2112255403,Flexible Dining,0,-1183014556,,,,False,False,6\r
-1747821833,Individual Dining,0,,-1183014556,,,False,False,6\r
-523195599,Large Groups,0,-1183014556,,,,False,False,6\r
-1183014556,Medium Groups,0,,-1747821833,,,False,False,6\r
165138001,Photographic Memory,0,,,,,False,False,6\r
-28708234,Empathy,0,,,,,False,False,6\r
-1617744928,Blindfolded Chefs,0,,,,,False,False,6\r
1530184692,Instant Service,0,,746549422,,,False,False,6\r
113582858,Discounts,0,,,,,False,False,6\r
-913531466,Victorian Standards,0,,,,,False,False,6\r
-53330922,Lunch Rush,0,,1958825350,,,False,False,6\r
-491994319,Splash Zone,0,,,,,False,False,6\r
1151685289,Relaxed Atmosphere,0,,,,,False,False,6\r
73387665,Advertising,0,1765310572,,,,False,False,6\r
1765310572,Advertising,0,,,,,False,False,6\r
2079763934,Morning Rush,0,,1958825350,,,False,False,6\r
1914014233,Simplicity,0,,,,,False,False,6\r
-534291083,High Expectations,0,,,,,False,False,6\r
-957080051,High Standards,0,,1356267749,,,False,False,6\r
1103452725,High Quality,0,,,,,False,False,6\r
-1857686620,Affordable,3,,,,,False,False,6\r
1293847744,Charming,3,,,,,False,False,6\r
-1323758054,Exclusive,3,,,,,False,False,6\r
-1641333859,Formal,3,,,,,False,False,6\r
409052852,Variety,5,,319209671:16318784,,,False,False,6\r
-1205203705,Careful Accounting,5,,,,,False,False,6\r
-947047181,Mandatory Tips,5,,,,,False,False,6\r
1298492736,Grabber,5,,,,,False,False,6\r
1173444265,Wash Basin,5,,,,,False,False,6\r
-1096314451,Savings,5,,,,,False,False,6\r
2022427578,Reincarnation,5,,,,,False,False,6\r
-401283600,Preparation Time,5,,,,,False,False,6\r
-357483693,Double Homework,5,,,,,False,False,6\r
868780472,Catalogue,5,,,,,False,False,6\r
-1418317596,Coupons,5,,,,,False,False,6\r
-98765415,Supplier Error,5,,,,,False,False,6\r
1618418478,Bootstrapping,5,,,,,False,False,6\r
1543829883,Second Helpings,5,,,,,False,False,6\r
-1010143518,Loyal Customer,5,,,,,False,False,6\r
-1269806478,High Tech Suppliers,5,,,,,False,False,6\r
1818403570,Conveyors,5,,,,,False,False,6\r
-1121427945,Coffee Tables,5,,,,,False,False,6\r
1101419251,Floor Protectors,5,,,,,False,False,6\r
-220105135,Flower Pots,5,,,,,False,False,6\r
-178381693,Metal Table,5,,,,,False,False,6\r
-373772933,Simple Cloth Table,5,,,,,False,False,6`,Q=`-959076098,Steak,1,1972879238,-484165118:380220741,True,False,0\r
1356267749,Salad,1,2087693779,1193867305:-712909563:380220741,True,False,0\r
550743424,Pizza,1,2087693779:-1706154991:-523839730,925796718:-1963699221:-117339838:-712909563:380220741,True,False,0\r
367917843,Dumplings,1,1972879238:-523839730:2087693779,925796718:-484165118:-452101383:380220741,True,False,0\r
-1778969928,Burgers,1,1972879238,759552160:380220741:385684499,True,False,0\r
1551533879,Turkey,1,-1706154991,-1506824829:380220741,True,False,0\r
-133939790,Pies,1,-1706154991:-523839730,925796718:-484165118:-266993023:380220741,True,False,0\r
1743900205,Fish,1,1972879238,-609358791:380220741:-1735137431,True,False,0\r
1626323920,Hot Dogs,1,1972879238,-1132411297:380220741:1799769627:-965827229,True,False,0\r
-2075899,Breakfast,1,-523839730:-1706154991,380220741:925796718,True,False,0\r
-1653221873,Stir Fry,1,2087693779:1972879238,-452101383:-1573812073:380220741:-1201769154:314862254,True,False,0\r
16318784,Black Coffee,1,-1316622579,-1609758240,False,False,0\r
1113735761,Cakes,0,-1706154991:-523839730:1972879238,-1723125645:961148621:925796718:-217313684:-2133205155:783588616,False,False,0\r
1764920765,Spaghetti,1,1972879238:2087693779,-182748008:-266993023:-957949759:380220741:-712909563,True,False,0\r
`;const U=j.split(`\r
`).filter(e=>e).map(e=>{var y,v;const[a,l,s,r,F,o,u,t,n,i]=e.split(","),c=Number(a),g=Number(s),f=r!=null&&r.length?r.split(":").map(C=>Number(C)):[],B=F.length?F.split(":").map(C=>Number(C)):[],S=o!=null&&o.length?(y=o==null?void 0:o.split(":"))==null?void 0:y.map(C=>Number(C)):[],x=u!=null&&u.length?(v=u==null?void 0:u.split(":"))==null?void 0:v.map(C=>Number(C)):[],z=t==="True",b=n==="True",p=Number(i);return{ID:c,Name:l,UnlockGroup:g,Requires:f,BlockedBy:B,RequiredProcesses:S,IngredientProviders:x,isMain:z,isStarterOrSide:b,DishType:p}});function R(e,a=!0){const l=a&&e.some(s=>s.Name==="Community");return U.filter(s=>{if(e.some(r=>r.ID===s.ID)||s.BlockedBy.some(r=>e.some(F=>F.ID===r))||s.Requires.some(r=>!e.some(F=>F.ID===r)))return!1;if(s.isStarterOrSide)if(e.some(r=>r.isMain)){if(e.length&&e[0].DishType===T.Dessert)debugger}else return!1;return!(!l&&s.DishType===T.Base)}).sort((s,r)=>s.ID-r.ID)}const J=[...[{ID:447437163,Name:"Country",UnlockGroup:h.Special,Requires:[],BlockedBy:[],RequiredProcesses:[],IngredientProviders:[],isMain:!1,isStarterOrSide:!1,DishType:T.Null},{ID:2002876295,Name:"City",UnlockGroup:h.Special,Requires:[],BlockedBy:[],RequiredProcesses:[],IngredientProviders:[],isMain:!1,isStarterOrSide:!1,DishType:T.Null},{ID:-1864906012,Name:"Alpine",UnlockGroup:h.Special,Requires:[],BlockedBy:[],RequiredProcesses:[],IngredientProviders:[],isMain:!1,isStarterOrSide:!1,DishType:T.Null},U.filter(e=>e.Name==="Community")[0],{ID:1766067755,Name:"Romantic",UnlockGroup:h.Special,Requires:[],BlockedBy:[],RequiredProcesses:[],IngredientProviders:[],isMain:!1,isStarterOrSide:!1,DishType:T.Null},{ID:1958825350,Name:"Turbo",UnlockGroup:h.Special,Requires:[],BlockedBy:[],RequiredProcesses:[],IngredientProviders:[],isMain:!1,isStarterOrSide:!1,DishType:T.Null}]].sort((e,a)=>e.Name<a.Name?-1:1);["Breakfast","Burgers","Hot Dogs","Fish","Pies","Salad","Stir Fry","Pizza","Turkey"].map(e=>U.filter(a=>a.Name===e)[0]);const Z=Q.split(`\r
`).filter(e=>e).map(e=>{var x,z;const[a,l,s,r,F,o,u,t]=e.split(","),n=Number(a),i=Number(s),c=r!=null&&r.length?(x=r==null?void 0:r.split(":"))==null?void 0:x.map(b=>Number(b)):[],g=F!=null&&F.length?(z=F==null?void 0:F.split(":"))==null?void 0:z.map(b=>Number(b)):[],f=o==="True",B=u==="True",S=Number(t);return{ID:n,Name:l,UnlockGroup:i,Requires:[],BlockedBy:[],RequiredProcesses:c,IngredientProviders:g,isMain:f,isStarterOrSide:B,DishType:S}}).sort((e,a)=>e.Name<a.Name?-1:1);class I{constructor(a,l){d(this,"fixedSeed");d(this,"instance");d(this,"random");typeof a=="string"&&(a=ee(a)),this.fixedSeed=a,this.instance=l,this.random=new X(a+Math.imul(124192293,l))}useSubcontext(a){return new I(this.fixedSeed,124192293*a+this.instance)}}class X{constructor(a){d(this,"seed");const l=u=>Math.imul(1812433253,u)+1>>0,s=a>>0,r=l(s),F=l(r),o=l(F);this.seed=[s,r,F,o]}get value(){let a=this.seed.shift(),l=this.seed[2];return a^=a<<11,a^=a>>>8,l^=l>>>19,l=(l^a)>>0,this.seed.push(l),l}range(a,l){return(this.value>>>0)%(l-a)+a}get valueFloat(){return(this.value<<9>>>0)/4294967295}select(a){return a[this.range(0,a.length)]}}function ee(e){const l=new TextEncoder().encode(e);let s=5381,r=l.length;for(;r>0;){let F=--r;s=(s<<5)+s+l[F]}return s>>0}class L{constructor(){d(this,"encourageGroups",[h.Special])}GetOptions(a,l,s){const r=s.random;let F=0;for(l!==15&&(F=this.getPad(a,l));F--;)r.value;let o=this.sortCandidates(a,l,s.random);const[u,t]=this.getUnlockGroups(l);let n=null,i=null;for(const c of o)if(!(c.UnlockGroup!==u&&c.UnlockGroup!==t)&&(n===null||n.UnlockGroup!==u&&c.UnlockGroup===u?n=c:(i===null||i.UnlockGroup!==t&&c.UnlockGroup===t)&&(i=c),n&&n.UnlockGroup===u&&i&&i.UnlockGroup===t))break;return[n,i]}getPad(a,l){if(l===15)return 0;let s=R(a).length+1;return l===5&&(s*=2),s}sortCandidates(a,l,s){let r=R(a),F=H(r,s);return s.valueFloat<.5&&F.sort((u,t)=>{let n=0;return A(u)&&n--,A(t)&&n++,n}),F}getUnlockGroups(a){return a===15?[h.Franchise,h.Franchise]:a===5?[h.PrimaryTheme,h.PrimaryTheme]:[h.Dish,h.Generic]}}class ae extends L{getPad(a,l){let s=R(a,!1).length+1;return l!==5&&(s*=2),s}sortCandidates(a,l,s){let r=R(a),F=H(r,s);return s.valueFloat<.1&&F.sort((t,n)=>{let i=0;return t.Requires.length&&i--,n.Requires.length&&i++,i}),F}}class se extends L{constructor(){super(...arguments);d(this,"ThanksgivingCards",["Turkey","Nut Roast"])}getPad(l,s){if(s===15)return 0;let r=R(l,!1).length+1;if(s===5){let F=R(l);r+=F.length+2}return r}sortCandidates(l,s,r){let F=s===5||s===15?R(l,!1):R(l),o=H(F,r);return r.valueFloat<.5&&o.sort((n,i)=>{let c=0;return A(n,!1)&&c--,A(i,!1)&&c++,c}),s!==5&&s!==15&&r.valueFloat<.25&&o.sort((i,c)=>{let g=0;return this.ThanksgivingCards.includes(i.Name)&&g++,this.ThanksgivingCards.includes(c.Name)&&g--,g}),o}getUnlockGroups(l){return l===15?[h.Franchise,h.Franchise]:l===5?[h.PrimaryTheme,h.PrimaryTheme]:[h.Dish,h.Dish]}}function H(e,a){return e.map(s=>[s,a.valueFloat]).sort((s,r)=>s[1]-r[1]).map(s=>s[0])}class le{constructor(a){d(this,"cards");d(this,"unlockPack");d(this,"seed");this.cards=[],this.unlockPack=new L,this.seed=a}addCard(a){if(a!==void 0){switch(a.Name){case"Community":this.unlockPack=new se;break;case"Turbo":this.unlockPack=new ae;break}this.cards.push(a)}}getUnlockOptions(a){const s=Fe(848292,a,this.seed).useSubcontext(1);return this.unlockPack.GetOptions(this.cards,a,s)}getCustomers(a,l=1){return[]}getGroupSizeRange(a){if(this.cards.some(F=>F.Name==="Community")){const F=Math.floor((a-1)/3);return[F+1,F+2]}let s=1,r=2;return this.cards.some(F=>F.Name==="Individual Dining")?[1,1]:(this.cards.some(F=>F.Name==="Medium Groups")&&(s++,r+=2),this.cards.some(F=>F.Name==="Large Groups")&&(s+=2,r+=4),this.cards.some(F=>F.Name==="Flexible Groups")&&(s--,r++),[s,r])}}function Fe(e,a,l){return new I(l,e*1231231+a)}function A(e,a=!0){return e.UnlockGroup===h.Special||e.DishType===T.Main||e.DishType===T.Extra?!0:a?!!e.Requires.length:!1}class re{constructor(a){d(this,"seed");d(this,"mapSize");this.seed=a,this.mapSize=this.getMapSize()}getMapSize(){const l=new I(this.seed,5078598).useSubcontext(0).random.range(0,4);let s;switch(l){case 0:s=2;break;case 1:s=1;break;case 2:s=3;break;case 3:s=4;break;default:throw new Error}return s}}var ne=`505496455,False,True,Heated Mixer,False,False,,2087693779:-523839730:1972879238,64,0,0,False,False\r
-1357906425,False,True,Conveyor Mixer,False,False,,2087693779:-523839730,64,0,0,False,False\r
-1440053805,False,True,Rapid Mixer,False,False,,2087693779:-523839730,64,0,0,False,False\r
1329097317,True,False,Mixer,False,False,,,64,0,0,False,False\r
-1013770159,True,False,Supplies,False,False,,,256,0,1,False,False\r
2127051779,False,True,Compactor Bin,False,False,,,256,0,0,False,False\r
-1632826946,False,True,Composter Bin,False,False,,,256,0,0,False,False\r
-1855909480,False,True,Expanded Bin,False,False,,,256,0,0,False,False\r
481495292,False,False,Starter Bin,False,False,,,256,0,0,False,False\r
1551609169,True,False,Bin,False,False,,,256,0,0,False,False\r
1286554202,True,False,Fire Extinguisher,False,False,,1972879238:-1706154991,256,0,0,False,False\r
1351951642,True,False,Floor Buffer,False,False,,,256,0,0,False,False\r
1765889988,True,False,Kitchen Floor Protector,False,False,,,264,0,0,False,False\r
-1495393751,False,True,Fast Mop,False,False,,,256,0,0,False,False\r
1776760557,False,True,Lasting Mop,False,False,,,256,0,0,False,False\r
-1993346570,True,False,Mop,False,False,,,256,0,0,False,False\r
-751458770,False,False,Robot Buffer,False,False,,,256,0,0,False,False\r
-1723340146,False,True,Robot Buffer,False,False,,,256,0,0,False,False\r
-2091039911,False,False,Robot Mop,False,False,,,256,0,0,False,False\r
-2147057861,False,True,Robot Mop,False,False,,,256,0,0,False,False\r
-1609758240,True,False,Coffee Machine,True,False,,,32,0,0,False,False\r
-17368064,False,False,,False,False,,,0,0,0,False,False\r
1973114260,True,False,Conveyor,False,False,,,64,0,0,False,False\r
-1906799936,True,False,Combiner,False,False,,,64,0,0,False,False\r
-331651461,False,True,Grabber - Rotating,False,False,,,64,0,0,False,False\r
-1238047163,False,True,Smart Grabber,False,False,,,64,0,0,False,False\r
-1029710921,False,True,Grabber,False,False,,,64,0,0,False,False\r
-1462602185,True,False,Portioner,False,False,,,64,0,0,False,False\r
459840623,False,False,Teleporter,False,False,,,64,0,0,False,False\r
-1248669347,True,False,Counter,False,False,,,1,0,0,False,False\r
1365340297,False,False,Kneading Counter,False,False,,,0,0,0,False,False\r
-1573577293,False,True,Workstation,False,False,,,32,0,0,False,False\r
620400448,True,False,Affordable Bin,False,False,,,2,2,0,False,False\r
1830133512,True,False,Gumball Machine,False,False,,,2,2,0,False,False\r
1724963734,True,False,Neon Sign,False,False,,,2,2,0,False,False\r
371247235,True,False,Neon Sign,False,False,,,2,2,0,False,False\r
230540973,True,False,Ceiling Light,False,False,,,2,2,0,False,False\r
-1472471467,True,False,Stock Picture,False,False,,,2,2,0,False,False\r
-2108088224,True,False,Dirty Floor Sign,False,False,,,2,2,0,False,False\r
1569358344,True,False,Barrel,False,False,,,2,4,0,False,False\r
-60168847,True,False,Bookcase,False,False,,,2,4,0,False,False\r
-1941237931,True,False,Dartboard,False,False,,,2,4,0,False,False\r
-441525746,True,False,Fireplace,False,False,,,2,4,0,False,False\r
591400026,True,False,Rug,False,False,,,2,4,0,False,False\r
-1628995120,True,False,Wall Light,False,False,,,2,4,0,False,False\r
-1380985631,False,False,Banner,False,False,,,8192,0,0,False,False\r
1797739089,False,False,Christmas Tree,False,False,,,8192,0,0,False,False\r
-4737636,False,False,Fairy Lights,False,False,,,8192,0,0,False,False\r
-13481890,True,False,Candelabra,False,False,,,2,1,0,False,False\r
1233091186,True,False,Chandelier,False,False,,,2,1,0,False,False\r
-1180623135,True,False,Precious Flower,False,False,,,2,1,0,False,False\r
642318074,True,False,Classical Globe,False,False,,,2,1,0,False,False\r
-1486785449,True,False,Painting,False,False,,,2,1,0,False,False\r
2076966627,True,False,Rug,False,False,,,2,1,0,False,False\r
-972644436,True,False,Statue,False,False,,,2,1,0,False,False\r
1551024733,True,False,Brand Mascot,False,False,,,2,8,0,False,False\r
-1339970600,True,False,Tidy Plant,False,False,,,2,8,0,False,False\r
908498444,True,False,Ceiling Light,False,False,,,2,8,0,False,False\r
744277037,True,False,Abstract Lamp,False,False,,,2,8,0,False,False\r
531866927,True,False,Vase,False,False,,,2,8,0,False,False\r
1220439284,True,False,Indoor fountain,False,False,,,2,8,0,False,False\r
668664567,True,False,Calm Painting,False,False,,,2,0,0,False,False\r
756364626,True,False,Plant,False,False,,,2,0,0,False,False\r
-648349801,False,False,Rug,False,False,,,2,0,0,False,False\r
-1506601664,False,False,Drink Tap,False,False,,,0,0,0,False,False\r
-2100580689,False,False,,False,False,,,0,0,0,False,False\r
532998682,True,False,Dumbwaiter,False,False,,,64,0,0,False,False\r
892856538,False,False,,False,False,,,0,0,0,False,False\r
-544237849,False,False,Beehive,False,False,,,0,0,0,False,False\r
188952245,False,False,,False,False,,,0,0,0,False,False\r
1921027834,True,False,Gas Limiter,False,False,,1972879238:-1706154991,32,0,0,False,False\r
-770041014,True,False,Gas Override,False,False,,1972879238:-1706154991,32,0,0,False,False\r
-1448690107,False,True,Danger Hob,False,False,,1972879238:-1706154991,32,0,0,False,False\r
1266458729,False,True,Safety Hob,False,False,,1972879238:-1706154991,32,0,0,False,False\r
1154757341,False,False,Starter Hob,False,False,,1972879238:-1706154991,32,0,0,False,False\r
862493270,True,False,Hob,False,False,,1972879238:-1706154991,33,0,0,False,False\r
-441141351,False,False,,False,False,,1972879238,32,0,0,False,False\r
805530854,False,False,,False,False,,1972879238,0,0,0,False,False\r
-60938940,False,False,Bookings Stand,False,False,,,0,0,0,False,False\r
-63118559,True,False,Hosting Stand,False,False,,,8,0,0,False,False\r
-1813414500,True,False,Display Stand,False,False,,,8,0,0,False,False\r
1630557157,False,False,,False,False,,,0,0,0,False,False\r
-1324288299,False,False,,False,False,,,0,0,0,False,False\r
-374077567,False,False,,False,False,,,0,0,0,False,False\r
147181555,False,False,,False,False,,,0,0,0,False,False\r
31731938,False,False,,False,False,,,0,0,0,False,False\r
1419995156,False,False,,False,False,,,0,0,0,False,False\r
34773971,False,False,,False,False,,,0,0,0,False,False\r
-1424385600,False,False,,False,False,,,0,0,0,False,False\r
377065033,False,False,,False,False,,,0,0,0,False,False\r
-483535085,False,False,,False,False,,,0,0,0,False,False\r
1553046198,False,False,,False,False,,,0,0,0,False,False\r
1063254979,False,False,,False,False,,,0,0,0,False,False\r
1732122842,False,False,,False,False,,,0,0,0,False,False\r
-1936421857,False,False,,False,False,,,0,0,0,False,False\r
2041631136,False,False,,False,False,,,0,0,0,False,False\r
949631021,False,False,,False,False,,,0,0,0,False,False\r
-571205127,True,False,Blueprint Cabinet,False,False,,,2560,0,0,True,False\r
-729493805,False,True,Copying Desk,False,False,,,512,0,0,False,False\r
-272437832,False,False,Discount Desk,False,False,,,512,0,0,False,False\r
1586911545,False,True,Discount Desk,False,False,,,512,0,0,False,False\r
1446975727,False,True,Blueprint Desk,False,False,,,512,0,0,False,False\r
1139247360,True,False,Research Desk,False,False,,,1536,0,0,True,False\r
238041352,True,False,Booking Desk,False,True,,,8,0,0,False,False\r
-1817838704,False,False,Extra Life,False,False,,,0,0,0,False,False\r
136867583,False,False,Fast Food Terminal,False,False,,,8,0,0,False,False\r
-246383526,False,True,Specials Terminal,False,False,,,8,0,0,False,False\r
-1610332021,True,False,Ordering Terminal,False,False,,,8,0,0,False,False\r
944301512,False,False,,False,False,,,0,0,0,False,False\r
-1311702572,False,True,Microwave,False,False,,1972879238:-1706154991,32,0,0,False,False\r
-1068749602,True,False,Oven,False,False,,1972879238:-1706154991,32,0,0,False,False\r
1147639502,False,False,Balloons,False,False,,,8192,0,0,False,False\r
-71664252,False,False,Birthday Banner,False,False,,,8192,0,0,False,False\r
-326328571,False,False,Piano,False,False,,,0,0,0,False,False\r
-905438738,True,False,Apples,True,False,,,288,0,0,False,False\r
1807525572,True,False,Beans,True,False,,,288,0,0,False,False\r
269523389,True,False,Meat,True,False,,,288,0,0,False,False\r
-1573812073,True,False,Broccoli,True,False,,,288,0,0,False,False\r
759552160,True,False,Burger Buns,True,False,,,288,0,0,False,False\r
385684499,False,False,Patties,False,False,,,288,0,0,False,False\r
-452101383,True,False,Carrots,True,False,,,288,0,0,False,False\r
-117339838,True,False,Cheese,True,False,,,288,0,0,False,False\r
961148621,True,False,Eggs,True,False,,,288,0,0,False,False\r
-1735137431,False,False,Fish,False,False,,,288,0,0,False,False\r
-609358791,False,False,Fish,False,False,,,288,0,0,False,False\r
925796718,True,False,Flour,True,False,,,288,0,0,False,False\r
-1132411297,True,False,Hot dog bun,True,False,,,288,0,0,False,False\r
1799769627,True,False,Hot Dogs,True,False,,,288,0,0,False,False\r
-1533430406,True,False,Ice Cream,True,False,,,288,0,0,False,False\r
-965827229,True,False,Extra Ketchup,True,False,-965827229,,8,0,0,False,True\r
1193867305,True,False,Lettuce,True,False,,,288,0,0,False,False\r
-484165118,True,False,Meat,True,False,,,288,0,0,False,False\r
-1097889139,True,False,Mushrooms,True,False,,,288,0,0,False,False\r
-117356585,True,False,Extra Mustard,True,False,-117356585,,8,0,0,False,True\r
1834063794,True,False,Nuts,True,False,,,288,0,0,False,False\r
-1963699221,True,False,Oil,True,False,,,288,0,0,False,False\r
-1434800013,True,False,Olives,True,False,,,288,0,0,False,False\r
-2042103798,True,False,Onion,True,False,,,288,0,0,False,False\r
44541785,True,False,Potato,True,False,,,288,0,0,False,False\r
-1201769154,True,False,Rice,True,False,,,288,0,0,False,False\r
-1507801323,True,False,Thick cut meat,True,False,,,288,0,0,False,False\r
1800865634,True,False,Thin cut meat,True,False,,,288,0,0,False,False\r
-712909563,True,False,Tomato,True,False,,,288,0,0,False,False\r
-1506824829,True,False,Turkey,True,False,,,288,0,0,False,False\r
-1353971407,True,False,Wine,True,False,,,288,0,0,False,False\r
-101564005,False,False,,False,False,,,0,0,0,False,False\r
-897970831,False,False,,False,False,,,0,0,0,False,False\r
-996680732,False,False,Counter,False,False,,,0,0,0,False,False\r
946079892,False,False,,False,False,,,0,0,0,False,False\r
1171429989,False,False,,False,False,,,0,0,0,False,False\r
161402590,False,False,,False,False,,,0,0,0,False,False\r
739504637,False,True,Auto Plater,False,False,,,256,0,0,False,False\r
1653145961,False,False,Dish Rack,False,False,,,0,0,0,False,False\r
434150763,True,False,Dish Rack,False,False,,,16,0,0,False,False\r
1270423542,False,False,,False,False,,,0,0,0,False,False\r
-1474018107,False,False,,False,False,,,0,0,0,False,False\r
380220741,False,False,Starter Plates,False,False,,,256,0,0,False,False\r
1313469794,True,False,Plates,False,False,,,256,0,0,True,False\r
-957949759,True,False,Pot Stack,False,False,-957949759,,32,0,0,False,False\r
235423916,True,False,Serving Boards,False,False,235423916,,256,0,0,False,False\r
314862254,True,False,Woks,False,False,314862254,,0,0,0,False,False\r
-1291027873,False,False,,False,False,,,0,0,0,False,False\r
-214921468,False,False,,False,False,,,0,0,0,False,False\r
-2135829561,False,False,,False,False,,,0,0,0,False,False\r
-372462424,False,False,,False,False,,,0,0,0,False,False\r
933445633,False,False,,False,False,,,0,0,0,False,False\r
-1555334152,False,False,,False,False,,,0,0,0,False,False\r
1980900762,False,False,,False,False,,,0,0,0,False,False\r
1855052205,False,False,,False,False,,,0,0,0,False,False\r
-68388422,False,False,,False,False,,,0,0,0,False,False\r
-1200192498,False,False,,False,False,,,0,0,0,False,False\r
-194750543,False,False,,False,False,,,0,0,0,False,False\r
1911132834,False,False,,False,False,,,0,0,0,False,False\r
1365126444,False,False,,False,False,,,0,0,0,False,False\r
-1265562836,False,False,,False,False,,,0,0,0,False,False\r
-2046940874,False,False,,False,False,,,0,0,0,False,False\r
-923570273,False,False,,False,False,,,0,0,0,False,False\r
-488268556,False,False,,False,False,,,0,0,0,False,False\r
-548432204,False,False,,False,False,,,0,0,0,False,False\r
-758567246,False,False,,False,False,,,0,0,0,False,False\r
532701855,False,False,,False,False,,,0,0,0,False,False\r
-1857890774,False,True,Freezer,False,False,,,4,0,0,False,False\r
-759808000,False,True,Frozen Prep Station,False,False,,,256,0,0,False,False\r
1656358740,True,False,Prep Station,False,False,,,256,0,0,False,False\r
-262439022,False,False,,False,False,,,0,0,0,False,False\r
1890408483,False,False,,False,False,,,0,0,0,False,False\r
639111696,True,False,Breadsticks,False,False,,,8,0,0,False,True\r
1358522063,True,False,Candle Box,False,False,,,8,0,0,False,True\r
221442949,True,False,Flower Pot,False,False,,,8,0,0,False,False\r
1528688658,True,False,Napkins,False,False,,,8,0,0,False,True\r
2080633647,True,False,Sharp Cutlery,False,False,,,8,0,0,False,True\r
446555792,True,False,"Specials" Menu,False,False,,,8,0,0,False,True\r
938247786,False,False,Chair,False,False,,,0,0,0,False,False\r
1648733244,True,False,Coffee Table,False,False,,,8,0,0,False,False\r
-1979922052,False,False,Chair,False,False,,,0,0,0,False,False\r
-3721951,False,True,Bar Table,False,False,,,8,0,0,False,False\r
-34659638,False,True,Table - Simple Cloth,False,False,,,8,0,0,False,False\r
-203679687,False,True,Metal Table,False,False,,,8,0,0,False,False\r
-2019409936,False,True,Table - Fancy Cloth,False,False,,,8,0,0,False,False\r
209074140,True,False,Dining Table,False,False,,,1,0,0,False,False\r
1738351766,True,False,Rolling Pin,False,False,,-523839730,256,0,0,False,False\r
624465484,True,False,Scrubbing Brush,False,False,,,256,0,0,False,False\r
2023704259,True,False,Sharp Knife,False,False,,2087693779,256,0,0,False,False\r
723626409,True,False,Trainers,False,False,,,256,0,0,False,False\r
1796077718,True,False,Wellies,False,False,,,256,0,0,False,False\r
230848637,True,False,Work Boots,False,False,,,256,0,0,False,False\r
1129858275,True,False,Tray Stand,False,False,,,256,0,0,False,False\r
-823922901,False,True,Dish Washer,False,False,,,16,0,0,False,False\r
-214126192,False,True,Wash Basin,False,False,,,16,0,0,False,False\r
1083874952,True,False,Sink,False,False,,,17,0,0,False,False\r
1467371088,False,True,Power Sink,False,False,,,16,0,0,False,False\r
1860904347,False,True,Soaking Sink,False,False,,,16,0,0,False,False\r
-266993023,False,False,Starter Sink,False,False,,,17,0,0,False,False\r
2073091578,False,False,,False,False,,,0,0,0,False,False\r
-469149429,False,False,,False,False,,,0,0,0,False,False\r
834743908,False,False,,False,False,,,0,0,0,False,False\r
951367272,False,False,,False,False,,,0,0,0,False,False\r
1771016910,False,False,,False,False,,,0,0,0,False,False\r
-2122624266,False,False,,False,False,,,0,0,0,False,False\r
-404095277,False,False,,False,False,,,0,0,0,False,False\r
-1949016360,False,False,,False,False,,,0,0,0,False,False\r
-581219245,False,False,,False,False,,,0,0,0,False,False\r
-148578487,False,False,,False,False,,,0,0,0,False,False\r
-1125517450,False,False,,False,False,,,0,0,0,False,False\r
-233558851,False,False,,False,False,,,0,0,0,False,False\r
-342718019,False,False,,False,False,,,0,0,0,False,False\r
174737401,False,False,,False,False,,,0,0,0,False,False\r
310022384,False,False,,False,False,,,0,0,0,False,False\r
-1425710426,False,False,,False,False,,,0,0,0,False,False\r
-1807971648,False,False,,False,False,,,0,0,0,False,False\r
268640447,False,False,,False,False,,,0,0,0,False,False\r
1199575543,False,False,,False,False,,,0,0,0,False,False\r
-1451048989,False,False,,False,False,,,0,0,0,False,False\r
-1820794030,False,False,,False,False,,,0,0,0,False,False\r
871235082,False,False,,False,False,,,0,0,0,False,False\r
387240739,False,False,,False,False,,,0,0,0,False,False\r
1159228054,False,False,Bin,False,False,,,0,0,0,False,False\r
-626547002,False,False,,False,False,,,0,0,0,False,False\r
359655899,False,False,,False,False,,,0,0,0,False,False\r
-232172209,False,False,,False,False,,,0,0,0,False,False\r
-1528441435,False,False,,False,False,,,0,0,0,False,False\r
564388954,False,False,,False,False,,,0,0,0,False,False\r
1363960331,False,False,,False,False,,,0,0,0,False,False\r
-760874610,False,False,,False,False,,,0,0,0,False,False\r
1823459359,False,False,,False,False,,,0,0,0,False,False\r
1659152562,False,False,,False,False,,,0,0,0,False,False\r
477050702,False,False,,False,False,,,0,0,0,False,False\r
1485375733,False,False,,False,False,,,0,0,0,False,False\r
-1114059052,False,False,,False,False,,,0,0,0,False,False\r
-62256073,False,False,,False,False,,,0,0,0,False,False\r
1636658728,False,False,,False,False,,,0,0,0,False,False\r
-1518462324,False,False,,False,False,,,0,0,0,False,False\r
-1260306608,False,False,,False,False,,,0,0,0,False,False\r
1425494045,False,False,,False,False,,,0,0,0,False,False\r
-1614041568,False,False,,False,False,,,0,0,0,False,False\r
-1051912790,False,False,,False,False,,,0,0,0,False,False\r
1010867759,False,False,,False,False,,,0,0,0,False,False\r
-720353319,False,False,,False,False,,,0,0,0,False,False\r
-1997868587,False,False,,False,False,,,0,0,0,False,False\r
-1920103064,False,False,,False,False,,,0,0,0,False,False\r
-1235624607,False,False,,False,False,,,0,0,0,False,False\r
-636342486,False,False,Cobwebs,False,False,,,8192,0,0,False,False\r
-1318523640,False,False,Ghost Statue,False,False,,,8192,0,0,False,False\r
-621580281,False,False,Pumpkin,False,False,,,8192,0,0,False,False\r
115181910,False,False,Skeleton,False,False,,,8192,0,0,False,False\r
976574457,True,False,Corn,True,False,,,288,0,0,False,False\r
235355384,False,False,Bananas,False,False,,,0,0,0,False,False\r
-699333907,False,False,Strawberries,False,False,,,0,0,0,False,False\r
-1055654549,True,False,Pumpkin,True,False,,,288,0,0,False,False\r
148543530,True,False,Cherries,True,False,,,288,0,0,False,False\r
-1382019219,False,False,,False,False,,,0,0,0,False,False\r
-1403625488,False,False,,False,False,,,0,0,0,False,False\r
-1673904972,False,False,,False,False,,,0,0,0,False,False\r
1752654754,False,False,,False,False,,,0,0,0,False,False\r
-1748395084,False,False,,False,False,,,0,0,0,False,False\r
303858729,True,False,Christmas Crackers,True,False,,,288,0,0,False,False\r
735786885,True,False,Cranberry,True,False,,,288,0,0,False,False\r
-2133205155,True,False,Sugar,True,False,,,288,0,0,False,False\r
-667884240,False,False,Conveyor,False,False,,,64,0,0,False,False\r
-697441390,False,False,,False,False,,,64,0,0,False,False\r
-349733673,False,False,Safety Hob,False,False,,1972879238:-1706154991,32,0,0,False,False\r
1836107598,False,False,Safety Hob,False,False,,1972879238:-1706154991,32,0,0,False,False\r
369884364,False,False,Safety Hob,False,False,,1972879238:-1706154991,32,0,0,False,False\r
-699013948,False,False,,False,False,,1972879238:-1706154991,32,0,0,False,False\r
555321421,False,False,Rabbit Poster,False,False,,,8192,0,0,False,False\r
-2084684446,False,False,Lantern,False,False,,,8192,0,0,False,False\r
-2092567672,True,False,Bamboo,True,False,,,288,0,0,False,False\r
595306349,True,False,Seaweed,True,False,,,288,0,0,False,False\r
-1210117767,True,False,Mandarins,True,False,,,288,0,0,False,False\r
-471813067,True,False,Extra Soy Sauce,True,False,-471813067,,8,0,0,False,True\r
-184765154,False,False,,False,False,,,0,0,0,False,False\r
-707206359,False,False,,False,False,,,0,0,0,False,False\r
1134699240,False,False,,False,False,,,0,0,0,False,False\r
-471643137,False,False,Flower Arch,False,False,,,8192,0,0,False,False\r
142298503,False,False,Friends Poster,False,False,,,2,0,0,False,False\r
-2001861712,False,False,Heart Balloons,False,False,,,8192,0,0,False,False\r
-1314508999,False,False,Heart Bunting,False,False,,,8192,0,0,False,False\r
785615801,False,False,Neon Sign,False,False,,,8192,0,0,False,False\r
645876063,False,False,,False,False,,,0,0,0,False,False\r
-916942203,False,False,,False,False,,,0,0,0,False,False\r
345407921,False,False,,False,False,,,0,0,0,False,False\r
-509190559,False,False,,False,False,,,0,0,0,False,False\r
1274763392,False,False,,False,False,,,0,0,0,False,False\r
965503721,False,False,,False,False,,,0,0,0,False,False\r
260380903,False,False,,False,False,,,0,0,0,False,False\r
-89571330,False,False,,False,False,,,0,0,0,False,False\r
2114150010,False,False,,False,False,,,0,0,0,False,False\r
143484231,True,False,Cupcake Stand,True,False,143484231,,8,0,0,False,False\r
801015432,True,False,Ice Dispenser,True,False,,,32,0,0,False,False\r
-557736569,True,False,Milk Steamer,True,False,,,32,0,0,False,False\r
120342736,True,False,Milk,True,False,,,288,0,0,False,False\r
-1598460622,True,False,Tea bags,True,False,,,288,0,0,False,False\r
1377093570,True,False,Tea cups,True,False,,,288,0,0,False,False\r
-762638188,True,False,Tea pots,True,False,,,288,0,0,False,False\r
-660310536,True,False,Cake Tin,True,False,,,256,0,0,False,False\r
-2135982034,True,False,Brownie Tray,True,False,,,256,0,0,False,False\r
-1723125645,True,False,Cookie Tray,True,False,,,256,0,0,False,False\r
-315287689,True,False,Cupcake Tray,True,False,,,256,0,0,False,False\r
2136474391,True,False,Doughnut Tray,True,False,,,256,0,0,False,False\r
783588616,False,False,Chocolate,False,False,,,0,0,0,False,False\r
1470180731,False,False,Lemon Tree,False,False,,,0,0,0,False,False\r
-217313684,True,False,Mixing Bowls,False,False,-217313684,,32,0,0,False,False\r
782648278,False,False,Cauldron,False,False,,1972879238:-1706154991,32,0,0,False,False\r
-1552572658,False,False,Candles,False,False,,,8192,0,0,False,False\r
-119593913,False,False,Pumpkin Stack,False,False,,,8192,0,0,False,False\r
-379172217,False,False,Witch Shelf,False,False,,,8192,0,0,False,False\r
-292467039,False,False,Enchanting Desk,False,False,,,1536,0,0,False,False\r
-1946127856,False,False,Ghostly Clipboard,False,False,,,0,0,0,False,False\r
1313278365,False,False,Ghostly Knife,False,False,,,0,0,0,False,False\r
689268680,False,False,Ghostly Rolling Pin,False,False,,,0,0,0,False,False\r
-560953757,False,False,Ghost Scrubber,False,False,,,0,0,0,False,False\r
-1780646993,False,False,Illusion Wall,False,False,,,64,0,0,False,False\r
1150470926,False,False,Instant Wand,False,False,,,256,0,0,False,False\r
2044081363,False,False,Levitation Line,False,False,,,64,0,0,False,False\r
-1298525547,False,False,Levitation Spot,False,False,,,64,0,0,False,False\r
119166501,False,False,Levitation Station,False,False,,,0,0,0,False,False\r
-1992638820,False,False,Enchanted Broom,False,False,,,256,0,0,False,False\r
-877630314,False,False,Enchanted Broom,False,False,,,256,0,0,False,False\r
744482650,False,False,Magic Mirror,False,False,,,64,0,0,False,False\r
-1696198539,False,False,Magic Spring,False,False,,,0,0,0,False,False\r
-1835366879,False,False,,False,False,,,0,0,0,False,False\r
2031496644,False,False,,False,False,,,0,0,0,False,False\r
1391464545,False,False,,False,False,,,0,0,0,False,False\r
477535207,False,False,,False,False,,,0,0,0,False,False\r
923307040,False,False,,False,False,,,0,0,0,False,False\r
-1090855913,False,False,,False,False,,,0,0,0,False,False\r
50273892,False,False,,False,False,,,0,0,0,False,False\r
-70663877,False,False,,False,False,,,0,0,0,False,False\r
-2123542635,False,False,,False,False,,,0,0,0,False,False\r
423254987,False,False,Preserving Station,False,False,,,256,0,0,False,False\r
267288096,False,False,Magic Apple Tree,False,False,,,8,0,0,False,False\r
29164230,False,False,Pouch of Holding,False,False,,,256,0,0,False,False\r
540526865,False,False,Enchanted Plates,False,False,,,0,0,0,False,False\r
2000892639,False,False,Table - Stone,False,False,,,8,0,0,False,False\r
-1688921160,False,False,Table - Sharing Cauldron,False,False,,,8,0,0,False,False\r
1492264331,False,False,Vanishing Circle,False,False,,,0,0,0,False,False\r
-1541798751,True,False,Mince,True,False,-1541798751,,32,0,0,False,False\r
-2077197906,True,False,Pasta Sheet,True,False,-2077197906,,32,0,0,False,False\r
-1339944542,True,False,Lasagne Tray,True,False,-1339944542,,32,0,0,False,False\r
-215543585,True,False,Butter,True,False,-215543585,,32,0,0,False,False\r
-182748008,True,False,Spaghetti,True,False,-182748008,,32,0,0,False,False\r
-2070005162,True,False,Clipboard Stand,False,False,,,256,0,0,False,False\r
-872135723,False,False,,False,False,,,0,0,0,False,False\r
-1879606524,False,False,,False,False,,,0,0,0,False,False\r
-26827118,False,False,Upgrade Kit,False,False,,,0,0,0,False,False\r
-528942924,False,False,Layout Generator Button,False,False,,,0,0,0,False,False`;const te=["ID","IsPurchasable","IsPurchasableAsUpgrade","Name","SellOnlyAsDuplicate","SellOnlyAsUnique","RequiresForShop","RequiresProcessForShop","ShoppingTags","ThemeRequired","ShopRequirementFilter","StapleWhenMissing","AllowRefreshes"],ie=["number","boolean","boolean","string","boolean","boolean","number[]","number[]","number","number","number","boolean","boolean"],W=ne.split(`\r
`).map(e=>{const a=e.split(",");let l={};for(let s=0;s<a.length;s++){let r;switch(ie[s]){case"number":r=Number(a[s]);break;case"boolean":r=a[s]==="True";break;case"number[]":a[s]===""?r=[]:r=a[s].split(":").map(F=>Number(F));break;default:r=a[s]}l[te[s]]=r}return l});class oe{constructor(a){d(this,"Staple");d(this,"Tags");d(this,"StapleWhenMissing");d(this,"Appliance");d(this,"IsRemoved");d(this,"Filter");d(this,"DecorationRequired");d(this,"SellAsUpgrade");this.Appliance=a,this.Tags=a.ShoppingTags,this.DecorationRequired=a.ThemeRequired,this.SellAsUpgrade=a.IsPurchasableAsUpgrade,this.Filter=a.ShopRequirementFilter,this.StapleWhenMissing=a.StapleWhenMissing,this.Staple=0,this.IsRemoved=!1}MatchesRequestTags(a){return a&1?this.Staple!==0:a&this.Tags?this.Staple===0:!1}}var M=(e=>(e[e.NonStaple=0]="NonStaple",e[e.FixedStaple=1]="FixedStaple",e[e.BonusStaple=2]="BonusStaple",e[e.WhenMissing=3]="WhenMissing",e))(M||{}),D=(e=>(e[e.None=0]="None",e[e.Basic=1]="Basic",e[e.Decoration=2]="Decoration",e[e.Technology=4]="Technology",e[e.FrontOfHouse=8]="FrontOfHouse",e[e.Plumbing=16]="Plumbing",e[e.Cooking=32]="Cooking",e[e.Automation=64]="Automation",e[e.Christmas=128]="Christmas",e[e.Misc=256]="Misc",e[e.Office=512]="Office",e[e.BlueprintUpgrader=1024]="BlueprintUpgrader",e[e.BlueprintStore=2048]="BlueprintStore",e[e.Halloween=4096]="Halloween",e[e.SpecialEvent=8192]="SpecialEvent",e))(D||{});const K={DefaultShoppingTag:892};var V=(e=>(e[e.None=0]="None",e[e.RefreshableProvider=1]="RefreshableProvider",e))(V||{}),E=(e=>(e[e.Null=0]="Null",e[e.Exclusive=1]="Exclusive",e[e.Affordable=2]="Affordable",e[e.Charming=4]="Charming",e[e.Formal=8]="Formal",e[e.Kitchen=16]="Kitchen",e))(E||{}),ue="38";const ce=Number(ue);function ze(e,a){let l=e.length;for(;l-- >1;){let s=a.range(0,l+1);[e[l],e[s]]=[e[s],e[l]]}return e}const he=W.filter(e=>e.IsPurchasable||e.IsPurchasableAsUpgrade).length;class de{constructor(a,l=0){d(this,"seed");d(this,"mapSize");d(this,"numTiles");d(this,"baseUpgradeChance");d(this,"OwnedAppliances");d(this,"Cards");d(this,"Theme");this.seed=a,[this.mapSize,this.numTiles]=this.getLayoutInfo(),this.baseUpgradeChance=l,this.OwnedAppliances=[],this.Cards=[],this.Theme=E.Null}getLayoutInfo(){const l=new I(this.seed,5078598).useSubcontext(0).random.range(0,8);let s,r;switch(l){case 0:r=70,s=2;break;case 4:r=84,s=2;break;case 1:case 5:r=60,s=1;break;case 2:case 6:r=9*13,s=3;break;case 3:case 7:r=12*16,s=4;break;default:throw new Error}return[s,r]}handleNewCardSpawnEffects(a){a!==void 0&&a.UnlockGroup===h.PrimaryTheme&&(this.Theme=E[a.Name])}handleNewCardRerollEffects(a){a!==void 0&&(this.OwnedAppliances=this.OwnedAppliances.concat(a.IngredientProviders.flatMap(l=>W.filter(s=>s.ID===l))))}addCard(a){a!==void 0&&(this.handleNewCardSpawnEffects(a),this.handleNewCardRerollEffects(a),this.Cards.push(a))}getPrngAdvancements(a,l){let s=0;for(let r=0;r<a.length;r++){const F=a[r];let o=F.blueprintCount;l%5===0&&(o+=3,r===0&&(o+=2)),s+=o*(he-1+1),F.spawnInside||(s+=fe(F.playerInside,this.numTiles)),s+=ce}return s}buildShopOptions(a,l,s){let r=[];for(const o of W)if(!(!o.IsPurchasable&&!o.IsPurchasableAsUpgrade)){var F=new oe(o);if(F.Staple==M.NonStaple||F.Staple==M.WhenMissing){if((F.Tags&D.Basic)>D.None)F.Staple=M.FixedStaple;else if(F.StapleWhenMissing){const n=F.Appliance.Name;n!="Research Desk"&&n!="Blueprint Cabinet"&&n!="Plates"&&console.log(`Unexpected ${F.Appliance.Name} StapleWhenMissing Appliance`),a.some(i=>i.ID===F.Appliance.ID)?F.Staple=M.NonStaple:F.Staple=M.WhenMissing}}const t=F.Appliance;if(t.SellOnlyAsDuplicate)a.some(n=>n.ID===t.ID)||(F.IsRemoved=!0);else if(t.RequiresForShop.length>0){let n=!1;for(const i of t.RequiresForShop)a.some(c=>c.ID===i)&&(n=!0);F.IsRemoved=!n}else t.SellOnlyAsUnique&&(t.Name!="Booking Desk"&&console.log(`SellOnlyAsUnique: ${t.Name}, ${t.ID}`),a.some(n=>n.ID===t.ID)&&(F.IsRemoved=!0));(F.Appliance.Name==="Sink"||F.Appliance.Name==="Plates")&&s.every(n=>!n.isMain)&&(F.IsRemoved=!0),F.Filter==V.RefreshableProvider&&(a.some(n=>n.AllowRefreshes)||(F.IsRemoved=!0)),F.DecorationRequired!=E.Null&&F.DecorationRequired!=l&&(F.IsRemoved=!0),t.RequiresProcessForShop.length>0&&(t.RequiresProcessForShop.some(n=>s.some(i=>i.RequiredProcesses.includes(n)))||(F.IsRemoved=!0)),r.push(F)}return r}initRandom(a){return new I(this.seed,823828*1231231+a)}getAppliances(a,l){const s=a.length===1,r=this.buildShopOptions(this.OwnedAppliances,this.Theme,this.Cards),F=this.initRandom(l).random;let o=this.getPrngAdvancements(a.slice(0,a.length-1),l);for(;o--;)F.value;let u=a[a.length-1].blueprintCount,t;if(l%5==0){s?u=10:u+=3,t=[];for(let n=0;n<u;n++)t[n]=D.Decoration;if(s)for(const n of[1,2])t[t.length-n]=D.SpecialEvent}else if(a.length>1){t=[];for(let n=0;n<u;n++)t[n]=K.DefaultShoppingTag}else{const n=K.DefaultShoppingTag,i=Math.max(1,u),c=Math.max(0,Math.min(r.filter(f=>f.Staple!==M.NonStaple&&!f.IsRemoved).length,Math.max(2,4-Math.floor(l/5)),i)),g=Math.max(0,i-c);u=i,t=[];for(let f=0;f<c;f++)t[f]=D.Basic;for(let f=c;f<c+g;f++)t[f]=n}{const n=[...r],i=[],c=1-(1-Math.floor(l/5)*.1)*(1-this.baseUpgradeChance),g=[];for(let f=0;f<u;f++){const B=t[f],x=F.valueFloat<c;ze(n,F);for(let z=0;z<n.length;z++){const b=n[z];if(!b.IsRemoved&&!g.includes(b.Appliance)&&!!b.MatchesRequestTags(B)&&!(!x&&b.Staple==M.NonStaple&&b.SellAsUpgrade)){B!=D.Decoration&&g.push(b.Appliance),i[f]=b.Appliance;break}}i[f]==null&&console.log(`Wasn't able to find a valid roll for blueprint ${f}`)}return i}}}function fe(e,a){return e?a-2:a-1}console.log("a");const $="abcdefghijklmnopqrstuvwxyz123456789",me=self;console.log("scratchworker2"),console.log({prevLocalStorages:[]});let N=["azo5m58s","azrtmgk2","az8jt64i","azr2qxsq","azfig8y2","azjext4d","az885jm2","azafae8r","aznb292v","azxlxtif","az6eu138","azeo8nwt","az7ucfuy","azatjj6m","azyvrtsb","azh2z8sv","aztc95u6","azzwyvo8","azswz5i2","azs9887b","azhhjpyj","azwkr92m","azf98hkb","azc9w39e","azsrym64","aznv6sfu","az39yy8b","azj2q8qx","az79hyg6","azassup8","azro8vcs","az2qntz6","azso4frg","azywuqmh","azjhu8ex","aztzkfsd","azx1nz2z","azpb7vsy","azwvdpal","azwmonpj","azqi2pza","az7ooci6","azmhuj6r","azc1nfbq","azu9ul8g","azlbutzr","az4obb7v","azgd8ryz","azeto2at","azvom277","azdm341o","azf2mzng","azxiyjgq","azgd6t9o","azru9w99","azgtlv3b","az9jklg5","az8jxdjo","aze9acuw","az3rsmny","az3zdy2i","azfalh64","azmu25dj","azxqrl7b","az1ijfdm","aztsw61k","azf7567x","azpqwsgv","azhumqka","azeff1mb","azhrwv9l","azlra8eb","azxgdpf1","az93k1ng","azeyphj4","az8gikzj","azzadpol","azlt19ei","azmv7544","azpytju7","azkmeh84","azg76phd","azxjp6rm","azfr4g5s","az1loj58","aza2q2un","azql5wql","aze7ussz","azcqrox9","azh3m289","azh5q83m","azxc5b4j","azy8v6jg","az9v6li8","aziblz9y","azkybr7n","azyzajwv","azivynwg","azbpanhd","az91duf2","azgurkhj","azkwrg66","az1nxc7e","az4q4cku","azdltzvm","az5uli12","az3qshuf","azpeb4lh","az32xd9c","aze9wvzv","azgkviic","azdqnyp8","azjes2xe","az2ou4to","az3bb7ff","az2f2fc6","azi6nbbc","az2u9ldc","az5c94gr","azxjm2tm","az8awsjn","az1484yn","az5bqfal","aztfqu3t","azfhujha","aznc963x","az7633bb","azrte18y","aziuavxq","azsk9gqa","azch6xb7","azdgbaya","az9fc69s","azopgnzy","azpisudd","azs119ga","az3lena1","azmb3rn5","azmx1xh7","azfifhwj","azouiq4t","azxy3jx2","azd8rfeg","azqd7jyl","azgazji6","az7puta2","aztcor5c","az9c5ox5","azhla6r3","azxftkck","azxog92q","azzz81jt","az8q5ys5","azujyb3p","aztlimp7","az8xkhkf","azq9gjd5","azj4nu2n","az966jyx","azd62m4t","azf49shm","azh8ivio","azogvdq9","azrbkchi","azcxrgju","azeqznxw","azbrdc3o","azzfsgzn","aze9dx1x","azsp9h62","azztyhi3","az5y2y63","az8wydf5","az4x2qhd","azsgx5zl","azbywu5k","az1j1n3s","azy4ttsb","azywvcl7","azynk6c3","azswkyzc","az5wabmj","azeo68kf","azomdd1i","azr888tb","az98zmhy","azev6tm4","azx2qt1e","azk7wpxj","azp44e6k","azi139fh","az6aeel9","azqwj9ye","azpcyhc1","azmbgida","aze5uq12","az37qj6k","azigizf6","azztsd7h","azd4njpi","az5whweb","azqeagyh","azcosfon","azirdwmj","azxjffac","azz6o8lt","azjv28cp","azmjec57","azsri8gf","az5eb8h9","azb2wvfp","azu325ed","azmp7jzl","az21lpmg","azo96dk3","azu6zhiy","azx74wws","aza3tpza","az9x9qwi","azhuysqq","az9c8bf6","azu9jayz","az5jd4sy","azsghxyh","az7z64dx","azpzodus","azdrjtxf","az9dowjb","azr6j496","azdrpsj3","aza7n1qe","azz7vtgr","azaihsba","azbhc32e","azj4tab6","az5vrzk8","az3g2bpi","azkpyhd9","azoi9fs4","aznc2o67","azkhj4mz","azeerz2p","azpbwefl","azpyj2sd","az43mwab","az5zrx29","azyhdgkh","az68ni7g","azaidxfk","az8zgtyy","az1o6z8p","azurbm8n","azyveg4d","azcjz6c8","azo7tn3r","az68qkmp","az1bcsh9","azli3ms3","azmf7anh","az4583vq","azvpac8g","azembmkq","az3rib4a","azp5xx2y","az13ykvz","azexmtxa","azqhj1on","azkfus17","azf1dlcd","azprck6d","azwvfocb","azmf17fz","azlgs6i3","azgoqtw2","az8ink9g","azhg4wdp","azx2f71x","az1xl7mg","azy6lq3q","azhu1u8l","azacdenh","azr2vmi7","azszse6u","azbo2i1j","az6qrp87","az2x9xnk","azmdhwp8","azfytss9","azoulikg","azv6icpr","azdi1dxb","azujed63","azaqn14r","azria9r6","azbqltkz","azg4rvmd","azcsy3cd","azn4yzf4","az4hzbpo","az14z8a1","az1wqbnp","azwf84zs","az1jgq5h","azl2aajx","az9e69cb","az1z499j","az3enexa","azqmmzoz","aztkqzyj","az7dxjt4","azk4t5g7","azzjqvuq","azloqpya","azlg2ke4","az2sp9vf","azq8g4w3","az6mq91j","azvt4u5x","az44nikl","az849m1u","azhk4zub","az84fm5u","az6poep2","azy6kjly","azgulqz9","azzy4swo","azuo7k9j","aznarlrs","azb9gtti","azp6xhei","az3oc2dk","az43o8s3","azlnycl2","azync7nn","az8n5pfi","az66525l","azxbnwv1","azc9k4sb","azn6n3gf","azjy8j7y","azdo7pjw","azb82281","azywr2xm","azfpsuwh","az922p1d","azcfeeor","azk4zfmh","azgc3u4h","azr4nzq5","az8k453g","azxoackt","azfextje","az4pplms","azojhltr","az4b4w1i","azz44bua","azvqerq1","azt7a3d5","azu5gj71","azdzyjlr","azo1pz4f","azgsxpc4","azzpqxju","az1nwuh3","azgjkgxz","az83qf5x","az36rbh1","azjm4qao","azswuax5","azavkq48","azc3q7sg","azf5mshn","azq7m5gq","az56m1fu","azo6eqsu","azxiue7p","azdl3qie","az7eii65","azdlmchr","az6r5sfu","azhqwdoz","azlglwv9","az7jakst","az62np5b","azvf9ijq","azbgpgzk","azn4mjb2","azswubzq","azpr61za","azwrjm6u","azg69pjl","az6kmqfa","azceeulq","azlz9xyp","azpc56yh","az8rtu2p","azzkump7","az2gtfjb","azgnnw5u","azenctxy","azajudzj","azvgtyha","az5nk7ek","azw1v875","azue8mu3","az8qwayn","azn8ahbs","az3h2m61","azza4dam","azh5ot7z","azpwi8ku","az5thuc5","aznn81iv","azjhckta","aztaohnl","azpxnugq","az7yx6h3","azk7245m","azniwfde","azmxk6tt","az8z9wvn","azr5hbna","az26rrpz","az77ywm2","azjnttct","azqcfxl6","az2f89ct","az2how1f","azi8jrv3","azmiwj2y","azezxle8","azp8n9pd","az5nsa1z","azxszsw3","az5j83za","azwcwa1c","azhirvyy","azvf1nx9","azccyg79","azog3ndj","azyyc88i","azb5gb2c","azr5r3f3","aze2xxik","azopbb3o","az7oncc5","azbfn6nw","az29xzez","azj4hsj6","az4ljmgg","azfindoe","azjgdz9x","azo6nqbz","azz69569","azaxqorf","az9qjwsl","azkg32oo","azmw6llt","az9iofkm"];me.onmessage=e=>{console.log("received message");const a=e.data;console.log({prevLocalStorages:a}),N=N.concat(a.flatMap(l=>JSON.parse(l).map(s=>s.seed))).sort(()=>Math.random()-.5);{const l={};N=N.filter(s=>l[s]?!1:(l[s]=!0,!0)).sort(()=>Math.random()-.5),console.log(JSON.stringify(N))}};function Te(){return N.length?N.shift():pe()}{const e={Burgers:-2,"Hot Dogs":-1,Breakfast:0,Steak:0,Salad:-1,Pizza:0,"Black Coffee":-2,Advertising:-1,"Closing Time?":-1},a=["Dumplings","Turkey - Stuffing","Apple Salad","Potato Salad"],l=["Large Groups"],s=J.filter(S=>S.Name==="Turbo")[0],r=[1,2,3,4,5,6,7,8,9,10,11,12,13,14],F=[12.375,16.2,21.9375,25.9875,30.375,42.12,48.195,54.675,71.82,80.325,89.3025,112.86,124.2,136.08,167.0625],o=[12,10,10,10,9,10,9,9,9,9,9,9,9,9,9];let u=1/0;const t=new le(""),n=new de("");n.addCard(s),t.addCard(s);const i=[{name:"Dumplings",r:2},{name:"Turkey",r:1},{name:"Spaghetti",r:1}].map(S=>({req:l.includes(S.name)?1:0,starter:!1,dessert:!1,reduction:S.r,excessGroups:F.slice(0,3).map((x,z)=>Math.ceil(x*.85**S.r)-o[z]).reduce((x,z)=>x+z,0)*0,cards:[s,Z.filter(x=>x.Name===S.name)[0]],averageGroupSize:1.5}));let c=1/0,g=Math.min(5,l.length),f=0,B=1;for(;u--;){f++,f>B&&(B*=2,console.log(`Tested ${f} seeds so far at ${new Date}`));const S=Te();if(new re(S).mapSize<3)continue;t.seed=S,n.seed=S;let z=[...i];for(let p=0;p<r.length;p++){const y=r[p],v=[],C={};for(;z.length;){const q=z.pop();t.cards=(q==null?void 0:q.cards)??[];const _=t.getUnlockOptions(y);for(const w of _){let P=y===5||y===15?0:1;if(y===7&&!t.cards.some(k=>k.Name==="Carrot Soup"||k.Name==="Broccoli Cheese Soup"||k.Name==="Meat Soup"))continue;const m={...q,cards:[...t.cards,w]};if(m.req+r.length-p<g)continue;switch(w.DishType){case T.Starter:if(m.starter=!0,!t.cards.some(k=>k.Name==="Ice Cream"||k.Name==="Cheese Board"))continue;break;case T.Dessert:m.dessert=!0;break;case T.Null:switch(w.Name){case"All You Can Eat":P++;break;case"Medium Groups":m.averageGroupSize+=1.5,P--;break;case"Large Groups":m.averageGroupSize+=2,P--;break;case"Individual Dining":continue;case"Double Helpings":case"Leisurely Eating":break;default:if(y!==5)continue;P--;break}break}a.includes(w.Name)&&P++,l.includes(w.Name)&&m.req++;const G=e[w.Name];if(G!==void 0&&(P=G,q.req===m.req))continue;m.reduction+=P;let ge=1+(m.starter?.25:0)+(m.dessert?.25:0);const ke=Math.min(30,r[p+1]??0);for(let k=y;k<ke;k++){if(m.req===l.length&&k===29)continue;const O=F[k]*.85**m.reduction/ge,be=Math.ceil(O/m.averageGroupSize),Se=Math.ceil(O*.15)*3,Y=be+Se,ye=Math.max(0,Y-k*(k-1)/2/10);m.excessGroups+=ye*Math.floor(m.averageGroupSize)/100,m.excessGroups+=(Y-o[k])**3}if(!(g===l.length&&m.excessGroups>Math.max(0,c))){{const k=[...t.cards,w].map(O=>O.Name).sort().join(",");C[k]||(C[k]=[]),C[k].push(v.length)}v.push(m)}}}{const q=[],_=Object.values(C);for(const w of _){if(w.length===1){q.push(v[w[0]]);continue}let P=1/0,m=-1;for(const G of w)v[G].excessGroups<P&&(m=G,P=v[G].excessGroups);if(m===-1)throw new Error;if(m>v.length-1)throw new Error;q.push(v[m])}z=q}}z=z.filter(p=>p.req>=g);let b=Math.max(...z.map(p=>p.req));if(z=z.filter(p=>p.req===b),z.sort((p,y)=>p.excessGroups-y.excessGroups),z.length){const p=z[0].excessGroups;if(p===0)debugger;{(b>g||p<=c)&&(c=p,g=b);const y={seed:S,b:z[0].cards.map(v=>v.Name).join(","),n:z.length,bestN:g,candMetric:p,bestMetric:c};z.length>1&&z.length<5&&(y.paths=z.map(v=>v.cards.map(C=>C.Name).join(","))),postMessage(y)}}}console.log("done!")}function pe(){let e="";for(;e.length<6;)e+=$[Math.floor(Math.random()*$.length)];return"az"+e}})();
