import{h as R,p as S,b as w,R as B,q as v,u as s,g as k,U as d,D as y}from"./jsxRuntime.module-6iCSpIbC.js";import{U as C}from"./UnlockSelect-vSdR-iaP.js";const p=(t,a)=>{const[l,o]=R(t);return S(()=>{const n=localStorage.getItem(a);n!==null&&o(JSON.parse(n))},[]),S(()=>{localStorage.getItem(a)!==null&&l===t||localStorage.setItem(a,JSON.stringify(l))},[l]),[l,o]},U=w.filter(t=>t.Name==="Cakes")[0],f=[],N=1;for(let t=0;t<N;t++)f.push(new Worker(new URL("/plateup-set-seed-tools/assets/seedSearchWorker-xH0_E7tH.js",import.meta.url),{type:"module"}));function g(t){for(const a of f)a.postMessage(t)}const E=[{include:!0,cards:[B.filter(t=>t.Name==="Turbo")[0],U]}],G=()=>{const[t,a]=p([],"SEED_SEARCHER_RESULTS"),[l,o]=R(!1);S(()=>{console.log("useEffect registering message done");const e=r=>{const c=r;switch(c.data.type){case"error":break;case"result":a(i=>(i.length>=100&&(g({type:"stop"}),o(!1)),[...i,c.data.data]));break}console.log({e:c})};for(const r of f)r.onmessage=e},[]);const n=[];for(let e=1;e<=14;e++)n.push(e);const D=()=>{l?(g({type:"stop"}),o(!1)):(g({type:"start",data:{mapSizes:[1],goalCards:u,goalAppliances:H}}),o(!0))},[u,T]=p(E,"SEED_SEARCHER_CARDS_BY_DAY"),m=e=>r=>{T(c=>{const i=[...c];return i[e]=r,i})},[h,b]=p([1,2,3,4],"SEED_SEARCHER_ALLOWED_TABLES"),A=[1,2,3,4],_=e=>()=>{h.includes(e)?b(h.filter(r=>r!==e)):b([...h,e])};return s("div",{class:"search-container",children:[s("div",{class:"search-config",children:[s("label",{children:"Starting Tables: "}),A.map(e=>{const r=e+"-table";return s(k,{children:[s("label",{for:r,children:e}),s("input",{id:r,type:"checkbox",onChange:_(e),checked:h.includes(e)})]})}),u!==E&&s(k,{children:[s(C,{onSelectionChange:m(0),showSelectionMode:!1,label:"Starting Cards",...u[0],unlockGroupFilter:[d.Dish,d.Special],dishTypeFilter:[y.Null,y.Base]}),n.map(e=>s(C,{onSelectionChange:m(e),label:"After Day "+e,...u[e]??{},unlockGroupFilter:e===5?[d.PrimaryTheme]:[d.Generic,d.Dish]}))]})]}),s("div",{class:"search-results",children:[s("button",{onClick:D,children:[l?"Stop":"Start"," Search"]}),s("div",{class:"results",children:[t.length?s("button",{onClick:()=>a([]),children:"Clear Previous Results"}):"",t.map(e=>s("div",{children:[e.seed,": ",s("div",{children:e.cards.join(", ")}),e.blueprints.map(r=>r.Name).join(", ")]}))]})]})]})};v(s(G,{}),document.getElementById("app"));const H=[];
