import{k as c,l as r,h as S,p as f,T as u}from"./main-CpO9Gw3m.js";const m=(n,e,l)=>{const o=c(n);return r(()=>{console.log("loading persistentsignal for:",{defaultState:n,ID:e});const s=localStorage.getItem(e);s===null||(o.value=JSON.parse(s))}),r(()=>{console.log("saving persistentsignal state"),localStorage.setItem(e,JSON.stringify(o.value))}),o},J=(n,e,l)=>{const[o,s]=S();f(()=>{const t=localStorage.getItem(e);t===null||s(l?l(JSON.parse(t)):JSON.parse(t))},[n,e]);const i=u(t=>{typeof t=="function"?s(g=>{const a=t(g??n);return localStorage.setItem(e,JSON.stringify(a)),a}):(s(t),localStorage.setItem(e,JSON.stringify(t)))},[e,s]);return[o??n,i]};export{m as a,J as u};
