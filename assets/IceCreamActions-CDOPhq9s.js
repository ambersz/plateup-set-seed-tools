import{u as r}from"./main-CpO9Gw3m.js";const f="VCS";function m(...o){let i=.5;const l=new Set(o).size;switch(o.length){case 2:switch(i/=9*8,l){case 1:i*=6*3/3;break;case 2:i*=9*6/3;break;default:throw new Error("Math is broken")}break;case 3:switch(i/=9*8*7,l){case 1:i*=6*3/3;break;case 2:i*=9*(6*4+2*6)/6;break;case 3:i*=9*6*3;break}break;default:throw new Error("wrong number of scoops")}return{name:o.map(c=>f[c]).sort((c,d)=>c<d?-1:1).join(""),scoops:o,p:i}}const x=()=>{const o=[];for(let t=2;t<=3;t++)for(let e=0;e<3;e++)for(let s=e;s<3;s++)if(t===3)for(let n=s;n<3;n++)o.push(m(e,s,n));else o.push(m(e,s));let i=0;function l(t,e){const s=t.scoops.length+e.scoops.length;let n=Math.max(...t.scoops),a=Math.max(...e.scoops.map(h=>(h-n+3)%3)),p=Math.max(...e.scoops),u=Math.max(...t.scoops.map(h=>(h-p+3)%3));return[n+a+s,p+u+s]}const c=o.reduce((t,e)=>t+e.p*(e.scoops.length+Math.max(...e.scoops)),0);function d(t){let e=1/0;for(let s=0;s<3;s++){const n=Math.max(...t.scoops.map(a=>(a-s+3)%3))+t.scoops.length;n<e&&(e=n)}return e}return r("div",{children:[r("div",{children:["Assumptions:",r("ul",{children:[r("li",{children:"One table"}),r("li",{children:"No display stands"})]})]}),r("div",{children:"Flavors are symmetric, so WLOG machine starts on Vanilla"}),r("table",{children:[r("thead",{children:[r("tr",{children:[r("th",{scope:"col"}),o.map(t=>r("th",{scope:"col",children:t.name}))]}),r("tr",{children:[r("th",{scope:"row",children:"Probability"}),o.map(t=>r("td",{children:[(t.p*100).toFixed(2),"%"]}))]})]}),r("tbody",{children:o.map(t=>{const e=[r("th",{scope:"row",children:t.name})];for(let s=0;s<o.length;s++){const n=l(t,o[s]),a=Math.min(...n);i+=a*t.p*o[s].p,e.push(r("td",{children:a}))}return r("tr",{children:e})})})]}),r("div",{children:["Expected optimal button presses to serve a solo ice cream order:"," ",c.toFixed(3)]}),r("div",{children:["Expected optimal button presses to serve a duo ice cream order:"," ",i.toFixed(3)]}),r("div",{children:["Average button presses for 2x solo groups:"," ",(c*2).toFixed(3)]}),r("div",{children:["Percent reduction in button presses for optimal duo vs 2 solos:"," ",((c*2-i)/c/2*100).toFixed(3),"%"]}),r("div",{children:["Theoretical minimum button presses per customer if ~Inf tables & all orders taken at once:"," ",o.reduce((t,e)=>t+d(e)*e.p,0).toFixed(3)]}),r("div",{children:[" ","Theoretical minimum normalized to duos:"," ",(o.reduce((t,e)=>t+d(e)*e.p,0)*2).toFixed(3)]})]})};export{x as default};
