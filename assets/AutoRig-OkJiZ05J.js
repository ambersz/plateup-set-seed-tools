import{A as m,d as C}from"./branchingRerolls-IX5AQdZc.js";import{U as S}from"./UnlockSelect--l6U7Daw.js";import{T as v,_ as R,p as k,u as e}from"./main-Y3s85Cec.js";import{u as b}from"./usePersistentState-2MA2fGMc.js";import"./GhostBlueprints-WiZAQ83W.js";function w(i,l){i.postMessage(l)}const y={"Grabber - Rotating":["Grabber","Smart Grabber"],"Metal Table":["Dining Table"],"Power Sink":["Soaking Sink"],"Danger Hob":["Safety Hob"],Microwave:["Oven"],"Robot Buffer":["Floor Buffer"],"Copying Desk":["Research Desk","Discount Desk"]},A=({})=>{const[i,l]=b(C,"BRANCH_CONFIG",t=>{if(typeof t.simpleBPSettings=="boolean"){debugger;return{...t,simpleBPSettings:t.simpleBPSettings?"insideOnly":"full"}}return t}),[u,p]=b([[]],"RIG_TIERS"),[c,h]=b("","RIG_RESULT"),g=v(t=>{h(t.data)},[]),r=R();k(()=>{r.current===void 0&&(r.current=new Worker(new URL("/plateup-set-seed-tools/assets/autoRigWorker-wJXm8fxK.js",import.meta.url),{type:"module"})),r.current.onmessage=g},[]);function f(t){w(r.current,{config:i,tiers:t})}return e("div",{children:[e(D,{onConfigChange:l,config:i}),u.map((t,o)=>e(m,{shopModifiersOnly:!1,appliances:t,allowDupes:!0,onSelectionChange:n=>{p(a=>{const s=[...a];s.splice(o,1,n);let d=s.length;for(;d--&&!s[d].length;)s.pop();return s.push([]),s})}})),e("button",{onClick:()=>{const t=u.map(o=>{let n={};for(const s of o)n[s.Name]||(n[s.Name]=0),n[s.Name]++;let a=[];for(const[s,d]of Object.entries(n))a.push({goal:s,substitutes:y[s]??[],number:d});return a});f(t)},children:"Route Rig"}),e("div",{children:c.split(`
`).map(t=>e("div",{children:t}))})]})},D=({onConfigChange:i,config:l})=>{const{seed:u,blueprintCount:p,solo:c,cards:h,searchDepth:g,simpleBPSettings:r=!1}=l,f=o=>{let n={...l};o.target.checked?(n.blueprintCount=7,n.baseUpgradeChance=.25):(n.blueprintCount=5,n.baseUpgradeChance=0),i(n)},t=(o,n)=>{let a={...l};a[o]=n,i(a)};return e("div",{children:[e("div",{children:[e("div",{children:"Run Config:"}),e("label",{for:"solo",children:"Solo:"}),e("input",{type:"checkbox",id:"solo",checked:c,onChange:()=>{t("solo",!c)}}),e("span",{style:"margin:0 20px",children:[e("label",{for:"simpleRerollSettings",children:"Spawn setting configs: "}),e("select",{value:r===!0?"insideOnly":r===!1?"full":r,onChange:o=>{var n;t("simpleBPSettings",((n=o.target)==null?void 0:n.value)??"full")},children:[e("option",{value:"full",children:"All spawn settings"}),e("option",{value:"insideOnly",children:"Spawn Inside only"}),e("option",{value:"noSwitching",children:"Don't switch bp settings after spawn"})]})]}),e("div",{children:[e("label",{for:"searchDepth",children:"Number of Rerolls"})," ",e("input",{id:"searchDepth",type:"number",value:g,onChange:o=>{t("searchDepth",Number(o.target.value))}})]}),e("label",{for:"seed",value:u,children:["Seed:"," "]}),e("input",{type:"text",id:"seed",value:u,disabled:!0,onChange:o=>{t("seed",o.target.value)}}),e("label",{for:"setting",children:" Turbo?"}),e("input",{id:"setting",type:"checkbox",disabled:!0,checked:p===7,onChange:f})]}),e("div",{children:e(S,{id:"cardSchedule",onSelectionChange:()=>{},showSelectionMode:!1,cards:h,include:!0,modes:["themes","dishes","customerCards"]})})]})};export{A as default};
