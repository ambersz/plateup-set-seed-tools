var J=Object.defineProperty;var Z=(i,u,p)=>u in i?J(i,u,{enumerable:!0,configurable:!0,writable:!0,value:p}):i[u]=p;var f=(i,u,p)=>(Z(i,typeof u!="symbol"?u+"":u,p),p);(function(){"use strict";var i=(e=>(e[e.Generic=0]="Generic",e[e.Dish=1]="Dish",e[e.PrimaryTheme=3]="PrimaryTheme",e[e.SecondaryTheme=4]="SecondaryTheme",e[e.Franchise=5]="Franchise",e[e.Special=6]="Special",e))(i||{}),u=(e=>(e[e.Base=0]="Base",e[e.Main=1]="Main",e[e.Extra=2]="Extra",e[e.Side=3]="Side",e[e.Starter=4]="Starter",e[e.Dessert=5]="Dessert",e[e.Null=6]="Null",e))(u||{}),p=`373996608,Ice Cream,1,,,,-1533430406,False,False,5\r
-2075899,Breakfast,1,,,-523839730:-1706154991,380220741:925796718,True,False,0\r
-1199743580,Breakfast Beans,1,-2075899,,,1807525572:-957949759,False,False,2\r
1436814208,Breakfast Eggs,1,-2075899,,,961148621,False,False,2\r
-1998930853,Breakfast Extras,1,-2075899,,,-712909563:-1097889139,False,False,2\r
-1778969928,Burgers,1,,,1972879238,759552160:380220741:385684499,True,False,0\r
965292477,Cheeseburgers,1,-1778969928,,,759552160:380220741:385684499:-117339838,False,False,2\r
-1091625127,Fresh Patties,1,-1778969928,,,759552160:380220741:961148621:-484165118,False,False,2\r
1298035216,Burger Toppings,1,-1778969928,,,759552160:380220741:-712909563:385684499:-2042103798,False,False,2\r
1626323920,Hot Dogs,1,,,1972879238,-1132411297:380220741:1799769627:-965827229,True,False,0\r
-278713285,Hot Dog - Mustard,1,1626323920,,,-117356585,False,False,2\r
1743900205,Fish,1,,,1972879238,-609358791:380220741:-1735137431,True,False,0\r
-297968808,Crab Cake,1,1743900205,,2087693779:1972879238,380220741:925796718:961148621,True,False,1\r
243846255,Fish Selection,1,1442262270,,,-609358791,False,False,2\r
-243820179,Fish Selection,1,274986412,,,-609358791,False,False,2\r
1442262270,Fish Fillet,1,1743900205,,1972879238:2087693779,380220741,True,False,1\r
274986412,Oysters,1,1743900205,,2087693779,380220741,True,False,1\r
-643878280,Spiny Fish,1,1743900205,,2087693779,380220741,True,False,1\r
-211821608,Apple Pies,1,,,2087693779:1972879238:-523839730,925796718:-266993023:-905438738,False,False,5\r
-133939790,Pies,1,,,-1706154991:-523839730,925796718:-484165118:-266993023:380220741,True,False,0\r
-1992316049,Mushroom Pie,1,-133939790,,,-1097889139:925796718:-266993023,False,False,1\r
-1802123036,Vegetable Pies,1,-133939790,,,925796718:-266993023:-452101383:-1573812073,False,False,1\r
1570910782,Apple Salad,1,1356267749,,2087693779,1193867305:-712909563:380220741:-905438738:1834063794:-1963699221:961148621,True,False,1\r
1356267749,Salad,1,,,2087693779,1193867305:-712909563:380220741,True,False,0\r
-862637543,Potato Salad,1,1356267749,,2087693779:1972879238,-1963699221:961148621:44541785:-957949759:-2042103798:-266993023,True,False,1\r
372460604,Salad Toppings,1,1356267749,,,-1434800013:-2042103798,False,False,2\r
1384317454,Bone-in Steaks,1,-959076098,,1972879238,269523389,True,False,1\r
-959076098,Steak,1,,,1972879238,-484165118:380220741,True,False,0\r
-953651922,Steak Sauce - Mushroom,1,-959076098,,,-1097889139:-266993023:-2042103798:-957949759,False,False,2\r
2074054556,Steak Sauce - Red Wine Jus,1,-959076098,,,-957949759:-2042103798:-266993023:-1353971407,False,False,2\r
-1192928429,Steak Topping - Mushroom,1,-959076098,,,-1097889139,False,False,2\r
-851525606,Steak Topping - Tomato,1,-959076098,,,-712909563,False,False,2\r
1916300984,Thick Cut Steaks,1,-959076098,,1972879238,-1507801323,True,False,1\r
-1716993344,Thin Cut Steaks,1,-959076098,,1972879238,1800865634,True,False,1\r
-1653221873,Stir Fry,1,,,2087693779:1972879238,-452101383:-1573812073:380220741:-1201769154:314862254,True,False,0\r
-204178430,Steak Stir Fry,1,-1653221873,,,-1201769154:314862254:-484165118:-452101383:380220741:-1573812073,False,False,1\r
1380953991,Broccoli,1,,,1972879238,-1573812073:-957949759:-266993023,False,True,3\r
-520693398,Chips,1,,,1972879238:2087693779,44541785,False,True,3\r
364243605,Mashed Potato,1,,,1972879238:2087693779,-957949759:44541785:-266993023,False,True,3\r
2012685115,Carrot Soup,1,,,1972879238,-266993023:-2042103798:-452101383:-957949759,False,True,4\r
-997241706,Meat Soup,1,,,1972879238,-484165118:-2042103798:-957949759:-266993023,False,True,4\r
-233806503,Tomato Soup,1,,,1972879238:2087693779,-712909563:-2042103798:-957949759:-266993023,False,True,4\r
312770813,Cheese Board,1,,,2087693779,-905438738:235423916:-117339838:1834063794,False,False,5\r
550743424,Pizza,1,,,2087693779:-1706154991:-523839730,925796718:-1963699221:-117339838:-712909563:380220741,True,False,0\r
1434421325,Mushroom Pizza,1,550743424,,,925796718:-1963699221:-117339838:-712909563:380220741:-1097889139,False,False,2\r
-2071275506,Onion Pizza,1,550743424,,,-117339838:925796718:-2042103798:-1963699221:380220741:-712909563,False,False,2\r
-1745179096,Onion Rings,1,,,1972879238:2087693779,-2042103798:925796718,False,True,3\r
1642577536,Herd Mentality,0,,,,,False,False,6\r
-1737101581,Health and Safety,0,,,,,False,False,6\r
-2040314977,Picky Eaters,0,,,,,False,False,6\r
73422455,Tipping Culture,0,,,,,False,False,6\r
1168007081,Corn on the Cob,1,,,1972879238,976574457,False,True,3\r
400765800,Pumpkin Pies,1,,,2087693779:1972879238:-523839730,-1055654549:925796718,False,False,5\r
1393945424,Pumpkin Seed,1,,,1972879238,-1055654549,False,True,4\r
1984233383,Pumpkin Soup,1,,,1972879238,-266993023:-2042103798:-1055654549:-957949759,False,True,4\r
1838568431,Trick - Nasty Nightmares,6,,,,,False,False,6\r
61056284,Trick - Risky Reservations,6,,,,,False,False,6\r
2112990883,Trick - Freak Fires,6,,,,,False,False,6\r
-1477157706,Trick - Mysterious Messes,6,,,,,False,False,6\r
-209485820,Trick - Dark Deliberations,6,,,,,False,False,6\r
83673522,Trick - Spooky Solos,6,,,,,False,False,6\r
1139286658,Trick - Pyro Patrons,6,,,,,False,False,6\r
79859072,Trick - Cowardly Customers,6,,,,,False,False,6\r
-2123879305,Trick - Full of Friends,6,,,,,False,False,6\r
-1895806374,Trick - Grand Gesture,6,,,,,False,False,6\r
-1839415999,Trick - Spatial Scares,6,,,,,False,False,6\r
-269971294,Trick - Frightful Fluff,6,,,,,False,False,6\r
1892828942,Trick - Immortal Impatience,6,,,,,False,False,6\r
524188336,Trick - Foggy Food,6,,,,,False,False,6\r
797208634,Trick - Vanishing Valuables,6,,,,,False,False,6\r
561747534,Trick - Careful Conveyance,6,,,,,False,False,6\r
-1921275517,Trick - Tiring Times,6,,,,,False,False,6\r
319209671,Community,6,,,,,False,False,6\r
536093200,Nut Roast,1,1551533879,,2087693779:-1706154991,1834063794:380220741:-2042103798,True,False,1\r
-1405391769,Affogato,1,16318784:373996608,,,-1609758240:-1533430406,False,False,5\r
1847735819,Bread,1,,,1972879238,925796718:235423916,False,True,4\r
-1015158173,Broccoli Cheese Soup,1,,,1972879238,-1573812073:-957949759:-117339838:-266993023:-2042103798,False,True,4\r
12170609,Cherry Pie,1,,,1972879238,148543530:925796718:-266993023,False,False,5\r
-1289628495,Roast Potato,1,,,1972879238,44541785,False,True,3\r
1551533879,Turkey,1,,,-1706154991,-1506824829:380220741,True,False,0\r
-361249036,Christmas Rush,6,,,,,False,False,6\r
878396172,Christmas Crackers,1,1551533879,,,303858729,False,True,4\r
1398180456,Turkey - Cranberry Sauce,1,1551533879,,,735786885:-2133205155,False,False,2\r
-1460640973,Turkey - Gravy,1,1551533879,,,-2042103798:-957949759:-266993023,False,False,2\r
-1243742384,Turkey - Stuffing,1,1551533879,,,-2042103798:925796718:-266993023,False,False,2\r
-1273613313,Lucky Gift,6,,,,,False,False,6\r
-1742801708,Bamboo,1,,,1972879238,-2092567672:-266993023:-957949759,False,True,3\r
-437161441,Bamboo Stir Fry,1,-1653221873,,,-1201769154:314862254:-2092567672:-452101383:380220741:-1573812073:-957949759:-266993023,False,False,1\r
-1759612454,Dumpling - Soy Sauce,1,367917843,,,-471813067,False,False,2\r
367917843,Dumplings,1,,,1972879238:-523839730:2087693779,925796718:-484165118:-452101383:380220741,True,False,0\r
137627410,Seaweed,1,367917843,,,595306349,False,False,2\r
1696424557,Mandarin Starter,1,,,,-1210117767,False,True,4\r
1642878331,Mushroom Stir Fry,1,-1653221873,,,-1097889139:-1573812073:-452101383:380220741:-1201769154:314862254,False,False,1\r
1064343768,Stir Fry - Soy Sauce,1,-1653221873,,,-471813067,False,False,2\r
-2106646073,Couples,6,,,,,False,False,6\r
2028238661,Double Dates,0,-2106646073,,,,False,False,6\r
587399881,First Dates,0,-2106646073,,,,False,False,6\r
251686519,Double Brew,0,746549422,,,,False,False,6\r
2079359756,Slow Brew Coffee,1,746549422:16318784,,,,False,False,6\r
1103885337,Cake Stand,1,16318784:16318784,,,143484231,False,False,2\r
16318784,Black Coffee,1,,,-1316622579,-1609758240,False,False,0\r
-740215310,Extra Milk,1,16318784,,,120342736,False,False,2\r
-696561631,Extra Sugar,1,16318784,,,-2133205155,False,False,2\r
2133632711,Iced Coffee,1,16318784,,-1316622579,-1609758240:801015432,False,False,2\r
-141282934,Latte,1,16318784,,-1316622579:510796221,-1609758240:120342736,False,False,2\r
1398671754,Tea,1,16318784,,,-1598460622:1377093570:-762638188:-266993023,False,False,2\r
1316998108,Sponge Cake,1,1113735761,,,-660310536:961148621:925796718:120342736:-217313684:-2133205155,False,False,5\r
1609120418,Brownies,1,1113735761,,,783588616:-2135982034:961148621:925796718:-217313684:-2133205155,False,False,5\r
-810134986,Cake Flavour - Coffee,1,1113735761,,-1316622579,-1609758240,False,False,5\r
-1693098895,Cake Flavour - Lemon,1,1113735761,,2087693779,1470180731,False,False,5\r
627241196,Cupcake,1,1113735761,,,-315287689:961148621:925796718:120342736:-217313684:-2133205155,False,False,5\r
-1166412657,Doughnut,1,1113735761,,,2136474391:961148621:925796718:120342736:-217313684:-2133205155:-1963699221:-957949759,False,False,5\r
1113735761,Cakes,0,,,-1706154991:-523839730:1972879238,-1723125645:961148621:925796718:-217313684:-2133205155:783588616,False,False,0\r
-1501485763,Spaghetti Bolognese,1,1764920765,,1972879238:2087693779,-1541798751:-182748008:-266993023:-957949759:380220741:-712909563,True,False,1\r
803049136,Lasagne,1,-1501485763:1651927267,,-1706154991:1972879238:-523839730,-2077197906:-1541798751:-215543585:120342736:925796718:-957949759:380220741:-712909563:-1339944542,True,False,1\r
1651927267,Cheesy Spaghetti,1,1764920765,,1972879238:2087693779,925796718:-182748008:-266993023:-957949759:380220741:120342736:-215543585:-117339838,True,False,1\r
2055765569,Double Helpings,0,-347199069,,,,False,False,6\r
-347199069,All You Can Eat,0,,,,,False,False,6\r
233335391,Personalised Waiting,0,,,,,False,False,6\r
-1815978981,Closing Time?,0,,,,,False,False,6\r
-287956430,Leisurely Eating,0,,,,,False,False,6\r
220354841,Sedate Atmosphere,0,,,,,False,False,6\r
-37551439,Dinner Rush,0,,1958825350,,,False,False,6\r
-2112255403,Flexible Dining,0,-1183014556,,,,False,False,6\r
-1747821833,Individual Dining,0,,-1183014556,,,False,False,6\r
-523195599,Large Groups,0,-1183014556,,,,False,False,6\r
-1183014556,Medium Groups,0,,-1747821833,,,False,False,6\r
165138001,Photographic Memory,0,,,,,False,False,6\r
-28708234,Empathy,0,,,,,False,False,6\r
-1617744928,Blindfolded Chefs,0,,,,,False,False,6\r
1530184692,Instant Service,0,,746549422,,,False,False,6\r
113582858,Discounts,0,,,,,False,False,6\r
-913531466,Victorian Standards,0,,,,,False,False,6\r
-53330922,Lunch Rush,0,,1958825350,,,False,False,6\r
-491994319,Splash Zone,0,,,,,False,False,6\r
1151685289,Relaxed Atmosphere,0,,,,,False,False,6\r
73387665,Advertising,0,1765310572,,,,False,False,6\r
1765310572,Advertising,0,,,,,False,False,6\r
2079763934,Morning Rush,0,,1958825350,,,False,False,6\r
1914014233,Simplicity,0,,,,,False,False,6\r
-534291083,High Expectations,0,,,,,False,False,6\r
-957080051,High Standards,0,,1356267749,,,False,False,6\r
1103452725,High Quality,0,,,,,False,False,6\r
-1857686620,Affordable,3,,,,,False,False,6\r
1293847744,Charming,3,,,,,False,False,6\r
-1323758054,Exclusive,3,,,,,False,False,6\r
-1641333859,Formal,3,,,,,False,False,6\r
409052852,Variety,5,,319209671:16318784,,,False,False,6\r
-1205203705,Careful Accounting,5,,,,,False,False,6\r
-947047181,Mandatory Tips,5,,,,,False,False,6\r
1298492736,Grabber,5,,,,,False,False,6\r
1173444265,Wash Basin,5,,,,,False,False,6\r
-1096314451,Savings,5,,,,,False,False,6\r
2022427578,Reincarnation,5,,,,,False,False,6\r
-401283600,Preparation Time,5,,,,,False,False,6\r
-357483693,Double Homework,5,,,,,False,False,6\r
868780472,Catalogue,5,,,,,False,False,6\r
-1418317596,Coupons,5,,,,,False,False,6\r
-98765415,Supplier Error,5,,,,,False,False,6\r
1618418478,Bootstrapping,5,,,,,False,False,6\r
1543829883,Second Helpings,5,,,,,False,False,6\r
-1010143518,Loyal Customer,5,,,,,False,False,6\r
-1269806478,High Tech Suppliers,5,,,,,False,False,6\r
1818403570,Conveyors,5,,,,,False,False,6\r
-1121427945,Coffee Tables,5,,,,,False,False,6\r
1101419251,Floor Protectors,5,,,,,False,False,6\r
-220105135,Flower Pots,5,,,,,False,False,6\r
-178381693,Metal Table,5,,,,,False,False,6\r
-373772933,Simple Cloth Table,5,,,,,False,False,6`,I=`-959076098,Steak,1,1972879238,-484165118:380220741,True,False,0\r
1356267749,Salad,1,2087693779,1193867305:-712909563:380220741,True,False,0\r
550743424,Pizza,1,2087693779:-1706154991:-523839730,925796718:-1963699221:-117339838:-712909563:380220741,True,False,0\r
367917843,Dumplings,1,1972879238:-523839730:2087693779,925796718:-484165118:-452101383:380220741,True,False,0\r
-1778969928,Burgers,1,1972879238,759552160:380220741:385684499,True,False,0\r
1551533879,Turkey,1,-1706154991,-1506824829:380220741,True,False,0\r
-133939790,Pies,1,-1706154991:-523839730,925796718:-484165118:-266993023:380220741,True,False,0\r
1743900205,Fish,1,1972879238,-609358791:380220741:-1735137431,True,False,0\r
1626323920,Hot Dogs,1,1972879238,-1132411297:380220741:1799769627:-965827229,True,False,0\r
-2075899,Breakfast,1,-523839730:-1706154991,380220741:925796718,True,False,0\r
-1653221873,Stir Fry,1,2087693779:1972879238,-452101383:-1573812073:380220741:-1201769154:314862254,True,False,0\r
16318784,Black Coffee,1,-1316622579,-1609758240,False,False,0\r
1113735761,Cakes,0,-1706154991:-523839730:1972879238,-1723125645:961148621:925796718:-217313684:-2133205155:783588616,False,False,0\r
1764920765,Spaghetti,1,1972879238:2087693779,-182748008:-266993023:-957949759:380220741:-712909563,True,False,0\r
`;const b=p.split(`\r
`).filter(e=>e).map(e=>{var G,x;const[s,a,r,l,n,t,o,d,F,c]=e.split(","),h=Number(s),g=Number(r),B=l!=null&&l.length?l.split(":").map(k=>Number(k)):[],M=n.length?n.split(":").map(k=>Number(k)):[],v=t!=null&&t.length?(G=t==null?void 0:t.split(":"))==null?void 0:G.map(k=>Number(k)):[],C=o!=null&&o.length?(x=o==null?void 0:o.split(":"))==null?void 0:x.map(k=>Number(k)):[],P=d==="True",S=F==="True",j=Number(c);return{ID:h,Name:a,UnlockGroup:g,Requires:B,BlockedBy:M,RequiredProcesses:v,IngredientProviders:C,isMain:P,isStarterOrSide:S,DishType:j}});function m(e,s=!0){const a=s&&e.some(r=>r.Name==="Community");return b.filter(r=>{if(e.some(l=>l.ID===r.ID)||r.BlockedBy.some(l=>e.some(n=>n.ID===l))||r.Requires.some(l=>!e.some(n=>n.ID===l)))return!1;if(r.isStarterOrSide)if(e.some(l=>l.isMain)){if(e.length&&e[0].DishType===u.Dessert)debugger}else return!1;return!(!a&&r.DishType===u.Base)}).sort((r,l)=>r.ID-l.ID)}[{ID:447437163,Name:"Country",UnlockGroup:i.Special,Requires:[],BlockedBy:[],RequiredProcesses:[],IngredientProviders:[],isMain:!1,isStarterOrSide:!1,DishType:u.Null},{ID:2002876295,Name:"City",UnlockGroup:i.Special,Requires:[],BlockedBy:[],RequiredProcesses:[],IngredientProviders:[],isMain:!1,isStarterOrSide:!1,DishType:u.Null},{ID:-1864906012,Name:"Alpine",UnlockGroup:i.Special,Requires:[],BlockedBy:[],RequiredProcesses:[],IngredientProviders:[],isMain:!1,isStarterOrSide:!1,DishType:u.Null},b.filter(e=>e.Name==="Community")[0],{ID:1766067755,Name:"Romantic",UnlockGroup:i.Special,Requires:[],BlockedBy:[],RequiredProcesses:[],IngredientProviders:[],isMain:!1,isStarterOrSide:!1,DishType:u.Null},{ID:1958825350,Name:"Turbo",UnlockGroup:i.Special,Requires:[],BlockedBy:[],RequiredProcesses:[],IngredientProviders:[],isMain:!1,isStarterOrSide:!1,DishType:u.Null}].sort((e,s)=>e.Name<s.Name?-1:1),["Breakfast","Burgers","Hot Dogs","Fish","Pies","Salad","Stir Fry","Pizza","Turkey"].map(e=>b.filter(s=>s.Name===e)[0]),I.split(`\r
`).filter(e=>e).map(e=>{var C,P;const[s,a,r,l,n,t,o,d]=e.split(","),F=Number(s),c=Number(r),h=l!=null&&l.length?(C=l==null?void 0:l.split(":"))==null?void 0:C.map(S=>Number(S)):[],g=n!=null&&n.length?(P=n==null?void 0:n.split(":"))==null?void 0:P.map(S=>Number(S)):[],B=t==="True",M=o==="True",v=Number(d);return{ID:F,Name:a,UnlockGroup:c,Requires:[],BlockedBy:[],RequiredProcesses:h,IngredientProviders:g,isMain:B,isStarterOrSide:M,DishType:v}}).sort((e,s)=>e.Name<s.Name?-1:1);class T{constructor(s,a){f(this,"fixedSeed");f(this,"instance");f(this,"random");typeof s=="string"&&(s=U(s)),this.fixedSeed=s,this.instance=a,this.random=new E(s+Math.imul(124192293,a))}useSubcontext(s){return new T(this.fixedSeed,124192293*s+this.instance)}}class E{constructor(s){f(this,"seed");const a=o=>Math.imul(1812433253,o)+1>>0,r=s>>0,l=a(r),n=a(l),t=a(n);this.seed=[r,l,n,t]}get value(){let s=this.seed.shift(),a=this.seed[2];return s^=s<<11,s^=s>>>8,a^=a>>>19,a=(a^s)>>0,this.seed.push(a),a}range(s,a){return(this.value>>>0)%(a-s)+s}get valueFloat(){return(this.value<<9>>>0)/4294967295}select(s){return s[this.range(0,s.length)]}}function U(e){const a=new TextEncoder().encode(e);let r=5381,l=a.length;for(;l>0;){let n=--l;r=(r<<5)+r+a[n]}return r>>0}class N{constructor(){f(this,"encourageGroups",[i.Special])}GetOptions(s,a,r){const l=r.random;let n=0;for(a!==15&&(n=this.getPad(s,a));n--;)l.value;let t=this.sortCandidates(s,a,r.random);const[o,d]=this.getUnlockGroups(a);let F=null,c=null;for(const h of t)if(!(h.UnlockGroup!==o&&h.UnlockGroup!==d)&&(F===null||F.UnlockGroup!==o&&h.UnlockGroup===o?F=h:(c===null||c.UnlockGroup!==d&&h.UnlockGroup===d)&&(c=h),F&&F.UnlockGroup===o&&c&&c.UnlockGroup===d))break;return[F,c]}getPad(s,a){if(a===15)return 0;let r=m(s).length+1;return a===5&&(r*=2),r}sortCandidates(s,a,r){let l=m(s),n=D(l,r);return r.valueFloat<.5&&n.sort((o,d)=>{let F=0;return y(o)&&F--,y(d)&&F++,F}),n}getUnlockGroups(s){return s===15?[i.Franchise,i.Franchise]:s===5?[i.PrimaryTheme,i.PrimaryTheme]:[i.Dish,i.Generic]}}class q extends N{getPad(s,a){let r=m(s,!1).length+1;return a!==5&&(r*=2),r}sortCandidates(s,a,r){let l=m(s),n=D(l,r);return r.valueFloat<.1&&n.sort((d,F)=>{let c=0;return d.Requires.length&&c--,F.Requires.length&&c++,c}),n}}class z extends N{constructor(){super(...arguments);f(this,"ThanksgivingCards",["Turkey","Nut Roast"])}getPad(a,r){if(r===15)return 0;let l=m(a,!1).length+1;if(r===5){let n=m(a);l+=n.length+2}return l}sortCandidates(a,r,l){let n=r===5||r===15?m(a,!1):m(a),t=D(n,l);return l.valueFloat<.5&&t.sort((F,c)=>{let h=0;return y(F,!1)&&h--,y(c,!1)&&h++,h}),r!==5&&r!==15&&l.valueFloat<.25&&t.sort((c,h)=>{let g=0;return this.ThanksgivingCards.includes(c.Name)&&g++,this.ThanksgivingCards.includes(h.Name)&&g--,g}),t}getUnlockGroups(a){return a===15?[i.Franchise,i.Franchise]:a===5?[i.PrimaryTheme,i.PrimaryTheme]:[i.Dish,i.Dish]}}function D(e,s){return e.map(r=>[r,s.valueFloat]).sort((r,l)=>r[1]-l[1]).map(r=>r[0])}class O{constructor(s){f(this,"cards");f(this,"unlockPack");f(this,"seed");this.cards=[],this.unlockPack=new N,this.seed=s}addCard(s){if(s!==void 0){switch(s.Name){case"Community":this.unlockPack=new z;break;case"Turbo":this.unlockPack=new q;break}this.cards.push(s)}}getUnlockOptions(s){const r=A(848292,s,this.seed).useSubcontext(1);return this.unlockPack.GetOptions(this.cards,s,r)}getCustomers(s,a=1){return[]}getGroupSizeRange(s){if(this.cards.some(n=>n.Name==="Community")){const n=Math.floor((s-1)/3);return[n+1,n+2]}let r=1,l=2;return this.cards.some(n=>n.Name==="Individual Dining")?[1,1]:(this.cards.some(n=>n.Name==="Medium Groups")&&(r++,l+=2),this.cards.some(n=>n.Name==="Large Groups")&&(r+=2,l+=4),this.cards.some(n=>n.Name==="Flexible Groups")&&(r--,l++),[r,l])}}function A(e,s,a){return new T(a,e*1231231+s)}function y(e,s=!0){return e.UnlockGroup===i.Special||e.DishType===u.Main||e.DishType===u.Extra?!0:s?!!e.Requires.length:!1}const R="bdghjmqrtvwxy346789";function H(){let e="";for(;e.length<8;)e+=R[Math.floor(Math.random()*R.length)];return e}class L{constructor(s){f(this,"seed");f(this,"mapSize");this.seed=s,this.mapSize=this.getMapSize()}getMapSize(){const a=new T(this.seed,5078598).useSubcontext(0).random.range(0,4);let r;switch(a){case 0:r=2;break;case 1:r=1;break;case 2:r=3;break;case 3:r=4;break;default:throw new Error}return r}}const w=[3,5,6,9,12],V=self;V.onmessage=e=>{let s;switch(e.data.type){case"strict":s=W;break;case"flex":s=Y;break;default:throw new Error}const{allowedTables:a,startingDishes:r,mapSettings:l}=e.data.data,n=[...r],t=new O("");for(const o of l)t.addCard(o);for(;n.length;){const o=H(),d=new L(o).getMapSize();if(!a.includes(d))continue;t.seed=o;const F=Math.floor(Math.random()*n.length);t.cards=[...l,n[F]],s(t)&&(_({seed:o,mapSize:d,startingDish:n[F].Name}),n.splice(F,1))}};function _(e){Q({type:"result",data:e})}function Q(e){postMessage(e)}function W(e){let s=[e.cards];for(let a=0;a<5;a++){const r=new Set;let l=[];for(const n of s){e.cards=n;debugger;const t=e.getUnlockOptions(w[a]);if(r.add(t[0].Name),r.add(t[1].Name),r.size>2)return!1;l.push([...n,t[0]]),l.push([...n,t[1]])}s=l}return!0}function Y(e){let s=[e.cards];const a=new Set;for(let r=0;r<5;r++){let l=[];for(const n of s){e.cards=n;const t=e.getUnlockOptions(w[r]);if(a.add(t[0].Name),a.add(t[1].Name),a.size>10)return!1;l.push([...n,t[0]]),l.push([...n,t[1]])}s=l}return!0}})();
