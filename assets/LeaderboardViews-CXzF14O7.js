import{a as zr}from"./usePersistentState-C_hAWpJk.js";import{t as Dn,u as U,b as wt,o as Su,c as xt,g as st,L as Tu}from"./main-BTw1FnPV.js";var dn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function xu(e,t){if(Wt(e,t))return e[t];throw typeof e[t]=="function"&&Ou(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Iu(e,t,r){if(Wt(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Wt(e,t){return!zu(e)&&!Array.isArray(e)?!1:Gt(Pu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Ou(e,t){return e==null||typeof e[t]!="function"||Gt(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Gt(Ru,t)?!0:!(t in Object.prototype||t in Function.prototype)}function zu(e){return typeof e=="object"&&e&&e.constructor===Object}var Pu={length:!0,name:!0},Ru={toString:!0,valueOf:!0,toLocaleString:!0};class qu{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return xu(this.wrappedObject,t)}set(t,r){return Iu(this.wrappedObject,t,r),this}has(t){return Wt(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return $u(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Wt(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function $u(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function me(e){return typeof e=="number"}function _e(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Uu(e){return typeof e=="bigint"}function pn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function mn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function vn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function nt(e){return typeof e=="string"}var be=Array.isArray;function Se(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Yt(e){return Array.isArray(e)||Se(e)}function Lu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ku(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Zu(e){return e&&e.constructor.prototype.isRange===!0||!1}function yr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Vu(e){return typeof e=="boolean"}function ju(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Hu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Wu(e){return typeof e=="function"}function Yu(e){return e instanceof Date}function Gu(e){return e instanceof RegExp}function Er(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!pn(e)&&!mn(e))}function Ju(e){return e?e instanceof Map||e instanceof qu||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Xu(e){return e===null}function Ku(e){return e===void 0}function Qu(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ei(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function ti(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function ri(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function ni(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ui(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function ii(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function oi(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function ai(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function si(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function fi(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function ci(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function li(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function hi(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Di(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function di(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function pi(e){return e&&e.constructor.prototype.isChain===!0||!1}function ct(e){var t=typeof e;return t==="object"?e===null?"null":_e(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function Fe(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Fe(r)});if(e instanceof Date)return new Date(e.valueOf());if(_e(e))return e;if(Er(e))return mi(e,Fe);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function mi(e,t){var r={};for(var n in e)Gt(e,n)&&(r[n]=t(e[n]));return r}function bt(e,t){var r,n,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,u=e.length;n<u;n++)if(!bt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!bt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Gt(e,t){return e&&Object.hasOwnProperty.call(e,t)}function vi(e,t){for(var r={},n=0;n<t.length;n++){var u=t[n],i=e[u];i!==void 0&&(r[u]=i)}return r}var gi=["Matrix","Array"],Fi=["number","BigNumber","Fraction"],Pt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(dn)};Dn(Pt,dn,{MATRIX_OPTIONS:gi,NUMBER_OPTIONS:Fi});function Pr(){return!0}function je(){return!1}function yt(){}const Rr="Argument is not a typed-function.";function gn(){function e(m){return typeof m=="object"&&m!==null&&m.constructor===Object}const t=[{name:"number",test:function(m){return typeof m=="number"}},{name:"string",test:function(m){return typeof m=="string"}},{name:"boolean",test:function(m){return typeof m=="boolean"}},{name:"Function",test:function(m){return typeof m=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(m){return m instanceof Date}},{name:"RegExp",test:function(m){return m instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(m){return m===null}},{name:"undefined",test:function(m){return m===void 0}}],r={name:"any",test:Pr,isAny:!0};let n,u,i=0,o={createCount:0};function s(m){const E=n.get(m);if(E)return E;let N='Unknown type "'+m+'"';const x=m.toLowerCase();let P;for(P of u)if(P.toLowerCase()===x){N+='. Did you mean "'+P+'" ?';break}throw new TypeError(N)}function c(m){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=E?s(E).index:u.length,x=[];for(let O=0;O<m.length;++O){if(!m[O]||typeof m[O].name!="string"||typeof m[O].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Z=m[O].name;if(n.has(Z))throw new TypeError('Duplicate type name "'+Z+'"');x.push(Z),n.set(Z,{name:Z,test:m[O].test,isAny:m[O].isAny,index:N+O,conversionsTo:[]})}const P=u.slice(N);u=u.slice(0,N).concat(x).concat(P);for(let O=N+x.length;O<u.length;++O)n.get(u[O]).index=O}function l(){n=new Map,u=[],i=0,c([r],!1)}l(),c(t);function a(){let m;for(m of u)n.get(m).conversionsTo=[];i=0}function h(m){const E=u.filter(N=>{const x=n.get(N);return!x.isAny&&x.test(m)});return E.length?E:["any"]}function D(m){return m&&typeof m=="function"&&"_typedFunctionData"in m}function F(m,E,N){if(!D(m))throw new TypeError(Rr);const x=N&&N.exact,P=Array.isArray(E)?E.join(","):E,O=M(P),Z=v(O);if(!x||Z in m.signatures){const he=m._typedFunctionData.signatureMap.get(Z);if(he)return he}const q=O.length;let V;if(x){V=[];let he;for(he in m.signatures)V.push(m._typedFunctionData.signatureMap.get(he))}else V=m._typedFunctionData.signatures;for(let he=0;he<q;++he){const pe=O[he],Be=[];let qe;for(qe of V){const Re=B(qe.params,he);if(!(!Re||pe.restParam&&!Re.restParam)){if(!Re.hasAny){const Ye=g(Re);if(pe.types.some(Ge=>!Ye.has(Ge.name)))continue}Be.push(qe)}}if(V=Be,V.length===0)break}let R;for(R of V)if(R.params.length<=q)return R;throw new TypeError("Signature not found (signature: "+(m.name||"unnamed")+"("+v(O,", ")+"))")}function y(m,E,N){return F(m,E,N).implementation}function f(m,E){const N=s(E);if(N.test(m))return m;const x=N.conversionsTo;if(x.length===0)throw new Error("There are no conversions to "+E+" defined.");for(let P=0;P<x.length;P++)if(s(x[P].from).test(m))return x[P].convert(m);throw new Error("Cannot convert "+m+" to "+E)}function v(m){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return m.map(N=>N.name).join(E)}function w(m){const E=m.indexOf("...")===0,x=(E?m.length>3?m.slice(3):"any":m).split("|").map(q=>s(q.trim()));let P=!1,O=E?"...":"";return{types:x.map(function(q){return P=q.isAny||P,O+=q.name+"|",{name:q.name,typeIndex:q.index,test:q.test,isAny:q.isAny,conversion:null,conversionIndex:-1}}),name:O.slice(0,-1),hasAny:P,hasConversion:!1,restParam:E}}function b(m){const E=m.types.map(Z=>Z.name),N=ee(E);let x=m.hasAny,P=m.name;const O=N.map(function(Z){const q=s(Z.from);return x=q.isAny||x,P+="|"+Z.from,{name:Z.from,typeIndex:q.index,test:q.test,isAny:q.isAny,conversion:Z,conversionIndex:Z.index}});return{types:m.types.concat(O),name:P,hasAny:x,hasConversion:O.length>0,restParam:m.restParam}}function g(m){return m.typeSet||(m.typeSet=new Set,m.types.forEach(E=>m.typeSet.add(E.name))),m.typeSet}function M(m){const E=[];if(typeof m!="string")throw new TypeError("Signatures must be strings");const N=m.trim();if(N==="")return E;const x=N.split(",");for(let P=0;P<x.length;++P){const O=w(x[P].trim());if(O.restParam&&P!==x.length-1)throw new SyntaxError('Unexpected rest parameter "'+x[P]+'": only allowed for the last parameter');if(O.types.length===0)return null;E.push(O)}return E}function p(m){const E=ie(m);return E?E.restParam:!1}function d(m){if(!m||m.types.length===0)return Pr;if(m.types.length===1)return s(m.types[0].name).test;if(m.types.length===2){const E=s(m.types[0].name).test,N=s(m.types[1].name).test;return function(P){return E(P)||N(P)}}else{const E=m.types.map(function(N){return s(N.name).test});return function(x){for(let P=0;P<E.length;P++)if(E[P](x))return!0;return!1}}}function C(m){let E,N,x;if(p(m)){E=ue(m).map(d);const P=E.length,O=d(ie(m)),Z=function(q){for(let V=P;V<q.length;V++)if(!O(q[V]))return!1;return!0};return function(V){for(let R=0;R<E.length;R++)if(!E[R](V[R]))return!1;return Z(V)&&V.length>=P+1}}else return m.length===0?function(O){return O.length===0}:m.length===1?(N=d(m[0]),function(O){return N(O[0])&&O.length===1}):m.length===2?(N=d(m[0]),x=d(m[1]),function(O){return N(O[0])&&x(O[1])&&O.length===2}):(E=m.map(d),function(O){for(let Z=0;Z<E.length;Z++)if(!E[Z](O[Z]))return!1;return O.length===E.length})}function B(m,E){return E<m.length?m[E]:p(m)?ie(m):null}function A(m,E){const N=B(m,E);return N?g(N):new Set}function _(m){return m.conversion===null||m.conversion===void 0}function T(m,E){const N=new Set;return m.forEach(x=>{const P=A(x.params,E);let O;for(O of P)N.add(O)}),N.has("any")?["any"]:Array.from(N)}function I(m,E,N){let x,P;const O=m||"unnamed";let Z=N,q;for(q=0;q<E.length;q++){const pe=[];if(Z.forEach(Be=>{const qe=B(Be.params,q),Re=d(qe);(q<Be.params.length||p(Be.params))&&Re(E[q])&&pe.push(Be)}),pe.length===0){if(P=T(Z,q),P.length>0){const Be=h(E[q]);return x=new TypeError("Unexpected type of argument in function "+O+" (expected: "+P.join(" or ")+", actual: "+Be.join(" | ")+", index: "+q+")"),x.data={category:"wrongType",fn:O,index:q,actual:Be,expected:P},x}}else Z=pe}const V=Z.map(function(pe){return p(pe.params)?1/0:pe.params.length});if(E.length<Math.min.apply(null,V))return P=T(Z,q),x=new TypeError("Too few arguments in function "+O+" (expected: "+P.join(" or ")+", index: "+E.length+")"),x.data={category:"tooFewArgs",fn:O,index:E.length,expected:P},x;const R=Math.max.apply(null,V);if(E.length>R)return x=new TypeError("Too many arguments in function "+O+" (expected: "+R+", actual: "+E.length+")"),x.data={category:"tooManyArgs",fn:O,index:E.length,expectedLength:R},x;const he=[];for(let pe=0;pe<E.length;++pe)he.push(h(E[pe]).join("|"));return x=new TypeError('Arguments of type "'+he.join(", ")+'" do not match any of the defined signatures of function '+O+"."),x.data={category:"mismatch",actual:he},x}function k(m){let E=u.length+1;for(let N=0;N<m.types.length;N++)_(m.types[N])&&(E=Math.min(E,m.types[N].typeIndex));return E}function W(m){let E=i+1;for(let N=0;N<m.types.length;N++)_(m.types[N])||(E=Math.min(E,m.types[N].conversionIndex));return E}function H(m,E){if(m.hasAny){if(!E.hasAny)return 1}else if(E.hasAny)return-1;if(m.restParam){if(!E.restParam)return 1}else if(E.restParam)return-1;if(m.hasConversion){if(!E.hasConversion)return 1}else if(E.hasConversion)return-1;const N=k(m)-k(E);if(N<0)return-1;if(N>0)return 1;const x=W(m)-W(E);return x<0?-1:x>0?1:0}function $(m,E){const N=m.params,x=E.params,P=ie(N),O=ie(x),Z=p(N),q=p(x);if(Z&&P.hasAny){if(!q||!O.hasAny)return 1}else if(q&&O.hasAny)return-1;let V=0,R=0,he;for(he of N)he.hasAny&&++V,he.hasConversion&&++R;let pe=0,Be=0;for(he of x)he.hasAny&&++pe,he.hasConversion&&++Be;if(V!==pe)return V-pe;if(Z&&P.hasConversion){if(!q||!O.hasConversion)return 1}else if(q&&O.hasConversion)return-1;if(R!==Be)return R-Be;if(Z){if(!q)return 1}else if(q)return-1;const qe=(N.length-x.length)*(Z?-1:1);if(qe!==0)return qe;const Re=[];let Ye=0;for(let Ft=0;Ft<N.length;++Ft){const Rt=H(N[Ft],x[Ft]);Re.push(Rt),Ye+=Rt}if(Ye!==0)return Ye;let Ge;for(Ge of Re)if(Ge!==0)return Ge;return 0}function ee(m){if(m.length===0)return[];const E=m.map(s);m.length>1&&E.sort((P,O)=>P.index-O.index);let N=E[0].conversionsTo;if(m.length===1)return N;N=N.concat([]);const x=new Set(m);for(let P=1;P<E.length;++P){let O;for(O of E[P].conversionsTo)x.has(O.from)||(N.push(O),x.add(O.from))}return N}function Y(m,E){let N=E;if(m.some(P=>P.hasConversion)){const P=p(m),O=m.map(J);N=function(){const q=[],V=P?arguments.length-1:arguments.length;for(let R=0;R<V;R++)q[R]=O[R](arguments[R]);return P&&(q[V]=arguments[V].map(O[V])),E.apply(this,q)}}let x=N;if(p(m)){const P=m.length-1;x=function(){return N.apply(this,oe(arguments,0,P).concat([oe(arguments,P)]))}}return x}function J(m){let E,N,x,P;const O=[],Z=[];switch(m.types.forEach(function(q){q.conversion&&(O.push(s(q.conversion.from).test),Z.push(q.conversion.convert))}),Z.length){case 0:return function(V){return V};case 1:return E=O[0],x=Z[0],function(V){return E(V)?x(V):V};case 2:return E=O[0],N=O[1],x=Z[0],P=Z[1],function(V){return E(V)?x(V):N(V)?P(V):V};default:return function(V){for(let R=0;R<Z.length;R++)if(O[R](V))return Z[R](V);return V}}}function re(m){function E(N,x,P){if(x<N.length){const O=N[x];let Z=[];if(O.restParam){const q=O.types.filter(_);q.length<O.types.length&&Z.push({types:q,name:"..."+q.map(V=>V.name).join("|"),hasAny:q.some(V=>V.isAny),hasConversion:!1,restParam:!0}),Z.push(O)}else Z=O.types.map(function(q){return{types:[q],name:q.name,hasAny:q.isAny,hasConversion:q.conversion,restParam:!1}});return Ie(Z,function(q){return E(N,x+1,P.concat([q]))})}else return[P]}return E(m,0,[])}function fe(m,E){const N=Math.max(m.length,E.length);for(let q=0;q<N;q++){const V=A(m,q),R=A(E,q);let he=!1,pe;for(pe of R)if(V.has(pe)){he=!0;break}if(!he)return!1}const x=m.length,P=E.length,O=p(m),Z=p(E);return O?Z?x===P:P>=x:Z?x>=P:x===P}function ae(m){return m.map(E=>tt(E)?Ve(E.referToSelf.callback):et(E)?Te(E.referTo.references,E.referTo.callback):E)}function ce(m,E,N){const x=[];let P;for(P of m){let O=N[P];if(typeof O!="number")throw new TypeError('No definition for referenced signature "'+P+'"');if(O=E[O],typeof O!="function")return!1;x.push(O)}return x}function ye(m,E,N){const x=ae(m),P=new Array(x.length).fill(!1);let O=!0;for(;O;){O=!1;let Z=!0;for(let q=0;q<x.length;++q){if(P[q])continue;const V=x[q];if(tt(V))x[q]=V.referToSelf.callback(N),x[q].referToSelf=V.referToSelf,P[q]=!0,Z=!1;else if(et(V)){const R=ce(V.referTo.references,x,E);R?(x[q]=V.referTo.callback.apply(this,R),x[q].referTo=V.referTo,P[q]=!0,Z=!1):O=!0}}if(Z&&O)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return x}function ve(m){const E=/\bthis(\(|\.signatures\b)/;Object.keys(m).forEach(N=>{const x=m[N];if(E.test(x.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function j(m,E){if(o.createCount++,Object.keys(E).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&ve(E);const N=[],x=[],P={},O=[];let Z;for(Z in E){if(!Object.prototype.hasOwnProperty.call(E,Z))continue;const le=M(Z);if(!le)continue;N.forEach(function(Tt){if(fe(Tt,le))throw new TypeError('Conflicting signatures "'+v(Tt)+'" and "'+v(le)+'".')}),N.push(le);const $e=x.length;x.push(E[Z]);const Nu=le.map(b);let qt;for(qt of re(Nu)){const Tt=v(qt);O.push({params:qt,name:Tt,fn:$e}),qt.every(Mu=>!Mu.hasConversion)&&(P[Tt]=$e)}}O.sort($);const q=ye(x,P,St);let V;for(V in P)Object.prototype.hasOwnProperty.call(P,V)&&(P[V]=q[P[V]]);const R=[],he=new Map;for(V of O)he.has(V.name)||(V.fn=q[V.fn],R.push(V),he.set(V.name,V));const pe=R[0]&&R[0].params.length<=2&&!p(R[0].params),Be=R[1]&&R[1].params.length<=2&&!p(R[1].params),qe=R[2]&&R[2].params.length<=2&&!p(R[2].params),Re=R[3]&&R[3].params.length<=2&&!p(R[3].params),Ye=R[4]&&R[4].params.length<=2&&!p(R[4].params),Ge=R[5]&&R[5].params.length<=2&&!p(R[5].params),Ft=pe&&Be&&qe&&Re&&Ye&&Ge;for(let le=0;le<R.length;++le)R[le].test=C(R[le].params);const Rt=pe?d(R[0].params[0]):je,eu=Be?d(R[1].params[0]):je,tu=qe?d(R[2].params[0]):je,ru=Re?d(R[3].params[0]):je,nu=Ye?d(R[4].params[0]):je,uu=Ge?d(R[5].params[0]):je,iu=pe?d(R[0].params[1]):je,ou=Be?d(R[1].params[1]):je,au=qe?d(R[2].params[1]):je,su=Re?d(R[3].params[1]):je,fu=Ye?d(R[4].params[1]):je,cu=Ge?d(R[5].params[1]):je;for(let le=0;le<R.length;++le)R[le].implementation=Y(R[le].params,R[le].fn);const lu=pe?R[0].implementation:yt,hu=Be?R[1].implementation:yt,Du=qe?R[2].implementation:yt,du=Re?R[3].implementation:yt,pu=Ye?R[4].implementation:yt,mu=Ge?R[5].implementation:yt,vu=pe?R[0].params.length:-1,gu=Be?R[1].params.length:-1,Fu=qe?R[2].params.length:-1,wu=Re?R[3].params.length:-1,yu=Ye?R[4].params.length:-1,Eu=Ge?R[5].params.length:-1,Au=Ft?6:0,Cu=R.length,Bu=R.map(le=>le.test),bu=R.map(le=>le.implementation),_u=function(){for(let $e=Au;$e<Cu;$e++)if(Bu[$e](arguments))return bu[$e].apply(this,arguments);return o.onMismatch(m,arguments,R)};function St(le,$e){return arguments.length===vu&&Rt(le)&&iu($e)?lu.apply(this,arguments):arguments.length===gu&&eu(le)&&ou($e)?hu.apply(this,arguments):arguments.length===Fu&&tu(le)&&au($e)?Du.apply(this,arguments):arguments.length===wu&&ru(le)&&su($e)?du.apply(this,arguments):arguments.length===yu&&nu(le)&&fu($e)?pu.apply(this,arguments):arguments.length===Eu&&uu(le)&&cu($e)?mu.apply(this,arguments):_u.apply(this,arguments)}try{Object.defineProperty(St,"name",{value:m})}catch{}return St.signatures=P,St._typedFunctionData={signatures:R,signatureMap:he},St}function G(m,E,N){throw I(m,E,N)}function ue(m){return oe(m,0,m.length-1)}function ie(m){return m[m.length-1]}function oe(m,E,N){return Array.prototype.slice.call(m,E,N)}function Ze(m,E){for(let N=0;N<m.length;N++)if(E(m[N]))return m[N]}function Ie(m,E){return Array.prototype.concat.apply([],m.map(E))}function De(){const m=ue(arguments).map(N=>v(M(N))),E=ie(arguments);if(typeof E!="function")throw new TypeError("Callback function expected as last argument");return Te(m,E)}function Te(m,E){return{referTo:{references:m,callback:E}}}function Ve(m){if(typeof m!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:m}}}function et(m){return m&&typeof m.referTo=="object"&&Array.isArray(m.referTo.references)&&typeof m.referTo.callback=="function"}function tt(m){return m&&typeof m.referToSelf=="object"&&typeof m.referToSelf.callback=="function"}function vt(m,E){if(!m)return E;if(E&&E!==m){const N=new Error("Function names do not match (expected: "+m+", actual: "+E+")");throw N.data={actual:E,expected:m},N}return m}function gt(m){let E;for(const N in m)Object.prototype.hasOwnProperty.call(m,N)&&(D(m[N])||typeof m[N].signature=="string")&&(E=vt(E,m[N].name));return E}function sr(m,E){let N;for(N in E)if(Object.prototype.hasOwnProperty.call(E,N)){if(N in m&&E[N]!==m[N]){const x=new Error('Signature "'+N+'" is defined twice');throw x.data={signature:N,sourceFunction:E[N],destFunction:m[N]},x}m[N]=E[N]}}const Qn=o;o=function(m){const E=typeof m=="string",N=E?1:0;let x=E?m:"";const P={};for(let O=N;O<arguments.length;++O){const Z=arguments[O];let q={},V;if(typeof Z=="function"?(V=Z.name,typeof Z.signature=="string"?q[Z.signature]=Z:D(Z)&&(q=Z.signatures)):e(Z)&&(q=Z,E||(V=gt(Z))),Object.keys(q).length===0){const R=new TypeError("Argument to 'typed' at index "+O+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw R.data={index:O,argument:Z},R}E||(x=vt(x,V)),sr(P,q)}return j(x||"",P)},o.create=gn,o.createCount=Qn.createCount,o.onMismatch=G,o.throwMismatchError=G,o.createError=I,o.clear=l,o.clearConversions=a,o.addTypes=c,o._findType=s,o.referTo=De,o.referToSelf=Ve,o.convert=f,o.findSignature=F,o.find=y,o.isTypedFunction=D,o.warnAgainstDeprecatedThis=!0,o.addType=function(m,E){let N="any";E!==!1&&n.has("Object")&&(N="Object"),o.addTypes([m],N)};function Or(m){if(!m||typeof m.from!="string"||typeof m.to!="string"||typeof m.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(m.to===m.from)throw new SyntaxError('Illegal to define conversion from "'+m.from+'" to itself.')}return o.addConversion=function(m){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Or(m);const N=s(m.to),x=N.conversionsTo.find(P=>P.from===m.from);if(x)if(E&&E.override)o.removeConversion({from:x.from,to:m.to,convert:x.convert});else throw new Error('There is already a conversion from "'+m.from+'" to "'+N.name+'"');N.conversionsTo.push({from:m.from,convert:m.convert,index:i++})},o.addConversions=function(m,E){m.forEach(N=>o.addConversion(N,E))},o.removeConversion=function(m){Or(m);const E=s(m.to),N=Ze(E.conversionsTo,P=>P.from===m.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+m.from+" to "+m.to);if(N.convert!==m.convert)throw new Error("Conversion to remove does not match existing conversion");const x=E.conversionsTo.indexOf(N);E.conversionsTo.splice(x,1)},o.resolve=function(m,E){if(!D(m))throw new TypeError(Rr);const N=m._typedFunctionData.signatures;for(let x=0;x<N.length;++x)if(N[x].test(E))return N[x];return null},o}const Jt=gn();function se(e,t,r,n){function u(i){var o=vi(i,t.map(Ei));return wi(e,t,i),r(o)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),n&&(u.meta=n),u}function wi(e,t,r){var n=t.filter(i=>!yi(i)).every(i=>r[i]!==void 0);if(!n){var u=t.filter(i=>r[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function yi(e){return e&&e[0]==="?"}function Ei(e){return e&&e[0]==="?"?e.slice(1):e}function Me(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function fr(e,t,r){var n={2:"0b",8:"0o",16:"0x"},u=n[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Me(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Me(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),i="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(u).concat(e.toString(t)).concat(i)}function Dr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:u}=Fn(t);switch(r){case"fixed":return Ci(e,n);case"exponential":return wn(e,n);case"engineering":return Ai(e,n);case"bin":return fr(e,2,u);case"oct":return fr(e,8,u);case"hex":return fr(e,16,u);case"auto":return Bi(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],o=arguments[4];return i!=="."?i+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Fn(e){var t="auto",r,n;if(e!==void 0)if(me(e))r=e;else if(_e(e))r=e.toNumber();else if(Er(e))e.precision!==void 0&&(r=qr(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=qr(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function nr(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],u=parseFloat(t[4]||"0"),i=n.indexOf(".");u+=i!==-1?i-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return u-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),u++),{sign:r,coefficients:o,exponent:u}}function Ai(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nr(e),n=ur(r,t),u=n.exponent,i=n.coefficients,o=u%3===0?u:u<0?u-3-u%3:u-u%3;if(me(t))for(;t>i.length||u-o+1>i.length;)i.push(0);else for(var s=Math.abs(u-o)-(i.length-1),c=0;c<s;c++)i.push(0);for(var l=Math.abs(u-o),a=1;l>0;)a++,l--;var h=i.slice(a).join(""),D=me(t)&&h.length||h.match(/[1-9]/)?"."+h:"",F=i.slice(0,a).join("")+D+"e"+(u>=0?"+":"")+o.toString();return n.sign+F}function Ci(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nr(e),n=typeof t=="number"?ur(r,r.exponent+1+t):r,u=n.coefficients,i=n.exponent+1,o=i+(t||0);return u.length<o&&(u=u.concat(Bt(o-u.length))),i<0&&(u=Bt(-i+1).concat(u),i=1),i<u.length&&u.splice(i,0,i===0?"0.":"."),n.sign+u.join("")}function wn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nr(e),n=t?ur(r,t):r,u=n.coefficients,i=n.exponent;u.length<t&&(u=u.concat(Bt(t-u.length)));var o=u.shift();return n.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(i>=0?"+":"")+i}function Bi(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=$r(r==null?void 0:r.lowerExp,-3),u=$r(r==null?void 0:r.upperExp,5),i=nr(e),o=t?ur(i,t):i;if(o.exponent<n||o.exponent>=u)return wn(e,t);var s=o.coefficients,c=o.exponent;s.length<t&&(s=s.concat(Bt(t-s.length))),s=s.concat(Bt(c-s.length+1+(s.length<t?t-s.length:0))),s=Bt(-c).concat(s);var l=c>0?c:0;return l<s.length-1&&s.splice(l+1,0,"."),o.sign+s.join("")}function ur(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var u=n.splice(t,n.length-t);if(u[0]>=5){var i=t-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}}return r}function Bt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function bi(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Xt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function qr(e,t){if(me(e))return e;if(_e(e))return e.toNumber();t()}function $r(e,t){return me(e)?e:_e(e)?e.toNumber():t}var yn=function(){return yn=Jt.create,Jt},_i=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ni=se("typed",_i,function(t){var{BigNumber:r,Complex:n,DenseMatrix:u,Fraction:i}=t,o=yn();return o.clear(),o.addTypes([{name:"number",test:me},{name:"Complex",test:pn},{name:"BigNumber",test:_e},{name:"bigint",test:Uu},{name:"Fraction",test:mn},{name:"Unit",test:vn},{name:"identifier",test:s=>/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:nt},{name:"Chain",test:pi},{name:"Array",test:be},{name:"Matrix",test:Se},{name:"DenseMatrix",test:Lu},{name:"SparseMatrix",test:ku},{name:"Range",test:Zu},{name:"Index",test:yr},{name:"boolean",test:Vu},{name:"ResultSet",test:ju},{name:"Help",test:Hu},{name:"function",test:Wu},{name:"Date",test:Yu},{name:"RegExp",test:Gu},{name:"null",test:Xu},{name:"undefined",test:Ku},{name:"AccessorNode",test:Qu},{name:"ArrayNode",test:ei},{name:"AssignmentNode",test:ti},{name:"BlockNode",test:ri},{name:"ConditionalNode",test:ni},{name:"ConstantNode",test:ui},{name:"FunctionNode",test:oi},{name:"FunctionAssignmentNode",test:ii},{name:"IndexNode",test:ai},{name:"Node",test:si},{name:"ObjectNode",test:fi},{name:"OperatorNode",test:ci},{name:"ParenthesisNode",test:li},{name:"RangeNode",test:hi},{name:"RelationalNode",test:Di},{name:"SymbolNode",test:di},{name:"Map",test:Ju},{name:"Object",test:Er}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(r||$t(c),bi(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new r(c)}},{from:"number",to:"Complex",convert:function(c){return n||Ut(c),new n(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return n||Ut(c),new n(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return r||$t(c),new r(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return i||Lt(c),new i(c)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return n||Ut(c),new n(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){i||Lt(c);var l=new i(c);if(l.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(c){var l=Number(c);if(isNaN(l))throw new Error('Cannot convert "'+c+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(c){r||$t(c);try{return new r(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){i||Lt(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){n||Ut(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return r||$t(c),new r(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return i||Lt(c),new i(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return u||Mi(),new u(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),o.onMismatch=(s,c,l)=>{var a=o.createError(s,c,l);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&Yt(c[0])&&l.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=a.data,h}throw a},o.onMismatch=(s,c,l)=>{var a=o.createError(s,c,l);if(["wrongType","mismatch"].includes(a.data.category)&&c.length===1&&Yt(c[0])&&l.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=a.data,h}throw a},o});function $t(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Ut(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Mi(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Lt(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Ct=9e15,Dt=1e9,dr="0123456789abcdef",Kt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Qt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",pr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ct,maxE:Ct,crypto:!1},En,ut,te=!0,ir="[DecimalError] ",ht=ir+"Invalid argument: ",An=ir+"Precision limit exceeded",Cn=ir+"crypto unavailable",Bn="[object Decimal]",Pe=Math.floor,Ne=Math.pow,Si=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ti=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,xi=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,bn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xe=1e7,Q=7,Ii=9007199254740991,Oi=Kt.length-1,mr=Qt.length-1,z={toStringTag:Bn};z.absoluteValue=z.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),K(e)};z.ceil=function(){return K(new this.constructor(this),this.e+1,2)};z.clampedTo=z.clamp=function(e,t){var r,n=this,u=n.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(ht+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new u(n)};z.comparedTo=z.cmp=function(e){var t,r,n,u,i=this,o=i.d,s=(e=new i.constructor(e)).d,c=i.s,l=e.s;if(!o||!s)return!c||!l?NaN:c!==l?c:o===s?0:!o^c<0?1:-1;if(!o[0]||!s[0])return o[0]?c:s[0]?-l:0;if(c!==l)return c;if(i.e!==e.e)return i.e>e.e^c<0?1:-1;for(n=o.length,u=s.length,t=0,r=n<u?n:u;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^c<0?1:-1;return n===u?0:n>u^c<0?1:-1};z.cosine=z.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Q,n.rounding=1,r=zi(n,Tn(n,r)),n.precision=e,n.rounding=t,K(ut==2||ut==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};z.cubeRoot=z.cbrt=function(){var e,t,r,n,u,i,o,s,c,l,a=this,h=a.constructor;if(!a.isFinite()||a.isZero())return new h(a);for(te=!1,i=a.s*Ne(a.s*a,1/3),!i||Math.abs(i)==1/0?(r=Oe(a.d),e=a.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=Ne(r,1/3),e=Pe((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new h(r),n.s=a.s):n=new h(i.toString()),o=(e=h.precision)+3;;)if(s=n,c=s.times(s).times(s),l=c.plus(a),n=de(l.plus(a).times(s),l.plus(c),o+2,1),Oe(s.d).slice(0,o)===(r=Oe(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!u&&r=="4999"){if(!u&&(K(s,e+1,0),s.times(s).times(s).eq(a))){n=s;break}o+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(K(n,e+1,1),t=!n.times(n).times(n).eq(a));break}return te=!0,K(n,e,h.rounding,t)};z.decimalPlaces=z.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Pe(this.e/Q))*Q,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};z.dividedBy=z.div=function(e){return de(this,new this.constructor(e))};z.dividedToIntegerBy=z.divToInt=function(e){var t=this,r=t.constructor;return K(de(t,new r(e),0,1,1),r.precision,r.rounding)};z.equals=z.eq=function(e){return this.cmp(e)===0};z.floor=function(){return K(new this.constructor(this),this.e+1,3)};z.greaterThan=z.gt=function(e){return this.cmp(e)>0};z.greaterThanOrEqualTo=z.gte=function(e){var t=this.cmp(e);return t==1||t===0};z.hyperbolicCosine=z.cosh=function(){var e,t,r,n,u,i=this,o=i.constructor,s=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,u=i.d.length,u<32?(e=Math.ceil(u/3),t=(1/ar(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=_t(o,1,i.times(t),new o(1),!0);for(var c,l=e,a=new o(8);l--;)c=i.times(i),i=s.minus(c.times(a.minus(c.times(a))));return K(i,o.precision=r,o.rounding=n,!0)};z.hyperbolicSine=z.sinh=function(){var e,t,r,n,u=this,i=u.constructor;if(!u.isFinite()||u.isZero())return new i(u);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(u.e,u.sd())+4,i.rounding=1,n=u.d.length,n<3)u=_t(i,2,u,u,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,u=u.times(1/ar(5,e)),u=_t(i,2,u,u,!0);for(var o,s=new i(5),c=new i(16),l=new i(20);e--;)o=u.times(u),u=u.times(s.plus(o.times(c.times(o).plus(l))))}return i.precision=t,i.rounding=r,K(u,t,r,!0)};z.hyperbolicTangent=z.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,de(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};z.inverseCosine=z.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,u=t.rounding;return r!==-1?r===0?e.isNeg()?Ke(t,n,u):new t(0):new t(NaN):e.isZero()?Ke(t,n+4,u).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=u,e.times(2))};z.inverseHyperbolicCosine=z.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,te=!1,r=r.times(r).minus(1).sqrt().plus(r),te=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};z.inverseHyperbolicSine=z.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,te=!1,r=r.times(r).plus(1).sqrt().plus(r),te=!0,n.precision=e,n.rounding=t,r.ln())};z.inverseHyperbolicTangent=z.atanh=function(){var e,t,r,n,u=this,i=u.constructor;return u.isFinite()?u.e>=0?new i(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=i.precision,t=i.rounding,n=u.sd(),Math.max(n,e)<2*-u.e-1?K(new i(u),e,t,!0):(i.precision=r=n-u.e,u=de(u.plus(1),new i(1).minus(u),r+e,1),i.precision=e+4,i.rounding=1,u=u.ln(),i.precision=e,i.rounding=t,u.times(.5))):new i(NaN)};z.inverseSine=z.asin=function(){var e,t,r,n,u=this,i=u.constructor;return u.isZero()?new i(u):(t=u.abs().cmp(1),r=i.precision,n=i.rounding,t!==-1?t===0?(e=Ke(i,r+4,n).times(.5),e.s=u.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,u=u.div(new i(1).minus(u.times(u)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,u.times(2)))};z.inverseTangent=z.atan=function(){var e,t,r,n,u,i,o,s,c,l=this,a=l.constructor,h=a.precision,D=a.rounding;if(l.isFinite()){if(l.isZero())return new a(l);if(l.abs().eq(1)&&h+4<=mr)return o=Ke(a,h+4,D).times(.25),o.s=l.s,o}else{if(!l.s)return new a(NaN);if(h+4<=mr)return o=Ke(a,h+4,D).times(.5),o.s=l.s,o}for(a.precision=s=h+10,a.rounding=1,r=Math.min(28,s/Q+2|0),e=r;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(te=!1,t=Math.ceil(s/Q),n=1,c=l.times(l),o=new a(l),u=l;e!==-1;)if(u=u.times(c),i=o.minus(u.div(n+=2)),u=u.times(c),o=i.plus(u.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===i.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),te=!0,K(o,a.precision=h,a.rounding=D,!0)};z.isFinite=function(){return!!this.d};z.isInteger=z.isInt=function(){return!!this.d&&Pe(this.e/Q)>this.d.length-2};z.isNaN=function(){return!this.s};z.isNegative=z.isNeg=function(){return this.s<0};z.isPositive=z.isPos=function(){return this.s>0};z.isZero=function(){return!!this.d&&this.d[0]===0};z.lessThan=z.lt=function(e){return this.cmp(e)<0};z.lessThanOrEqualTo=z.lte=function(e){return this.cmp(e)<1};z.logarithm=z.log=function(e){var t,r,n,u,i,o,s,c,l=this,a=l.constructor,h=a.precision,D=a.rounding,F=5;if(e==null)e=new a(10),t=!0;else{if(e=new a(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new a(NaN);t=e.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new a(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(u=r[0];u%10===0;)u/=10;i=u!==1}if(te=!1,s=h+F,o=ft(l,s),n=t?er(a,s+10):ft(e,s),c=de(o,n,s,1),Ot(c.d,u=h,D))do if(s+=10,o=ft(l,s),n=t?er(a,s+10):ft(e,s),c=de(o,n,s,1),!i){+Oe(c.d).slice(u+1,u+15)+1==1e14&&(c=K(c,h+1,0));break}while(Ot(c.d,u+=10,D));return te=!0,K(c,h,D)};z.minus=z.sub=function(e){var t,r,n,u,i,o,s,c,l,a,h,D,F=this,y=F.constructor;if(e=new y(e),!F.d||!e.d)return!F.s||!e.s?e=new y(NaN):F.d?e.s=-e.s:e=new y(e.d||F.s!==e.s?F:NaN),e;if(F.s!=e.s)return e.s=-e.s,F.plus(e);if(l=F.d,D=e.d,s=y.precision,c=y.rounding,!l[0]||!D[0]){if(D[0])e.s=-e.s;else if(l[0])e=new y(F);else return new y(c===3?-0:0);return te?K(e,s,c):e}if(r=Pe(e.e/Q),a=Pe(F.e/Q),l=l.slice(),i=a-r,i){for(h=i<0,h?(t=l,i=-i,o=D.length):(t=D,r=a,o=l.length),n=Math.max(Math.ceil(s/Q),o)+2,i>n&&(i=n,t.length=1),t.reverse(),n=i;n--;)t.push(0);t.reverse()}else{for(n=l.length,o=D.length,h=n<o,h&&(o=n),n=0;n<o;n++)if(l[n]!=D[n]){h=l[n]<D[n];break}i=0}for(h&&(t=l,l=D,D=t,e.s=-e.s),o=l.length,n=D.length-o;n>0;--n)l[o++]=0;for(n=D.length;n>i;){if(l[--n]<D[n]){for(u=n;u&&l[--u]===0;)l[u]=Xe-1;--l[u],l[n]+=Xe}l[n]-=D[n]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=or(l,r),te?K(e,s,c):e):new y(c===3?-0:0)};z.modulo=z.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?K(new n(r),n.precision,n.rounding):(te=!1,n.modulo==9?(t=de(r,e.abs(),0,3,1),t.s*=e.s):t=de(r,e,0,n.modulo,1),t=t.times(e),te=!0,r.minus(t))};z.naturalExponential=z.exp=function(){return vr(this)};z.naturalLogarithm=z.ln=function(){return ft(this)};z.negated=z.neg=function(){var e=new this.constructor(this);return e.s=-e.s,K(e)};z.plus=z.add=function(e){var t,r,n,u,i,o,s,c,l,a,h=this,D=h.constructor;if(e=new D(e),!h.d||!e.d)return!h.s||!e.s?e=new D(NaN):h.d||(e=new D(e.d||h.s===e.s?h:NaN)),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=h.d,a=e.d,s=D.precision,c=D.rounding,!l[0]||!a[0])return a[0]||(e=new D(h)),te?K(e,s,c):e;if(i=Pe(h.e/Q),n=Pe(e.e/Q),l=l.slice(),u=i-n,u){for(u<0?(r=l,u=-u,o=a.length):(r=a,n=i,o=l.length),i=Math.ceil(s/Q),o=i>o?i+1:o+1,u>o&&(u=o,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(o=l.length,u=a.length,o-u<0&&(u=o,r=a,a=l,l=r),t=0;u;)t=(l[--u]=l[u]+a[u]+t)/Xe|0,l[u]%=Xe;for(t&&(l.unshift(t),++n),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=or(l,n),te?K(e,s,c):e};z.precision=z.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ht+e);return r.d?(t=_n(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};z.round=function(){var e=this,t=e.constructor;return K(new t(e),e.e+1,t.rounding)};z.sine=z.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Q,n.rounding=1,r=Ri(n,Tn(n,r)),n.precision=e,n.rounding=t,K(ut>2?r.neg():r,e,t,!0)):new n(NaN)};z.squareRoot=z.sqrt=function(){var e,t,r,n,u,i,o=this,s=o.d,c=o.e,l=o.s,a=o.constructor;if(l!==1||!s||!s[0])return new a(!l||l<0&&(!s||s[0])?NaN:s?o:1/0);for(te=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=Oe(s),(t.length+c)%2==0&&(t+="0"),l=Math.sqrt(t),c=Pe((c+1)/2)-(c<0||c%2),l==1/0?t="5e"+c:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),n=new a(t)):n=new a(l.toString()),r=(c=a.precision)+3;;)if(i=n,n=i.plus(de(o,i,r+2,1)).times(.5),Oe(i.d).slice(0,r)===(t=Oe(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(K(i,c+1,0),i.times(i).eq(o))){n=i;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(K(n,c+1,1),e=!n.times(n).eq(o));break}return te=!0,K(n,c,a.rounding,e)};z.tangent=z.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=de(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,K(ut==2||ut==4?r.neg():r,e,t,!0)):new n(NaN)};z.times=z.mul=function(e){var t,r,n,u,i,o,s,c,l,a=this,h=a.constructor,D=a.d,F=(e=new h(e)).d;if(e.s*=a.s,!D||!D[0]||!F||!F[0])return new h(!e.s||D&&!D[0]&&!F||F&&!F[0]&&!D?NaN:!D||!F?e.s/0:e.s*0);for(r=Pe(a.e/Q)+Pe(e.e/Q),c=D.length,l=F.length,c<l&&(i=D,D=F,F=i,o=c,c=l,l=o),i=[],o=c+l,n=o;n--;)i.push(0);for(n=l;--n>=0;){for(t=0,u=c+n;u>n;)s=i[u]+F[n]*D[u-n-1]+t,i[u--]=s%Xe|0,t=s/Xe|0;i[u]=(i[u]+t)%Xe|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=or(i,r),te?K(e,h.precision,h.rounding):e};z.toBinary=function(e,t){return Ar(this,2,e,t)};z.toDecimalPlaces=z.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ke(e,0,Dt),t===void 0?t=n.rounding:ke(t,0,8),K(r,e+r.e+1,t))};z.toExponential=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=Qe(n,!0):(ke(e,0,Dt),t===void 0?t=u.rounding:ke(t,0,8),n=K(new u(n),e+1,t),r=Qe(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};z.toFixed=function(e,t){var r,n,u=this,i=u.constructor;return e===void 0?r=Qe(u):(ke(e,0,Dt),t===void 0?t=i.rounding:ke(t,0,8),n=K(new i(u),e+u.e+1,t),r=Qe(n,!1,e+n.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};z.toFraction=function(e){var t,r,n,u,i,o,s,c,l,a,h,D,F=this,y=F.d,f=F.constructor;if(!y)return new f(F);if(l=r=new f(1),n=c=new f(0),t=new f(n),i=t.e=_n(y)-F.e-1,o=i%Q,t.d[0]=Ne(10,o<0?Q+o:o),e==null)e=i>0?t:l;else{if(s=new f(e),!s.isInt()||s.lt(l))throw Error(ht+s);e=s.gt(t)?i>0?t:l:s}for(te=!1,s=new f(Oe(y)),a=f.precision,f.precision=i=y.length*Q*2;h=de(s,t,0,1,1),u=r.plus(h.times(n)),u.cmp(e)!=1;)r=n,n=u,u=l,l=c.plus(h.times(u)),c=u,u=t,t=s.minus(h.times(u)),s=u;return u=de(e.minus(r),n,0,1,1),c=c.plus(u.times(l)),r=r.plus(u.times(n)),c.s=l.s=F.s,D=de(l,n,i,1).minus(F).abs().cmp(de(c,r,i,1).minus(F).abs())<1?[l,n]:[c,r],f.precision=a,te=!0,D};z.toHexadecimal=z.toHex=function(e,t){return Ar(this,16,e,t)};z.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:ke(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(te=!1,r=de(r,e,0,t,1).times(e),te=!0,K(r)):(e.s=r.s,r=e),r};z.toNumber=function(){return+this};z.toOctal=function(e,t){return Ar(this,8,e,t)};z.toPower=z.pow=function(e){var t,r,n,u,i,o,s=this,c=s.constructor,l=+(e=new c(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new c(Ne(+s,l));if(s=new c(s),s.eq(1))return s;if(n=c.precision,i=c.rounding,e.eq(1))return K(s,n,i);if(t=Pe(e.e/Q),t>=e.d.length-1&&(r=l<0?-l:l)<=Ii)return u=Nn(c,s,r,n),e.s<0?new c(1).div(u):K(u,n,i);if(o=s.s,o<0){if(t<e.d.length-1)return new c(NaN);if(e.d[t]&1||(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return r=Ne(+s,l),t=r==0||!isFinite(r)?Pe(l*(Math.log("0."+Oe(s.d))/Math.LN10+s.e+1)):new c(r+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(te=!1,c.rounding=s.s=1,r=Math.min(12,(t+"").length),u=vr(e.times(ft(s,n+r)),n),u.d&&(u=K(u,n+5,1),Ot(u.d,n,i)&&(t=n+10,u=K(vr(e.times(ft(s,t+r)),t),t+5,1),+Oe(u.d).slice(n+1,n+15)+1==1e14&&(u=K(u,n+1,0)))),u.s=o,te=!0,c.rounding=i,K(u,n,i))};z.toPrecision=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=Qe(n,n.e<=u.toExpNeg||n.e>=u.toExpPos):(ke(e,1,Dt),t===void 0?t=u.rounding:ke(t,0,8),n=K(new u(n),e,t),r=Qe(n,e<=n.e||n.e<=u.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};z.toSignificantDigits=z.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ke(e,1,Dt),t===void 0?t=n.rounding:ke(t,0,8)),K(new n(r),e,t)};z.toString=function(){var e=this,t=e.constructor,r=Qe(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};z.truncated=z.trunc=function(){return K(new this.constructor(this),this.e+1,1)};z.valueOf=z.toJSON=function(){var e=this,t=e.constructor,r=Qe(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Oe(e){var t,r,n,u=e.length-1,i="",o=e[0];if(u>0){for(i+=o,t=1;t<u;t++)n=e[t]+"",r=Q-n.length,r&&(i+=at(r)),i+=n;o=e[t],n=o+"",r=Q-n.length,r&&(i+=at(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function ke(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ht+e)}function Ot(e,t,r,n){var u,i,o,s;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=Q,u=0):(u=Math.ceil((t+1)/Q),t%=Q),i=Ne(10,Q-t),s=e[u]%i|0,n==null?t<3?(t==0?s=s/100|0:t==1&&(s=s/10|0),o=r<4&&s==99999||r>3&&s==49999||s==5e4||s==0):o=(r<4&&s+1==i||r>3&&s+1==i/2)&&(e[u+1]/i/100|0)==Ne(10,t-2)-1||(s==i/2||s==0)&&(e[u+1]/i/100|0)==0:t<4?(t==0?s=s/1e3|0:t==1?s=s/100|0:t==2&&(s=s/10|0),o=(n||r<4)&&s==9999||!n&&r>3&&s==4999):o=((n||r<4)&&s+1==i||!n&&r>3&&s+1==i/2)&&(e[u+1]/i/1e3|0)==Ne(10,t-3)-1,o}function jt(e,t,r){for(var n,u=[0],i,o=0,s=e.length;o<s;){for(i=u.length;i--;)u[i]*=t;for(u[0]+=dr.indexOf(e.charAt(o++)),n=0;n<u.length;n++)u[n]>r-1&&(u[n+1]===void 0&&(u[n+1]=0),u[n+1]+=u[n]/r|0,u[n]%=r)}return u.reverse()}function zi(e,t){var r,n,u;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),u=(1/ar(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=_t(e,1,t.times(u),new e(1));for(var i=r;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var de=function(){function e(n,u,i){var o,s=0,c=n.length;for(n=n.slice();c--;)o=n[c]*u+s,n[c]=o%i|0,s=o/i|0;return s&&n.unshift(s),n}function t(n,u,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=u[s]){c=n[s]>u[s]?1:-1;break}return c}function r(n,u,i,o){for(var s=0;i--;)n[i]-=s,s=n[i]<u[i]?1:0,n[i]=s*o+n[i]-u[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,u,i,o,s,c){var l,a,h,D,F,y,f,v,w,b,g,M,p,d,C,B,A,_,T,I,k=n.constructor,W=n.s==u.s?1:-1,H=n.d,$=u.d;if(!H||!H[0]||!$||!$[0])return new k(!n.s||!u.s||(H?$&&H[0]==$[0]:!$)?NaN:H&&H[0]==0||!$?W*0:W/0);for(c?(F=1,a=n.e-u.e):(c=Xe,F=Q,a=Pe(n.e/F)-Pe(u.e/F)),T=$.length,A=H.length,w=new k(W),b=w.d=[],h=0;$[h]==(H[h]||0);h++);if($[h]>(H[h]||0)&&a--,i==null?(d=i=k.precision,o=k.rounding):s?d=i+(n.e-u.e)+1:d=i,d<0)b.push(1),y=!0;else{if(d=d/F+2|0,h=0,T==1){for(D=0,$=$[0],d++;(h<A||D)&&d--;h++)C=D*c+(H[h]||0),b[h]=C/$|0,D=C%$|0;y=D||h<A}else{for(D=c/($[0]+1)|0,D>1&&($=e($,D,c),H=e(H,D,c),T=$.length,A=H.length),B=T,g=H.slice(0,T),M=g.length;M<T;)g[M++]=0;I=$.slice(),I.unshift(0),_=$[0],$[1]>=c/2&&++_;do D=0,l=t($,g,T,M),l<0?(p=g[0],T!=M&&(p=p*c+(g[1]||0)),D=p/_|0,D>1?(D>=c&&(D=c-1),f=e($,D,c),v=f.length,M=g.length,l=t(f,g,v,M),l==1&&(D--,r(f,T<v?I:$,v,c))):(D==0&&(l=D=1),f=$.slice()),v=f.length,v<M&&f.unshift(0),r(g,f,M,c),l==-1&&(M=g.length,l=t($,g,T,M),l<1&&(D++,r(g,T<M?I:$,M,c))),M=g.length):l===0&&(D++,g=[0]),b[h++]=D,l&&g[0]?g[M++]=H[B]||0:(g=[H[B]],M=1);while((B++<A||g[0]!==void 0)&&d--);y=g[0]!==void 0}b[0]||b.shift()}if(F==1)w.e=a,En=y;else{for(h=1,D=b[0];D>=10;D/=10)h++;w.e=h+a*F-1,K(w,s?i+w.e+1:i,o,y)}return w}}();function K(e,t,r,n){var u,i,o,s,c,l,a,h,D,F=e.constructor;e:if(t!=null){if(h=e.d,!h)return e;for(u=1,s=h[0];s>=10;s/=10)u++;if(i=t-u,i<0)i+=Q,o=t,a=h[D=0],c=a/Ne(10,u-o-1)%10|0;else if(D=Math.ceil((i+1)/Q),s=h.length,D>=s)if(n){for(;s++<=D;)h.push(0);a=c=0,u=1,i%=Q,o=i-Q+1}else break e;else{for(a=s=h[D],u=1;s>=10;s/=10)u++;i%=Q,o=i-Q+u,c=o<0?0:a/Ne(10,u-o-1)%10|0}if(n=n||t<0||h[D+1]!==void 0||(o<0?a:a%Ne(10,u-o-1)),l=r<4?(c||n)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(i>0?o>0?a/Ne(10,u-o):0:h[D-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=Ne(10,(Q-t%Q)%Q),e.e=-t||0):h[0]=e.e=0,e;if(i==0?(h.length=D,s=1,D--):(h.length=D+1,s=Ne(10,Q-i),h[D]=o>0?(a/Ne(10,u-o)%Ne(10,o)|0)*s:0),l)for(;;)if(D==0){for(i=1,o=h[0];o>=10;o/=10)i++;for(o=h[0]+=s,s=1;o>=10;o/=10)s++;i!=s&&(e.e++,h[0]==Xe&&(h[0]=1));break}else{if(h[D]+=s,h[D]!=Xe)break;h[D--]=0,s=1}for(i=h.length;h[--i]===0;)h.pop()}return te&&(e.e>F.maxE?(e.d=null,e.e=NaN):e.e<F.minE&&(e.e=0,e.d=[0])),e}function Qe(e,t,r){if(!e.isFinite())return Sn(e);var n,u=e.e,i=Oe(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+at(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):u<0?(i="0."+at(-u-1)+i,r&&(n=r-o)>0&&(i+=at(n))):u>=o?(i+=at(u+1-o),r&&(n=r-u-1)>0&&(i=i+"."+at(n))):((n=u+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(u+1===o&&(i+="."),i+=at(n))),i}function or(e,t){var r=e[0];for(t*=Q;r>=10;r/=10)t++;return t}function er(e,t,r){if(t>Oi)throw te=!0,r&&(e.precision=r),Error(An);return K(new e(Kt),t,1,!0)}function Ke(e,t,r){if(t>mr)throw Error(An);return K(new e(Qt),t,r,!0)}function _n(e){var t=e.length-1,r=t*Q+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function at(e){for(var t="";e--;)t+="0";return t}function Nn(e,t,r,n){var u,i=new e(1),o=Math.ceil(n/Q+4);for(te=!1;;){if(r%2&&(i=i.times(t),Lr(i.d,o)&&(u=!0)),r=Pe(r/2),r===0){r=i.d.length-1,u&&i.d[r]===0&&++i.d[r];break}t=t.times(t),Lr(t.d,o)}return te=!0,i}function Ur(e){return e.d[e.d.length-1]&1}function Mn(e,t,r){for(var n,u,i=new e(t[0]),o=0;++o<t.length;){if(u=new e(t[o]),!u.s){i=u;break}n=i.cmp(u),(n===r||n===0&&i.s===r)&&(i=u)}return i}function vr(e,t){var r,n,u,i,o,s,c,l=0,a=0,h=0,D=e.constructor,F=D.rounding,y=D.precision;if(!e.d||!e.d[0]||e.e>17)return new D(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(te=!1,c=y):c=t,s=new D(.03125);e.e>-2;)e=e.times(s),h+=5;for(n=Math.log(Ne(2,h))/Math.LN10*2+5|0,c+=n,r=i=o=new D(1),D.precision=c;;){if(i=K(i.times(e),c,1),r=r.times(++a),s=o.plus(de(i,r,c,1)),Oe(s.d).slice(0,c)===Oe(o.d).slice(0,c)){for(u=h;u--;)o=K(o.times(o),c,1);if(t==null)if(l<3&&Ot(o.d,c-n,F,l))D.precision=c+=10,r=i=s=new D(1),a=0,l++;else return K(o,D.precision=y,F,te=!0);else return D.precision=y,o}o=s}}function ft(e,t){var r,n,u,i,o,s,c,l,a,h,D,F=1,y=10,f=e,v=f.d,w=f.constructor,b=w.rounding,g=w.precision;if(f.s<0||!v||!v[0]||!f.e&&v[0]==1&&v.length==1)return new w(v&&!v[0]?-1/0:f.s!=1?NaN:v?0:f);if(t==null?(te=!1,a=g):a=t,w.precision=a+=y,r=Oe(v),n=r.charAt(0),Math.abs(i=f.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=Oe(f.d),n=r.charAt(0),F++;i=f.e,n>1?(f=new w("0."+r),i++):f=new w(n+"."+r.slice(1))}else return l=er(w,a+2,g).times(i+""),f=ft(new w(n+"."+r.slice(1)),a-y).plus(l),w.precision=g,t==null?K(f,g,b,te=!0):f;for(h=f,c=o=f=de(f.minus(1),f.plus(1),a,1),D=K(f.times(f),a,1),u=3;;){if(o=K(o.times(D),a,1),l=c.plus(de(o,new w(u),a,1)),Oe(l.d).slice(0,a)===Oe(c.d).slice(0,a))if(c=c.times(2),i!==0&&(c=c.plus(er(w,a+2,g).times(i+""))),c=de(c,new w(F),a,1),t==null)if(Ot(c.d,a-y,b,s))w.precision=a+=y,l=o=f=de(h.minus(1),h.plus(1),a,1),D=K(f.times(f),a,1),u=s=1;else return K(c,w.precision=g,b,te=!0);else return w.precision=g,c;c=l,u+=2}}function Sn(e){return String(e.s*e.s/0)}function Ht(e,t){var r,n,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(n,u),t){if(u-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%Q,r<0&&(n+=Q),n<u){for(n&&e.d.push(+t.slice(0,n)),u-=Q;n<u;)e.d.push(+t.slice(n,n+=Q));t=t.slice(n),n=Q-t.length}else n-=u;for(;n--;)t+="0";e.d.push(+t),te&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Pi(e,t){var r,n,u,i,o,s,c,l,a;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),bn.test(t))return Ht(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Ti.test(t))r=16,t=t.toLowerCase();else if(Si.test(t))r=2;else if(xi.test(t))r=8;else throw Error(ht+t);for(i=t.search(/p/i),i>0?(c=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),o=i>=0,n=e.constructor,o&&(t=t.replace(".",""),s=t.length,i=s-i,u=Nn(n,new n(r),i,i*2)),l=jt(t,r,Xe),a=l.length-1,i=a;l[i]===0;--i)l.pop();return i<0?new n(e.s*0):(e.e=or(l,a),e.d=l,te=!1,o&&(e=de(e,u,s*4)),c&&(e=e.times(Math.abs(c)<54?Ne(2,c):Nt.pow(2,c))),te=!0,e)}function Ri(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:_t(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/ar(5,r)),t=_t(e,2,t,t);for(var u,i=new e(5),o=new e(16),s=new e(20);r--;)u=t.times(t),t=t.times(i.plus(u.times(o.times(u).minus(s))));return t}function _t(e,t,r,n,u){var i,o,s,c,l=e.precision,a=Math.ceil(l/Q);for(te=!1,c=r.times(r),s=new e(n);;){if(o=de(s.times(c),new e(t++*t++),l,1),s=u?n.plus(o):n.minus(o),n=de(o.times(c),new e(t++*t++),l,1),o=s.plus(n),o.d[a]!==void 0){for(i=a;o.d[i]===s.d[i]&&i--;);if(i==-1)break}i=s,s=n,n=o,o=i}return te=!0,o.d.length=a+1,o}function ar(e,t){for(var r=e;--t;)r*=e;return r}function Tn(e,t){var r,n=t.s<0,u=Ke(e,e.precision,1),i=u.times(.5);if(t=t.abs(),t.lte(i))return ut=n?4:1,t;if(r=t.divToInt(u),r.isZero())ut=n?3:2;else{if(t=t.minus(r.times(u)),t.lte(i))return ut=Ur(r)?n?2:3:n?4:1,t;ut=Ur(r)?n?1:4:n?3:2}return t.minus(u).abs()}function Ar(e,t,r,n){var u,i,o,s,c,l,a,h,D,F=e.constructor,y=r!==void 0;if(y?(ke(r,1,Dt),n===void 0?n=F.rounding:ke(n,0,8)):(r=F.precision,n=F.rounding),!e.isFinite())a=Sn(e);else{for(a=Qe(e),o=a.indexOf("."),y?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,o>=0&&(a=a.replace(".",""),D=new F(1),D.e=a.length-o,D.d=jt(Qe(D),10,u),D.e=D.d.length),h=jt(a,10,u),i=c=h.length;h[--c]==0;)h.pop();if(!h[0])a=y?"0p+0":"0";else{if(o<0?i--:(e=new F(e),e.d=h,e.e=i,e=de(e,D,r,n,0,u),h=e.d,i=e.e,l=En),o=h[r],s=u/2,l=l||h[r+1]!==void 0,l=n<4?(o!==void 0||l)&&(n===0||n===(e.s<0?3:2)):o>s||o===s&&(n===4||l||n===6&&h[r-1]&1||n===(e.s<0?8:7)),h.length=r,l)for(;++h[--r]>u-1;)h[r]=0,r||(++i,h.unshift(1));for(c=h.length;!h[c-1];--c);for(o=0,a="";o<c;o++)a+=dr.charAt(h[o]);if(y){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)a+="0";for(h=jt(a,u,t),c=h.length;!h[c-1];--c);for(o=1,a="1.";o<c;o++)a+=dr.charAt(h[o])}else a=a.charAt(0)+"."+a.slice(1);a=a+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)a="0"+a;a="0."+a}else if(++i>c)for(i-=c;i--;)a+="0";else i<c&&(a=a.slice(0,i)+"."+a.slice(i))}a=(t==16?"0x":t==2?"0b":t==8?"0o":"")+a}return e.s<0?"-"+a:a}function Lr(e,t){if(e.length>t)return e.length=t,!0}function qi(e){return new this(e).abs()}function $i(e){return new this(e).acos()}function Ui(e){return new this(e).acosh()}function Li(e,t){return new this(e).plus(t)}function ki(e){return new this(e).asin()}function Zi(e){return new this(e).asinh()}function Vi(e){return new this(e).atan()}function ji(e){return new this(e).atanh()}function Hi(e,t){e=new this(e),t=new this(t);var r,n=this.precision,u=this.rounding,i=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Ke(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Ke(this,n,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Ke(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(de(e,t,i,1)),t=Ke(this,i,1),this.precision=n,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(de(e,t,i,1)),r}function Wi(e){return new this(e).cbrt()}function Yi(e){return K(e=new this(e),e.e+1,2)}function Gi(e,t,r){return new this(e).clamp(t,r)}function Ji(e){if(!e||typeof e!="object")throw Error(ir+"Object expected");var t,r,n,u=e.defaults===!0,i=["precision",1,Dt,"rounding",0,8,"toExpNeg",-Ct,0,"toExpPos",0,Ct,"maxE",0,Ct,"minE",-Ct,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],u&&(this[r]=pr[r]),(n=e[r])!==void 0)if(Pe(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ht+r+": "+n);if(r="crypto",u&&(this[r]=pr[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Cn);else this[r]=!1;else throw Error(ht+r+": "+n);return this}function Xi(e){return new this(e).cos()}function Ki(e){return new this(e).cosh()}function xn(e){var t,r,n;function u(i){var o,s,c,l=this;if(!(l instanceof u))return new u(i);if(l.constructor=u,kr(i)){l.s=i.s,te?!i.d||i.e>u.maxE?(l.e=NaN,l.d=null):i.e<u.minE?(l.e=0,l.d=[0]):(l.e=i.e,l.d=i.d.slice()):(l.e=i.e,l.d=i.d?i.d.slice():i.d);return}if(c=typeof i,c==="number"){if(i===0){l.s=1/i<0?-1:1,l.e=0,l.d=[0];return}if(i<0?(i=-i,l.s=-1):l.s=1,i===~~i&&i<1e7){for(o=0,s=i;s>=10;s/=10)o++;te?o>u.maxE?(l.e=NaN,l.d=null):o<u.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[i]):(l.e=o,l.d=[i]);return}if(i*0!==0){i||(l.s=NaN),l.e=NaN,l.d=null;return}return Ht(l,i.toString())}if(c==="string")return(s=i.charCodeAt(0))===45?(i=i.slice(1),l.s=-1):(s===43&&(i=i.slice(1)),l.s=1),bn.test(i)?Ht(l,i):Pi(l,i);if(c==="bigint")return i<0?(i=-i,l.s=-1):l.s=1,Ht(l,i.toString());throw Error(ht+i)}if(u.prototype=z,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=Ji,u.clone=xn,u.isDecimal=kr,u.abs=qi,u.acos=$i,u.acosh=Ui,u.add=Li,u.asin=ki,u.asinh=Zi,u.atan=Vi,u.atanh=ji,u.atan2=Hi,u.cbrt=Wi,u.ceil=Yi,u.clamp=Gi,u.cos=Xi,u.cosh=Ki,u.div=Qi,u.exp=eo,u.floor=to,u.hypot=ro,u.ln=no,u.log=uo,u.log10=oo,u.log2=io,u.max=ao,u.min=so,u.mod=fo,u.mul=co,u.pow=lo,u.random=ho,u.round=Do,u.sign=po,u.sin=mo,u.sinh=vo,u.sqrt=go,u.sub=Fo,u.sum=wo,u.tan=yo,u.tanh=Eo,u.trunc=Ao,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return u.config(e),u}function Qi(e,t){return new this(e).div(t)}function eo(e){return new this(e).exp()}function to(e){return K(e=new this(e),e.e+1,3)}function ro(){var e,t,r=new this(0);for(te=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return te=!0,new this(1/0);r=t}return te=!0,r.sqrt()}function kr(e){return e instanceof Nt||e&&e.toStringTag===Bn||!1}function no(e){return new this(e).ln()}function uo(e,t){return new this(e).log(t)}function io(e){return new this(e).log(2)}function oo(e){return new this(e).log(10)}function ao(){return Mn(this,arguments,-1)}function so(){return Mn(this,arguments,1)}function fo(e,t){return new this(e).mod(t)}function co(e,t){return new this(e).mul(t)}function lo(e,t){return new this(e).pow(t)}function ho(e){var t,r,n,u,i=0,o=new this(1),s=[];if(e===void 0?e=this.precision:ke(e,1,Dt),n=Math.ceil(e/Q),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));i<n;)u=t[i],u>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:s[i++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);i<n;)u=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,i):(s.push(u%1e7),i+=4);i=n/4}else throw Error(Cn);else for(;i<n;)s[i++]=Math.random()*1e7|0;for(n=s[--i],e%=Q,n&&e&&(u=Ne(10,Q-e),s[i]=(n/u|0)*u);s[i]===0;i--)s.pop();if(i<0)r=0,s=[0];else{for(r=-1;s[0]===0;r-=Q)s.shift();for(n=1,u=s[0];u>=10;u/=10)n++;n<Q&&(r-=Q-n)}return o.e=r,o.d=s,o}function Do(e){return K(e=new this(e),e.e+1,this.rounding)}function po(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function mo(e){return new this(e).sin()}function vo(e){return new this(e).sinh()}function go(e){return new this(e).sqrt()}function Fo(e,t){return new this(e).sub(t)}function wo(){var e=0,t=arguments,r=new this(t[e]);for(te=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return te=!0,K(r,this.precision,this.rounding)}function yo(e){return new this(e).tan()}function Eo(e){return new this(e).tanh()}function Ao(e){return K(e=new this(e),e.e+1,1)}z[Symbol.for("nodejs.util.inspect.custom")]=z.toString;z[Symbol.toStringTag]="Decimal";var Nt=z.constructor=xn(pr);Kt=new Nt(Kt);Qt=new Nt(Qt);var Co="BigNumber",Bo=["?on","config"],bo=se(Co,Bo,e=>{var{on:t,config:r}=e,n=Nt.clone({precision:r.precision,modulo:Nt.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},t&&t("config",function(u,i){u.precision!==i.precision&&n.config({precision:u.precision})}),n},{isClass:!0});const ze=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},He=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},_o=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},cr=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Et=function(){throw SyntaxError("Invalid Param")};function lr(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const No={re:0,im:0},pt=function(e,t){const r=No;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return S.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return S.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Et();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let u=1,i=0;n===null&&Et();for(let o=0;o<n.length;o++){const s=n[o];s===" "||s==="	"||s===`
`||(s==="+"?u++:s==="-"?i++:s==="i"||s==="I"?(u+i===0&&Et(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((i%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((i%2?"-":"")+"1"),u=i=0):((u+i===0||isNaN(s))&&Et(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((i%2?"-":"")+s),o++):r.re+=parseFloat((i%2?"-":"")+s),u=i=0))}u+i>0&&Et();break;case"number":r.im=0,r.re=e;break;default:Et()}return isNaN(r.re)||isNaN(r.im),r};function S(e,t){if(!(this instanceof S))return new S(e,t);const r=pt(e,t);this.re=r.re,this.im=r.im}S.prototype={re:0,im:0,sign:function(){const e=cr(this.re,this.im);return new S(this.re/e,this.im/e)},add:function(e,t){const r=pt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?S.NAN:S.INFINITY:new S(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=pt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?S.NAN:S.INFINITY:new S(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=pt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||u&&i?S.NAN:n||u?S.INFINITY:r.im===0&&this.im===0?new S(this.re*r.re,0):new S(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=pt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(i&&o||n&&u)return S.NAN;if(o||n)return S.INFINITY;if(i||u)return S.ZERO;if(r.im===0)return new S(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const s=r.re/r.im,c=r.re*s+r.im;return new S((this.re*s+this.im)/c,(this.im*s-this.re)/c)}else{const s=r.im/r.re,c=r.im*s+r.re;return new S((this.re+this.im*s)/c,(this.im-this.re*s)/c)}},pow:function(e,t){const r=pt(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return S.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new S(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new S(Math.pow(this.im,r.re),0);case 1:return new S(0,Math.pow(this.im,r.re));case 2:return new S(-Math.pow(this.im,r.re),0);case 3:return new S(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return S.ZERO;const i=Math.atan2(this.im,this.re),o=lr(this.re,this.im);let s=Math.exp(r.re*o-r.im*i),c=r.im*o+r.re*i;return new S(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new S(Math.sqrt(e),0):new S(0,Math.sqrt(-e));const r=cr(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),u=Math.abs(t)/(2*n);return e>=0?new S(n,t<0?-u:u):new S(u,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new S(e,0):new S(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new S(Math.expm1(e)*Math.cos(t)+_o(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new S(Math.log(e),0):new S(lr(e,t),Math.atan2(t,e))},abs:function(){return cr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new S(Math.sin(e)*ze(t),Math.cos(e)*He(t))},cos:function(){const e=this.re,t=this.im;return new S(Math.cos(e)*ze(t),-Math.sin(e)*He(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+ze(t);return new S(Math.sin(e)/r,He(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-ze(t);return new S(-Math.sin(e)/r,He(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*ze(2*t)+.5*Math.cos(2*e);return new S(Math.cos(e)*ze(t)/r,Math.sin(e)*He(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*ze(2*t)-.5*Math.cos(2*e);return new S(Math.sin(e)*ze(t)/r,-Math.cos(e)*He(t)/r)},asin:function(){const e=this.re,t=this.im,r=new S(t*t-e*e+1,-2*e*t).sqrt(),n=new S(r.re-t,r.im+e).log();return new S(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new S(t*t-e*e+1,-2*e*t).sqrt(),n=new S(r.re-t,r.im+e).log();return new S(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new S(0,1/0);if(t===-1)return new S(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new S((1-t*t-e*e)/r,-2*e/r).log();return new S(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new S(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).atan():new S(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(0,1/0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).acos():new S(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).asin():new S(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new S(He(e)*Math.cos(t),ze(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new S(ze(e)*Math.cos(t),He(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=ze(e)+Math.cos(t);return new S(He(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=ze(e)-Math.cos(t);return new S(He(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-ze(2*e);return new S(-2*He(e)*Math.cos(t)/r,2*ze(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+ze(2*e);return new S(2*ze(e)*Math.cos(t)/r,-2*He(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,u=1+e,i=n*n+t*t,o=i!==0?new S((u*n-t*t)/i,(t*n+u*t)/i):new S(e!==-1?e/0:0,t!==0?t/0:0),s=o.re;return o.re=lr(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(0,Math.PI/2);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).atanh():new S(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new S(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).asinh():new S(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return S.INFINITY;const r=e*e+t*t;return r!==0?new S(e/r,-t/r).acosh():new S(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return S.INFINITY;if(this.isInfinite())return S.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new S(e/r,-t/r)},conjugate:function(){return new S(this.re,-this.im)},neg:function(){return new S(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new S(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new S(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new S(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=pt(e,t);return Math.abs(r.re-this.re)<=S.EPSILON&&Math.abs(r.im-this.im)<=S.EPSILON},clone:function(){return new S(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<S.EPSILON&&(e=0),Math.abs(t)<S.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};S.ZERO=new S(0,0);S.ONE=new S(1,0);S.I=new S(0,1);S.PI=new S(Math.PI,0);S.E=new S(Math.E,0);S.INFINITY=new S(1/0,1/0);S.NAN=new S(NaN,NaN);S.EPSILON=1e-15;var Mo="Complex",So=[],To=se(Mo,So,()=>(Object.defineProperty(S,"name",{value:"Complex"}),S.prototype.constructor=S,S.prototype.type="Complex",S.prototype.isComplex=!0,S.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},S.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},S.prototype.format=function(e){var t="",r=this.im,n=this.re,u=Dr(this.re,e),i=Dr(this.im,e),o=me(e)?e:e?e.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return r===0?t=u:n===0?r===1?t="i":r===-1?t="-i":t=i+"i":r<0?r===-1?t=u+" - i":t=u+" - "+i.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+i+"i",t},S.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return S(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(me(r)){if(vn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),me(n))return new S({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},S.prototype.valueOf=S.prototype.toString,S.fromJSON=function(e){return new S(e)},S.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},S),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const X=BigInt(0),ne=BigInt(1),zt=BigInt(2),gr=BigInt(5),Ue=BigInt(10),xo=2e3,L={s:ne,n:X,d:ne};function rt(e,t){try{e=BigInt(e)}catch{throw ot()}return e*t}function Je(e){return typeof e=="bigint"?e:Math.floor(e)}function ge(e,t){if(t===X)throw Cr();const r=Object.create(We.prototype);r.s=e<X?-ne:ne,e=e<X?-e:e;const n=mt(e,t);return r.n=e/n,r.d=t/n,r}function At(e){const t={};let r=e,n=zt,u=gr-ne;for(;u<=r;){for(;r%n===X;)r/=n,t[n]=(t[n]||X)+ne;u+=ne+zt*n++}return r!==e?r>1&&(t[r]=(t[r]||X)+ne):t[e]=(t[e]||X)+ne,t}const xe=function(e,t){let r=X,n=ne,u=ne;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw ot();if(e%1!==0)throw Zr();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw ot();if(t%1!==0)throw Zr();n=BigInt(t)}u=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw ot();u=r*n}else if(typeof e=="number"){if(isNaN(e))throw ot();if(e<0&&(u=-ne,e=-e),e%1===0)r=BigInt(e);else if(e>0){let i=1,o=0,s=1,c=1,l=1,a=1e7;for(e>=1&&(i=10**Math.floor(1+Math.log10(e)),e/=i);s<=a&&l<=a;){let h=(o+c)/(s+l);if(e===h){s+l<=a?(r=o+c,n=s+l):l>s?(r=c,n=l):(r=o,n=s);break}else e>h?(o+=c,s+=l):(c+=o,l+=s),s>a?(r=c,n=l):(r=o,n=s)}r=BigInt(r)*BigInt(i),n=BigInt(n)}}else if(typeof e=="string"){let i=0,o=X,s=X,c=X,l=ne,a=ne,h=e.replace(/_/g,"").match(/\d+|./g);if(h===null)throw ot();if(h[i]==="-"?(u=-ne,i++):h[i]==="+"&&i++,h.length===i+1?s=rt(h[i++],u):h[i+1]==="."||h[i]==="."?(h[i]!=="."&&(o=rt(h[i++],u)),i++,(i+1===h.length||h[i+1]==="("&&h[i+3]===")"||h[i+1]==="'"&&h[i+3]==="'")&&(s=rt(h[i],u),l=Ue**BigInt(h[i].length),i++),(h[i]==="("&&h[i+2]===")"||h[i]==="'"&&h[i+2]==="'")&&(c=rt(h[i+1],u),a=Ue**BigInt(h[i+1].length)-ne,i+=3)):h[i+1]==="/"||h[i+1]===":"?(s=rt(h[i],u),l=rt(h[i+2],ne),i+=3):h[i+3]==="/"&&h[i+1]===" "&&(o=rt(h[i],u),s=rt(h[i+2],u),l=rt(h[i+4],ne),i+=5),h.length<=i)n=l*a,u=r=c+n*o+a*s;else throw ot()}else if(typeof e=="bigint")r=e,u=e,n=ne;else throw ot();if(n===X)throw Cr();L.s=u<X?-ne:ne,L.n=r<X?-r:r,L.d=n<X?-n:n};function Io(e,t,r){let n=ne;for(;t>X;e=e*e%r,t>>=ne)t&ne&&(n=n*e%r);return n}function Oo(e,t){for(;t%zt===X;t/=zt);for(;t%gr===X;t/=gr);if(t===ne)return X;let r=Ue%t,n=1;for(;r!==ne;n++)if(r=r*Ue%t,n>xo)return X;return BigInt(n)}function zo(e,t,r){let n=ne,u=Io(Ue,r,t);for(let i=0;i<300;i++){if(n===u)return BigInt(i);n=n*Ue%t,u=u*Ue%t}return 0}function mt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function We(e,t){if(xe(e,t),this instanceof We)e=mt(L.d,L.n),this.s=L.s,this.n=L.n/e,this.d=L.d/e;else return ge(L.s*L.n,L.d)}var Cr=function(){return new Error("Division by Zero")},ot=function(){return new Error("Invalid argument")},Zr=function(){return new Error("Parameters must be integer")};We.prototype={s:ne,n:X,d:ne,abs:function(){return ge(this.n,this.d)},neg:function(){return ge(-this.s*this.n,this.d)},add:function(e,t){return xe(e,t),ge(this.s*this.n*L.d+L.s*this.d*L.n,this.d*L.d)},sub:function(e,t){return xe(e,t),ge(this.s*this.n*L.d-L.s*this.d*L.n,this.d*L.d)},mul:function(e,t){return xe(e,t),ge(this.s*L.s*this.n*L.n,this.d*L.d)},div:function(e,t){return xe(e,t),ge(this.s*L.s*this.n*L.d,this.d*L.n)},clone:function(){return ge(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return ge(this.s*this.n%this.d,ne);if(xe(e,t),X===L.n*this.d)throw Cr();return ge(this.s*(L.d*this.n)%(L.n*this.d),L.d*this.d)},gcd:function(e,t){return xe(e,t),ge(mt(L.n,this.n)*mt(L.d,this.d),L.d*this.d)},lcm:function(e,t){return xe(e,t),L.n===X&&this.n===X?ge(X,ne):ge(L.n*this.n,mt(L.n,this.n)*mt(L.d,this.d))},inverse:function(){return ge(this.s*this.d,this.n)},pow:function(e,t){if(xe(e,t),L.d===ne)return L.s<X?ge((this.s*this.d)**L.n,this.n**L.n):ge((this.s*this.n)**L.n,this.d**L.n);if(this.s<X)return null;let r=At(this.n),n=At(this.d),u=ne,i=ne;for(let o in r)if(o!=="1"){if(o==="0"){u=X;break}if(r[o]*=L.n,r[o]%L.d===X)r[o]/=L.d;else return null;u*=BigInt(o)**r[o]}for(let o in n)if(o!=="1"){if(n[o]*=L.n,n[o]%L.d===X)n[o]/=L.d;else return null;i*=BigInt(o)**n[o]}return L.s<X?ge(i,u):ge(u,i)},log:function(e,t){if(xe(e,t),this.s<=X||L.s<=X)return null;const r={},n=At(L.n),u=At(L.d),i=At(this.n),o=At(this.d);for(const l in u)n[l]=(n[l]||X)-u[l];for(const l in o)i[l]=(i[l]||X)-o[l];for(const l in n)l!=="1"&&(r[l]=!0);for(const l in i)l!=="1"&&(r[l]=!0);let s=null,c=null;for(const l in r){const a=n[l]||X,h=i[l]||X;if(a===X){if(h!==X)return null;continue}let D=h,F=a;const y=mt(D,F);if(D/=y,F/=y,s===null&&c===null)s=D,c=F;else if(D*c!==s*F)return null}return s!==null&&c!==null?ge(s,c):null},equals:function(e,t){return xe(e,t),this.s*this.n*L.d===L.s*L.n*this.d},lt:function(e,t){return xe(e,t),this.s*this.n*L.d<L.s*L.n*this.d},lte:function(e,t){return xe(e,t),this.s*this.n*L.d<=L.s*L.n*this.d},gt:function(e,t){return xe(e,t),this.s*this.n*L.d>L.s*L.n*this.d},gte:function(e,t){return xe(e,t),this.s*this.n*L.d>=L.s*L.n*this.d},compare:function(e,t){xe(e,t);let r=this.s*this.n*L.d-L.s*L.n*this.d;return(X<r)-(r<X)},ceil:function(e){return e=Ue**BigInt(e||0),ge(Je(this.s*e*this.n/this.d)+(e*this.n%this.d>X&&this.s>=X?ne:X),e)},floor:function(e){return e=Ue**BigInt(e||0),ge(Je(this.s*e*this.n/this.d)-(e*this.n%this.d>X&&this.s<X?ne:X),e)},round:function(e){return e=Ue**BigInt(e||0),ge(Je(this.s*e*this.n/this.d)+this.s*((this.s>=X?ne:X)+zt*(e*this.n%this.d)>this.d?ne:X),e)},roundTo:function(e,t){xe(e,t);const r=this.n*L.d,n=this.d*L.n,u=r%n;let i=Je(r/n);return u+u>=n&&i++,ge(this.s*i*L.n,L.d)},divisible:function(e,t){return xe(e,t),!(!(L.n*this.d)||this.n*L.d%(L.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;let n=Oo(t,r),u=zo(t,r,n),i=this.s<X?"-":"";if(i+=Je(t/r),t%=r,t*=Ue,t&&(i+="."),n){for(let o=u;o--;)i+=Je(t/r),t%=r,t*=Ue;i+="(";for(let o=n;o--;)i+=Je(t/r),t%=r,t*=Ue;i+=")"}else for(let o=e;t&&o--;)i+=Je(t/r),t%=r,t*=Ue;return i},toFraction:function(e){let t=this.n,r=this.d,n=this.s<X?"-":"";if(r===ne)n+=t;else{let u=Je(t/r);e&&u>X&&(n+=u,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<X?"-":"";if(r===ne)n+=t;else{let u=Je(t/r);e&&u>X&&(n+=u,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(Je(e/t));let n=e%t;e=t,t=n}while(e!==ne);return r},simplify:function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let u=1;u<n.length;u++){let i=ge(n[u-1],ne);for(let s=u-2;s>=0;s--)i=i.inverse().add(n[s]);let o=i.sub(r);if(o.n*t<o.d)return i.mul(this.s)}return this}};var Po="Fraction",Ro=[],qo=se(Po,Ro,()=>(Object.defineProperty(We,"name",{value:"Fraction"}),We.prototype.constructor=We,We.prototype.type="Fraction",We.prototype.isFraction=!0,We.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},We.fromJSON=function(e){return new We(e)},We),{isClass:!0}),$o="Matrix",Uo=[],Lo=se($o,Uo,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function hr(e,t,r){var n=e.constructor,u=new n(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Me(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function ko(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:u}=Fn(t);switch(r){case"fixed":return Vo(e,n);case"exponential":return Vr(e,n);case"engineering":return Zo(e,n);case"bin":return hr(e,2,u);case"oct":return hr(e,8,u);case"hex":return hr(e,16,u);case"auto":{var i=jr(t==null?void 0:t.lowerExp,-3),o=jr(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var s,c=e.toSignificantDigits(n),l=c.e;return l>=i&&l<o?s=c.toFixed():s=Vr(e,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],h=arguments[4];return a!=="."?a+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Zo(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-n)),i=u.toPrecision(t);if(i.includes("e")){var o=e.constructor;i=new o(i).toFixed()}return i+"e"+(r>=0?"+":"")+n.toString()}function Vr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Vo(e,t){return e.toFixed(t)}function jr(e,t){return me(e)?e:_e(e)?e.toNumber():t}function Ae(e,t){var r=jo(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function jo(e,t){if(typeof e=="number")return Dr(e,t);if(_e(e))return ko(e,t);if(Ho(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return In(e,t);if(nt(e))return Hr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>Hr(n)+": "+Ae(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function Hr(e){for(var t=String(e),r="",n=0;n<t.length;){var u=t.charAt(n);r+=u in Wr?Wr[u]:u,n++}return'"'+r+'"'}var Wr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function In(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,u=0;u<n;u++)u!==0&&(r+=", "),r+=In(e[u],t);return r+="]",r}else return Ae(e,t)}function Ho(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function we(e,t,r){if(!(this instanceof we))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}we.prototype=new RangeError;we.prototype.constructor=RangeError;we.prototype.name="DimensionError";we.prototype.isDimensionError=!0;function Mt(e,t,r){if(!(this instanceof Mt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Mt.prototype=new RangeError;Mt.prototype.constructor=RangeError;Mt.prototype.name="IndexError";Mt.prototype.isIndexError=!0;function Le(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function On(e,t,r){var n,u=e.length;if(u!==t[r])throw new we(u,t[r]);if(r<t.length-1){var i=r+1;for(n=0;n<u;n++){var o=e[n];if(!Array.isArray(o))throw new we(t.length-1,t.length,"<");On(e[n],t,i)}}else for(n=0;n<u;n++)if(Array.isArray(e[n]))throw new we(t.length+1,t.length,">")}function Yr(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new we(e.length,0)}else On(e,t,0)}function Ee(e,t){if(e!==void 0){if(!me(e)||!Me(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Mt(e,t)}}function Fr(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!me(u)||!Me(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ae(t)+")")}),(me(e)||_e(e))&&(e=[e]);var n=r!==void 0?r:0;return wr(e,t,0,n),e}function wr(e,t,r,n){var u,i,o=e.length,s=t[r],c=Math.min(o,s);if(e.length=s,r<t.length-1){var l=r+1;for(u=0;u<c;u++)i=e[u],Array.isArray(i)||(i=[i],e[u]=i),wr(i,t,l,n);for(u=c;u<s;u++)i=[],e[u]=i,wr(i,t,l,n)}else{for(u=0;u<c;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=c;u<s;u++)e[u]=n}}function zn(e,t){var r=Yo(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new we(0,n,"!=");t=Br(t,n);var u=Pn(t);if(n!==u)throw new we(u,n,"!=");try{return Wo(r,t)}catch(i){throw i instanceof we?new we(u,n,"!="):i}}function Br(e,t){var r=Pn(e),n=e.slice(),u=-1,i=e.indexOf(u),o=e.indexOf(u,i+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=i>=0,c=t%r===0;if(s)if(c)n[i]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function Pn(e){return e.reduce((t,r)=>t*r,1)}function Wo(e,t){for(var r=e,n,u=t.length-1;u>0;u--){var i=t[u];n=[];for(var o=r.length/i,s=0;s<o;s++)n.push(r.slice(s*i,(s+1)*i));r=n}return r}function Rn(e,t,r,n){var u=n||Le(e);if(r)for(var i=0;i<r;i++)e=[e],u.unshift(1);for(e=qn(e,t,0);u.length<t;)u.push(1);return e}function qn(e,t,r){var n,u;if(Array.isArray(e)){var i=r+1;for(n=0,u=e.length;n<u;n++)e[n]=qn(e[n],t,i)}else for(var o=r;o<t;o++)e=[e];return e}function Yo(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function br(e,t){for(var r,n=0,u=0;u<e.length;u++){var i=e[u],o=Array.isArray(i);if(u===0&&o&&(n=i.length),o&&i.length!==n)return;var s=o?br(i,t):t(i);if(r===void 0)r=s;else if(r!==s)return"mixed"}return r}function $n(e,t,r,n){if(n<r){if(e.length!==t.length)throw new we(e.length,t.length);for(var u=[],i=0;i<e.length;i++)u[i]=$n(e[i],t[i],r,n+1);return u}else return e.concat(t)}function Go(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return $n(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Jo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(D=>D.length),u=Math.max(...n),i=new Array(u).fill(null),o=0;o<t.length;o++)for(var s=t[o],c=n[o],l=0;l<c;l++){var a=u-c+l;s[l]>i[a]&&(i[a]=s[l])}for(var h=0;h<t.length;h++)Un(t[h],i);return i}function Un(e,t){for(var r=t.length,n=e.length,u=0;u<n;u++){var i=r-n+u;if(e[u]<t[i]&&e[u]>1||e[u]>t[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[u]," to size ").concat(t[i]))}}function Gr(e,t){var r=Le(e);if(bt(r,t))return e;Un(r,t);var n=Jo(r,t),u=n.length,i=[...Array(u-r.length).fill(1),...r],o=Ko(e);r.length<u&&(o=zn(o,i),r=Le(o));for(var s=0;s<u;s++)r[s]<n[s]&&(o=Xo(o,n[s],s),r=Le(o));return o}function Xo(e,t,r){return Go(...Array(t).fill(e),r)}function Ln(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=Le(e);if(t.length!==r.length)throw new we(t.length,r.length);for(var n=0;n<t.length;n++)Ee(t[n],r[n]);return t.reduce((u,i)=>u[i],e)}function Ko(e){return Dn([],e)}function tr(e,t,r){if(Jt.isTypedFunction(e)){var n=(t.isMatrix?t.size():Le(t)).map(()=>0),u=t.isMatrix?t.get(n):Ln(t,n),i=Object.keys(e.signatures).length===1,o=Qo(e,u,n,t),s=i?Object.values(e.signatures)[0]:e;return o>=1&&o<=3?function(){for(var c=arguments.length,l=new Array(c),a=0;a<c;a++)l[a]=arguments[a];return Jr(s,l.slice(0,o),r,e.name)}:function(){for(var c=arguments.length,l=new Array(c),a=0;a<c;a++)l[a]=arguments[a];return Jr(s,l,r,e.name)}}return e}function Qo(e,t,r,n){for(var u=[t,r,n],i=3;i>0;i--){var o=u.slice(0,i);if(Jt.resolve(e,o)!==null)return i}}function Jr(e,t,r,n){try{return e(...t)}catch(u){ea(u,t,r,n)}}function ea(e,t,r,n){var u;if(e instanceof TypeError&&((u=e.data)===null||u===void 0?void 0:u.category)==="wrongType"){var i=[];throw i.push("value: ".concat(ct(t[0]))),t.length>=2&&i.push("index: ".concat(ct(t[1]))),t.length>=3&&i.push("array: ".concat(ct(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var ta="DenseMatrix",ra=["Matrix"],na=se(ta,ra,e=>{var{Matrix:t}=e;function r(a,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!nt(h))throw new Error("Invalid datatype: "+h);if(Se(a))a.type==="DenseMatrix"?(this._data=Fe(a._data),this._size=Fe(a._size),this._datatype=h||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=h||a._datatype);else if(a&&be(a.data)&&be(a.size))this._data=a.data,this._size=a.size,Yr(this._data,this._size),this._datatype=h||a.datatype;else if(be(a))this._data=l(a),this._size=Le(this._data),Yr(this._data,this._size),this._datatype=h;else{if(a)throw new TypeError("Unsupported type of data ("+ct(a)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new t,r.prototype.createDenseMatrix=function(a,h){return new r(a,h)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return br(this._data,ct)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(a,h){return new r(a,h)},r.prototype.subset=function(a,h,D){switch(arguments.length){case 1:return n(this,a);case 2:case 3:return i(this,a,h,D);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(a){return Ln(this._data,a)},r.prototype.set=function(a,h,D){if(!be(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new we(a.length,this._size.length,"<");var F,y,f,v=a.map(function(b){return b+1});c(this,v,D);var w=this._data;for(F=0,y=a.length-1;F<y;F++)f=a[F],Ee(f,w.length),w=w[f];return f=a[a.length-1],Ee(f,w.length),w[f]=h,this};function n(a,h){if(!yr(h))throw new TypeError("Invalid index");var D=h.isScalar();if(D)return a.get(h.min());var F=h.size();if(F.length!==a._size.length)throw new we(F.length,a._size.length);for(var y=h.min(),f=h.max(),v=0,w=a._size.length;v<w;v++)Ee(y[v],a._size[v]),Ee(f[v],a._size[v]);return new r(u(a._data,h,F.length,0),a._datatype)}function u(a,h,D,F){var y=F===D-1,f=h.dimension(F);return y?f.map(function(v){return Ee(v,a.length),a[v]}).valueOf():f.map(function(v){Ee(v,a.length);var w=a[v];return u(w,h,D,F+1)}).valueOf()}function i(a,h,D,F){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var y=h.size(),f=h.isScalar(),v;if(Se(D)?(v=D.size(),D=D.valueOf()):v=Le(D),f){if(v.length!==0)throw new TypeError("Scalar expected");a.set(h.min(),D,F)}else{if(!bt(v,y))try{v.length===0?D=Gr([D],y):D=Gr(D,y),v=Le(D)}catch{}if(y.length<a._size.length)throw new we(y.length,a._size.length,"<");if(v.length<y.length){for(var w=0,b=0;y[w]===1&&v[w]===1;)w++;for(;y[w]===1;)b++,w++;D=Rn(D,y.length,b,v)}if(!bt(y,v))throw new we(y,v,">");var g=h.max().map(function(d){return d+1});c(a,g,F);var M=y.length,p=0;o(a._data,h,D,M,p)}return a}function o(a,h,D,F,y){var f=y===F-1,v=h.dimension(y);f?v.forEach(function(w,b){Ee(w),a[w]=D[b[0]]}):v.forEach(function(w,b){Ee(w),o(a[w],h,D[b[0]],F,y+1)})}r.prototype.resize=function(a,h,D){if(!Yt(a))throw new TypeError("Array or Matrix expected");var F=a.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),y=D?this.clone():this;return s(y,F,h)};function s(a,h,D){if(h.length===0){for(var F=a._data;be(F);)F=F[0];return F}return a._size=h.slice(0),a._data=Fr(a._data,a._size,D),a}r.prototype.reshape=function(a,h){var D=h?this.clone():this;D._data=zn(D._data,a);var F=D._size.reduce((y,f)=>y*f);return D._size=Br(a,F),D};function c(a,h,D){for(var F=a._size.slice(0),y=!1;F.length<h.length;)F.push(0),y=!0;for(var f=0,v=h.length;f<v;f++)h[f]>F[f]&&(F[f]=h[f],y=!0);y&&s(a,F,D)}r.prototype.clone=function(){var a=new r({data:Fe(this._data),size:Fe(this._size),datatype:this._datatype});return a},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(a){var h=this,D=h.size();if(D.length===1){for(var F=0;F<D[0];F++)a(h._data,F,[F]);return}var y=Array(D.length).fill(0),f=Array(D.length-1),v=f.length-1;f[0]=h._data[0];for(var w=0;w<v;w++)f[w+1]=f[w][0];for(y[v]=-1;;){var b=void 0;for(b=v;b>=0;b--){if(y[b]++,y[b]===D[b]){y[b]=0;continue}f[b]=b===0?h._data[y[b]]:f[b-1][y[b]];for(var g=b;g<v;g++)f[g+1]=f[g][0];for(var M=0;M<D[f.length];M++)y[f.length]=M,a(f[v],M,y.slice(0));break}if(b===-1)break}},r.prototype.map=function(a){var h=this,D=new r(h),F=tr(a,h._data,"map");return D._forEach(function(y,f,v){y[f]=F(y[f],v,h)}),D},r.prototype.forEach=function(a){var h=this,D=tr(a,h._data,"map");h._forEach(function(F,y,f){D(F[y],f,h)})},r.prototype[Symbol.iterator]=function*(){var a=function*(D,F){if(be(D))for(var y=0;y<D.length;y++)yield*a(D[y],F.concat(y));else yield{value:D,index:F}};yield*a(this._data,[])},r.prototype.rows=function(){var a=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var F of D)a.push(new r([F],this._datatype));return a},r.prototype.columns=function(){var a=this,h=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var F=this._data,y=function(w){var b=F.map(g=>[g[w]]);h.push(new r(b,a._datatype))},f=0;f<D[1];f++)y(f);return h},r.prototype.toArray=function(){return Fe(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(a){return Ae(this._data,a)},r.prototype.toString=function(){return Ae(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(a){if(a){if(_e(a)&&(a=a.toNumber()),!me(a)||!Me(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var h=a>0?a:0,D=a<0?-a:0,F=this._size[0],y=this._size[1],f=Math.min(F-D,y-h),v=[],w=0;w<f;w++)v[w]=this._data[w+D][w+h];return new r({data:v,size:[f],datatype:this._datatype})},r.diagonal=function(a,h,D,F){if(!be(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(C){if(_e(C)&&(C=C.toNumber()),!me(C)||!Me(C)||C<1)throw new Error("Size values must be positive integers");return C}),D){if(_e(D)&&(D=D.toNumber()),!me(D)||!Me(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var y=D>0?D:0,f=D<0?-D:0,v=a[0],w=a[1],b=Math.min(v-f,w-y),g;if(be(h)){if(h.length!==b)throw new Error("Invalid value array length");g=function(B){return h[B]}}else if(Se(h)){var M=h.size();if(M.length!==1||M[0]!==b)throw new Error("Invalid matrix length");g=function(B){return h.get([B])}}else g=function(){return h};F||(F=_e(g(0))?g(0).mul(0):0);var p=[];if(a.length>0){p=Fr(p,a,F);for(var d=0;d<b;d++)p[d+f][d+y]=g(d)}return new r({data:p,size:[v,w]})},r.fromJSON=function(a){return new r(a)},r.prototype.swapRows=function(a,h){if(!me(a)||!Me(a)||!me(h)||!Me(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ee(a,this._size[0]),Ee(h,this._size[0]),r._swapRows(a,h,this._data),this},r._swapRows=function(a,h,D){var F=D[a];D[a]=D[h],D[h]=F};function l(a){return Se(a)?l(a.valueOf()):be(a)?a.map(l):a}return r},{isClass:!0});function dt(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return dt(n,t)}):t(e)}var kn="number",_r="number, number";function Zn(e){return Math.abs(e)}Zn.signature=kn;function Vn(e,t){return e+t}Vn.signature=_r;function jn(e,t){return e-t}jn.signature=_r;function Hn(e,t){return e*t}Hn.signature=_r;function Wn(e){return-e}Wn.signature=kn;function ua(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var Xr="isZero",ia=["typed","equalScalar"],oa=se(Xr,ia,e=>{var{typed:t,equalScalar:r}=e;return t(Xr,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>u=>t.find(n,u.valueType())(u.value)),"Array | Matrix":t.referToSelf(n=>u=>dt(u,n))})});function aa(e,t,r,n){return Xt(e.re,t.re,r,n)&&Xt(e.im,t.im,r,n)}var sa=se("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),u.valueType()])(n.value,u.value)})}}),rr="equalScalar",fa=["typed","config"],ca=se(rr,fa,e=>{var{typed:t,config:r}=e,n=sa({typed:t});return t(rr,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return Xt(i,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||ua(i,o,r.relTol,r.absTol)},"bigint, bigint":function(i,o){return i===o},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return aa(i,o,r.relTol,r.absTol)}},n)});se(rr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(rr,{"number, number":function(u,i){return Xt(u,i,r.relTol,r.absTol)}})});var la="SparseMatrix",ha=["typed","equalScalar","Matrix"],Da=se(la,ha,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function u(f,v){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!nt(v))throw new Error("Invalid datatype: "+v);if(Se(f))i(this,f,v);else if(f&&be(f.index)&&be(f.ptr)&&be(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=v||f.datatype;else if(be(f))o(this,f,v);else{if(f)throw new TypeError("Unsupported type of data ("+ct(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function i(f,v,w){v.type==="SparseMatrix"?(f._values=v._values?Fe(v._values):void 0,f._index=Fe(v._index),f._ptr=Fe(v._ptr),f._size=Fe(v._size),f._datatype=w||v._datatype):o(f,v.valueOf(),w||v._datatype)}function o(f,v,w){f._values=[],f._index=[],f._ptr=[],f._datatype=w;var b=v.length,g=0,M=r,p=0;if(nt(w)&&(M=t.find(r,[w,w])||r,p=t.convert(0,w)),b>0){var d=0;do{f._ptr.push(f._index.length);for(var C=0;C<b;C++){var B=v[C];if(be(B)){if(d===0&&g<B.length&&(g=B.length),d<B.length){var A=B[d];M(A,p)||(f._values.push(A),f._index.push(C))}}else d===0&&g<1&&(g=1),M(B,p)||(f._values.push(B),f._index.push(C))}d++}while(d<g)}f._ptr.push(f._index.length),f._size=[b,g]}u.prototype=new n,u.prototype.createSparseMatrix=function(f,v){return new u(f,v)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return br(this._values,ct)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(f,v){return new u(f,v)},u.prototype.density=function(){var f=this._size[0],v=this._size[1];return f!==0&&v!==0?this._index.length/(f*v):0},u.prototype.subset=function(f,v,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,f);case 2:case 3:return c(this,f,v,w);default:throw new SyntaxError("Wrong number of arguments")}};function s(f,v){if(!yr(v))throw new TypeError("Invalid index");var w=v.isScalar();if(w)return f.get(v.min());var b=v.size();if(b.length!==f._size.length)throw new we(b.length,f._size.length);var g,M,p,d,C=v.min(),B=v.max();for(g=0,M=f._size.length;g<M;g++)Ee(C[g],f._size[g]),Ee(B[g],f._size[g]);var A=f._values,_=f._index,T=f._ptr,I=v.dimension(0),k=v.dimension(1),W=[],H=[];I.forEach(function(J,re){H[J]=re[0],W[J]=!0});var $=A?[]:void 0,ee=[],Y=[];return k.forEach(function(J){for(Y.push(ee.length),p=T[J],d=T[J+1];p<d;p++)g=_[p],W[g]===!0&&(ee.push(H[g]),$&&$.push(A[p]))}),Y.push(ee.length),new u({values:$,index:ee,ptr:Y,size:b,datatype:f._datatype})}function c(f,v,w,b){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var g=v.size(),M=v.isScalar(),p;if(Se(w)?(p=w.size(),w=w.toArray()):p=Le(w),M){if(p.length!==0)throw new TypeError("Scalar expected");f.set(v.min(),w,b)}else{if(g.length!==1&&g.length!==2)throw new we(g.length,f._size.length,"<");if(p.length<g.length){for(var d=0,C=0;g[d]===1&&p[d]===1;)d++;for(;g[d]===1;)C++,d++;w=Rn(w,g.length,C,p)}if(!bt(g,p))throw new we(g,p,">");if(g.length===1){var B=v.dimension(0);B.forEach(function(T,I){Ee(T),f.set([T,0],w[I[0]],b)})}else{var A=v.dimension(0),_=v.dimension(1);A.forEach(function(T,I){Ee(T),_.forEach(function(k,W){Ee(k),f.set([T,k],w[I[0]][W[0]],b)})})}}return f}u.prototype.get=function(f){if(!be(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new we(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=f[0],w=f[1];Ee(v,this._size[0]),Ee(w,this._size[1]);var b=l(v,this._ptr[w],this._ptr[w+1],this._index);return b<this._ptr[w+1]&&this._index[b]===v?this._values[b]:0},u.prototype.set=function(f,v,w){if(!be(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new we(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var b=f[0],g=f[1],M=this._size[0],p=this._size[1],d=r,C=0;nt(this._datatype)&&(d=t.find(r,[this._datatype,this._datatype])||r,C=t.convert(0,this._datatype)),(b>M-1||g>p-1)&&(D(this,Math.max(b+1,M),Math.max(g+1,p),w),M=this._size[0],p=this._size[1]),Ee(b,M),Ee(g,p);var B=l(b,this._ptr[g],this._ptr[g+1],this._index);return B<this._ptr[g+1]&&this._index[B]===b?d(v,C)?a(B,g,this._values,this._index,this._ptr):this._values[B]=v:d(v,C)||h(B,b,g,v,this._values,this._index,this._ptr),this};function l(f,v,w,b){if(w-v===0)return w;for(var g=v;g<w;g++)if(b[g]===f)return g;return v}function a(f,v,w,b,g){w.splice(f,1),b.splice(f,1);for(var M=v+1;M<g.length;M++)g[M]--}function h(f,v,w,b,g,M,p){g.splice(f,0,b),M.splice(f,0,v);for(var d=w+1;d<p.length;d++)p[d]++}u.prototype.resize=function(f,v,w){if(!Yt(f))throw new TypeError("Array or Matrix expected");var b=f.valueOf().map(M=>Array.isArray(M)&&M.length===1?M[0]:M);if(b.length!==2)throw new Error("Only two dimensions matrix are supported");b.forEach(function(M){if(!me(M)||!Me(M)||M<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ae(b)+")")});var g=w?this.clone():this;return D(g,b[0],b[1],v)};function D(f,v,w,b){var g=b||0,M=r,p=0;nt(f._datatype)&&(M=t.find(r,[f._datatype,f._datatype])||r,p=t.convert(0,f._datatype),g=t.convert(g,f._datatype));var d=!M(g,p),C=f._size[0],B=f._size[1],A,_,T;if(w>B){for(_=B;_<w;_++)if(f._ptr[_]=f._values.length,d)for(A=0;A<C;A++)f._values.push(g),f._index.push(A);f._ptr[w]=f._values.length}else w<B&&(f._ptr.splice(w+1,B-w),f._values.splice(f._ptr[w],f._values.length),f._index.splice(f._ptr[w],f._index.length));if(B=w,v>C){if(d){var I=0;for(_=0;_<B;_++){f._ptr[_]=f._ptr[_]+I,T=f._ptr[_+1]+I;var k=0;for(A=C;A<v;A++,k++)f._values.splice(T+k,0,g),f._index.splice(T+k,0,A),I++}f._ptr[B]=f._values.length}}else if(v<C){var W=0;for(_=0;_<B;_++){f._ptr[_]=f._ptr[_]-W;var H=f._ptr[_],$=f._ptr[_+1]-W;for(T=H;T<$;T++)A=f._index[T],A>v-1&&(f._values.splice(T,1),f._index.splice(T,1),W++)}f._ptr[_]=f._values.length}return f._size[0]=v,f._size[1]=w,f}u.prototype.reshape=function(f,v){if(!be(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(J){if(!me(J)||!Me(J)||J<=-2||J===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ae(f)+")")});var w=this._size[0]*this._size[1];f=Br(f,w);var b=f[0]*f[1];if(w!==b)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=v?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return g;for(var M=[],p=0;p<g._ptr.length;p++)for(var d=0;d<g._ptr[p+1]-g._ptr[p];d++)M.push(p);for(var C=g._values.slice(),B=g._index.slice(),A=0;A<g._index.length;A++){var _=B[A],T=M[A],I=_*g._size[1]+T;M[A]=I%f[1],B[A]=Math.floor(I/f[1])}g._values.length=0,g._index.length=0,g._ptr.length=f[1]+1,g._size=f.slice();for(var k=0;k<g._ptr.length;k++)g._ptr[k]=0;for(var W=0;W<C.length;W++){var H=B[W],$=M[W],ee=C[W],Y=l(H,g._ptr[$],g._ptr[$+1],g._index);h(Y,H,$,ee,g._values,g._index,g._ptr)}return g},u.prototype.clone=function(){var f=new u({values:this._values?Fe(this._values):void 0,index:Fe(this._index),ptr:Fe(this._ptr),size:Fe(this._size),datatype:this._datatype});return f},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(f,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,b=this._size[0],g=this._size[1],M=tr(f,w,"map"),p=function(C,B,A){return M(C,[B,A],w)};return F(this,0,b-1,0,g-1,p,v)};function F(f,v,w,b,g,M,p){var d=[],C=[],B=[],A=r,_=0;nt(f._datatype)&&(A=t.find(r,[f._datatype,f._datatype])||r,_=t.convert(0,f._datatype));for(var T=function(ce,ye,ve){var j=M(ce,ye,ve);A(j,_)||(d.push(j),C.push(ye))},I=b;I<=g;I++){B.push(d.length);var k=f._ptr[I],W=f._ptr[I+1];if(p)for(var H=k;H<W;H++){var $=f._index[H];$>=v&&$<=w&&T(f._values[H],$-v,I-b)}else{for(var ee={},Y=k;Y<W;Y++){var J=f._index[Y];ee[J]=f._values[Y]}for(var re=v;re<=w;re++){var fe=re in ee?ee[re]:0;T(fe,re-v,I-b)}}}return B.push(d.length),new u({values:d,index:C,ptr:B,size:[w-v+1,g-b+1]})}u.prototype.forEach=function(f,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,b=this._size[0],g=this._size[1],M=tr(f,w,"forEach"),p=0;p<g;p++){var d=this._ptr[p],C=this._ptr[p+1];if(v)for(var B=d;B<C;B++){var A=this._index[B];M(this._values[B],[A,p],w)}else{for(var _={},T=d;T<C;T++){var I=this._index[T];_[I]=this._values[T]}for(var k=0;k<b;k++){var W=k in _?_[k]:0;M(W,[k,p],w)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],v=0;v<f;v++)for(var w=this._ptr[v],b=this._ptr[v+1],g=w;g<b;g++){var M=this._index[g];yield{value:this._values[g],index:[M,v]}}},u.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(f,v,w,b,g){var M=b[0],p=b[1],d=[],C,B;for(C=0;C<M;C++)for(d[C]=[],B=0;B<p;B++)d[C][B]=0;for(B=0;B<p;B++)for(var A=w[B],_=w[B+1],T=A;T<_;T++)C=v[T],d[C][B]=f?g?Fe(f[T]):f[T]:1;return d}return u.prototype.format=function(f){for(var v=this._size[0],w=this._size[1],b=this.density(),g="Sparse Matrix ["+Ae(v,f)+" x "+Ae(w,f)+"] density: "+Ae(b,f)+`
`,M=0;M<w;M++)for(var p=this._ptr[M],d=this._ptr[M+1],C=p;C<d;C++){var B=this._index[C];g+=`
    (`+Ae(B,f)+", "+Ae(M,f)+") ==> "+(this._values?Ae(this._values[C],f):"X")}return g},u.prototype.toString=function(){return Ae(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(f){if(f){if(_e(f)&&(f=f.toNumber()),!me(f)||!Me(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var v=f>0?f:0,w=f<0?-f:0,b=this._size[0],g=this._size[1],M=Math.min(b-w,g-v),p=[],d=[],C=[];C[0]=0;for(var B=v;B<g&&p.length<M;B++)for(var A=this._ptr[B],_=this._ptr[B+1],T=A;T<_;T++){var I=this._index[T];if(I===B-v+w){p.push(this._values[T]),d[p.length-1]=I-w;break}}return C.push(p.length),new u({values:p,index:d,ptr:C,size:[M,1]})},u.fromJSON=function(f){return new u(f)},u.diagonal=function(f,v,w,b,g){if(!be(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(J){if(_e(J)&&(J=J.toNumber()),!me(J)||!Me(J)||J<1)throw new Error("Size values must be positive integers");return J}),w){if(_e(w)&&(w=w.toNumber()),!me(w)||!Me(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var M=r,p=0;nt(g)&&(M=t.find(r,[g,g])||r,p=t.convert(0,g));var d=w>0?w:0,C=w<0?-w:0,B=f[0],A=f[1],_=Math.min(B-C,A-d),T;if(be(v)){if(v.length!==_)throw new Error("Invalid value array length");T=function(re){return v[re]}}else if(Se(v)){var I=v.size();if(I.length!==1||I[0]!==_)throw new Error("Invalid matrix length");T=function(re){return v.get([re])}}else T=function(){return v};for(var k=[],W=[],H=[],$=0;$<A;$++){H.push(k.length);var ee=$-d;if(ee>=0&&ee<_){var Y=T(ee);M(Y,p)||(W.push(ee+C),k.push(Y))}}return H.push(k.length),new u({values:k,index:W,ptr:H,size:[B,A]})},u.prototype.swapRows=function(f,v){if(!me(f)||!Me(f)||!me(v)||!Me(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ee(f,this._size[0]),Ee(v,this._size[0]),u._swapRows(f,v,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(f,v,w,b,g){for(var M=b[f],p=b[f+1],d=M;d<p;d++)g(w[d],v[d])},u._swapRows=function(f,v,w,b,g,M){for(var p=0;p<w;p++){var d=M[p],C=M[p+1],B=l(f,d,C,g),A=l(v,d,C,g);if(B<C&&A<C&&g[B]===f&&g[A]===v){if(b){var _=b[B];b[B]=b[A],b[A]=_}continue}if(B<C&&g[B]===f&&(A>=C||g[A]!==v)){var T=b?b[B]:void 0;g.splice(A,0,v),b&&b.splice(A,0,T),g.splice(A<=B?B+1:B,1),b&&b.splice(A<=B?B+1:B,1);continue}if(A<C&&g[A]===v&&(B>=C||g[B]!==f)){var I=b?b[A]:void 0;g.splice(B,0,f),b&&b.splice(B,0,I),g.splice(B<=A?A+1:A,1),b&&b.splice(B<=A?A+1:A,1)}}},u},{isClass:!0}),da="number",pa=["typed"];function ma(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],u=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:u}}else return null}function va(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var u=parseInt(e.fractionalPart[n],e.radix);r+=u/Math.pow(e.radix,n+1)}var i=t+r;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}var ga=se(da,pa,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(u){return u},string:function(u){if(u==="NaN")return NaN;var i=ma(u);if(i)return va(i);var o=0,s=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),u=s[1]);var c=Number(u);if(isNaN(c))throw new SyntaxError('String "'+u+'" is not a valid number');if(s){if(c>2**o-1)throw new SyntaxError('String "'.concat(u,'" is out of range'));c>=2**(o-1)&&(c=c-2**o)}return c},BigNumber:function(u){return u.toNumber()},bigint:function(u){return Number(u)},Fraction:function(u){return u.valueOf()},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),null:function(u){return 0},"Unit, string | Unit":function(u,i){return u.toNumber(i)},"Array | Matrix":t.referToSelf(n=>u=>dt(u,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),Fa="bignumber",wa=["typed","BigNumber"],ya=se(Fa,wa,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(u){return new r(u+"")},string:function(u){var i=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var o=i[2],s=r(i[1]),c=new r(2).pow(Number(o));if(s.gt(c.sub(1)))throw new SyntaxError('String "'.concat(u,'" is out of range'));var l=new r(2).pow(Number(o)-1);return s.gte(l)?s.sub(c):s}return new r(u)},BigNumber:function(u){return u},bigint:function(u){return new r(u.toString())},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Fraction:function(u){return new r(String(u.n)).div(String(u.d)).times(String(u.s))},null:function(u){return new r(0)},"Array | Matrix":t.referToSelf(n=>u=>dt(u,n))})}),Ea="fraction",Aa=["typed","Fraction"],Ca=se(Ea,Aa,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(u){if(!isFinite(u)||isNaN(u))throw new Error(u+" cannot be represented as a fraction");return new r(u)},string:function(u){return new r(u)},"number, number":function(u,i){return new r(u,i)},"bigint, bigint":function(u,i){return new r(u,i)},null:function(u){return new r(0)},BigNumber:function(u){return new r(u.toString())},bigint:function(u){return new r(u.toString())},Fraction:function(u){return u},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Object:function(u){return new r(u)},"Array | Matrix":t.referToSelf(n=>u=>dt(u,n))})}),Kr="matrix",Ba=["typed","Matrix","DenseMatrix","SparseMatrix"],ba=se(Kr,Ba,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:u}=e;return t(Kr,{"":function(){return i([])},string:function(s){return i([],s)},"string, string":function(s,c){return i([],s,c)},Array:function(s){return i(s)},Matrix:function(s){return i(s,s.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(o,s,c){if(s==="dense"||s==="default"||s===void 0)return new n(o,c);if(s==="sparse")return new u(o,c);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),Qr="unaryMinus",_a=["typed"],Na=se(Qr,_a,e=>{var{typed:t}=e;return t(Qr,{number:Wn,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var u=n.clone();return u.value=t.find(r,u.valueType())(n.value),u}),"Array | Matrix":t.referToSelf(r=>n=>dt(n,r))})}),en="abs",Ma=["typed"],Sa=se(en,Ma,e=>{var{typed:t}=e;return t(en,{number:Zn,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>dt(n,r))})}),tn="addScalar",Ta=["typed"],xa=se(tn,Ta,e=>{var{typed:t}=e;return t(tn,{"number, number":Vn,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"bigint, bigint":function(n,u){return n+u},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),rn="subtractScalar",Ia=["typed"],Oa=se(rn,Ia,e=>{var{typed:t}=e;return t(rn,{"number, number":jn,"Complex, Complex":function(n,u){return n.sub(u)},"BigNumber, BigNumber":function(n,u){return n.minus(u)},"bigint, bigint":function(n,u){return n-u},"Fraction, Fraction":function(n,u){return n.sub(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),za="matAlgo11xS0s",Pa=["typed","equalScalar"],Ra=se(za,Pa,e=>{var{typed:t,equalScalar:r}=e;return function(u,i,o,s){var c=u._values,l=u._index,a=u._ptr,h=u._size,D=u._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var F=h[0],y=h[1],f,v=r,w=0,b=o;typeof D=="string"&&(f=D,v=t.find(r,[f,f]),w=t.convert(0,f),i=t.convert(i,f),b=t.find(o,[f,f]));for(var g=[],M=[],p=[],d=0;d<y;d++){p[d]=M.length;for(var C=a[d],B=a[d+1],A=C;A<B;A++){var _=l[A],T=s?b(i,c[A]):b(c[A],i);v(T,w)||(M.push(_),g.push(T))}}return p[y]=M.length,u.createSparseMatrix({values:g,index:M,ptr:p,size:[F,y],datatype:f})}}),qa="matAlgo14xDs",$a=["typed"],Ua=se(qa,$a,e=>{var{typed:t}=e;return function(u,i,o,s){var c=u._data,l=u._size,a=u._datatype,h,D=o;typeof a=="string"&&(h=a,i=t.convert(i,h),D=t.find(o,[h,h]));var F=l.length>0?r(D,0,l,l[0],c,i,s):[];return u.createDenseMatrix({data:F,size:Fe(l),datatype:h})};function r(n,u,i,o,s,c,l){var a=[];if(u===i.length-1)for(var h=0;h<o;h++)a[h]=l?n(c,s[h]):n(s[h],c);else for(var D=0;D<o;D++)a[D]=r(n,u+1,i,i[u+1],s[D],c,l);return a}}),La="multiplyScalar",ka=["typed"],Za=se(La,ka,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Hn,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"bigint, bigint":function(n,u){return n*u},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),nn="multiply",Va=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],ja=se(nn,Va,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:u,equalScalar:i,dot:o}=e,s=Ra({typed:t,equalScalar:i}),c=Ua({typed:t});function l(p,d){switch(p.length){case 1:switch(d.length){case 1:if(p[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(p[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+p[0]+") must match Matrix rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;case 2:switch(d.length){case 1:if(p[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+p[1]+") must match Vector length ("+d[0]+")");break;case 2:if(p[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+p[1]+") must match Matrix B rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+p.length+" dimensions)")}}function a(p,d,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return o(p,d)}function h(p,d){if(d.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return D(p,d)}function D(p,d){var C=p._data,B=p._size,A=p._datatype||p.getDataType(),_=d._data,T=d._size,I=d._datatype||d.getDataType(),k=B[0],W=T[1],H,$=n,ee=u;A&&I&&A===I&&typeof A=="string"&&A!=="mixed"&&(H=A,$=t.find(n,[H,H]),ee=t.find(u,[H,H]));for(var Y=[],J=0;J<W;J++){for(var re=ee(C[0],_[0][J]),fe=1;fe<k;fe++)re=$(re,ee(C[fe],_[fe][J]));Y[J]=re}return p.createDenseMatrix({data:Y,size:[W],datatype:A===p._datatype&&I===d._datatype?H:void 0})}var F=t("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":b}),y=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":M});function f(p,d){var C=p._data,B=p._size,A=p._datatype||p.getDataType(),_=d._data,T=d._datatype||d.getDataType(),I=B[0],k=B[1],W,H=n,$=u;A&&T&&A===T&&typeof A=="string"&&A!=="mixed"&&(W=A,H=t.find(n,[W,W]),$=t.find(u,[W,W]));for(var ee=[],Y=0;Y<I;Y++){for(var J=C[Y],re=$(J[0],_[0]),fe=1;fe<k;fe++)re=H(re,$(J[fe],_[fe]));ee[Y]=re}return p.createDenseMatrix({data:ee,size:[I],datatype:A===p._datatype&&T===d._datatype?W:void 0})}function v(p,d){var C=p._data,B=p._size,A=p._datatype||p.getDataType(),_=d._data,T=d._size,I=d._datatype||d.getDataType(),k=B[0],W=B[1],H=T[1],$,ee=n,Y=u;A&&I&&A===I&&typeof A=="string"&&A!=="mixed"&&A!=="mixed"&&($=A,ee=t.find(n,[$,$]),Y=t.find(u,[$,$]));for(var J=[],re=0;re<k;re++){var fe=C[re];J[re]=[];for(var ae=0;ae<H;ae++){for(var ce=Y(fe[0],_[0][ae]),ye=1;ye<W;ye++)ce=ee(ce,Y(fe[ye],_[ye][ae]));J[re][ae]=ce}}return p.createDenseMatrix({data:J,size:[k,H],datatype:A===p._datatype&&I===d._datatype?$:void 0})}function w(p,d){var C=p._data,B=p._size,A=p._datatype||p.getDataType(),_=d._values,T=d._index,I=d._ptr,k=d._size,W=d._datatype||d._data===void 0?d._datatype:d.getDataType();if(!_)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var H=B[0],$=k[1],ee,Y=n,J=u,re=i,fe=0;A&&W&&A===W&&typeof A=="string"&&A!=="mixed"&&(ee=A,Y=t.find(n,[ee,ee]),J=t.find(u,[ee,ee]),re=t.find(i,[ee,ee]),fe=t.convert(0,ee));for(var ae=[],ce=[],ye=[],ve=d.createSparseMatrix({values:ae,index:ce,ptr:ye,size:[H,$],datatype:A===p._datatype&&W===d._datatype?ee:void 0}),j=0;j<$;j++){ye[j]=ce.length;var G=I[j],ue=I[j+1];if(ue>G)for(var ie=0,oe=0;oe<H;oe++){for(var Ze=oe+1,Ie=void 0,De=G;De<ue;De++){var Te=T[De];ie!==Ze?(Ie=J(C[oe][Te],_[De]),ie=Ze):Ie=Y(Ie,J(C[oe][Te],_[De]))}ie===Ze&&!re(Ie,fe)&&(ce.push(oe),ae.push(Ie))}}return ye[$]=ce.length,ve}function b(p,d){var C=p._values,B=p._index,A=p._ptr,_=p._datatype||p._data===void 0?p._datatype:p.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=d._data,I=d._datatype||d.getDataType(),k=p._size[0],W=d._size[0],H=[],$=[],ee=[],Y,J=n,re=u,fe=i,ae=0;_&&I&&_===I&&typeof _=="string"&&_!=="mixed"&&(Y=_,J=t.find(n,[Y,Y]),re=t.find(u,[Y,Y]),fe=t.find(i,[Y,Y]),ae=t.convert(0,Y));var ce=[],ye=[];ee[0]=0;for(var ve=0;ve<W;ve++){var j=T[ve];if(!fe(j,ae))for(var G=A[ve],ue=A[ve+1],ie=G;ie<ue;ie++){var oe=B[ie];ye[oe]?ce[oe]=J(ce[oe],re(j,C[ie])):(ye[oe]=!0,$.push(oe),ce[oe]=re(j,C[ie]))}}for(var Ze=$.length,Ie=0;Ie<Ze;Ie++){var De=$[Ie];H[Ie]=ce[De]}return ee[1]=$.length,p.createSparseMatrix({values:H,index:$,ptr:ee,size:[k,1],datatype:_===p._datatype&&I===d._datatype?Y:void 0})}function g(p,d){var C=p._values,B=p._index,A=p._ptr,_=p._datatype||p._data===void 0?p._datatype:p.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var T=d._data,I=d._datatype||d.getDataType(),k=p._size[0],W=d._size[0],H=d._size[1],$,ee=n,Y=u,J=i,re=0;_&&I&&_===I&&typeof _=="string"&&_!=="mixed"&&($=_,ee=t.find(n,[$,$]),Y=t.find(u,[$,$]),J=t.find(i,[$,$]),re=t.convert(0,$));for(var fe=[],ae=[],ce=[],ye=p.createSparseMatrix({values:fe,index:ae,ptr:ce,size:[k,H],datatype:_===p._datatype&&I===d._datatype?$:void 0}),ve=[],j=[],G=0;G<H;G++){ce[G]=ae.length;for(var ue=G+1,ie=0;ie<W;ie++){var oe=T[ie][G];if(!J(oe,re))for(var Ze=A[ie],Ie=A[ie+1],De=Ze;De<Ie;De++){var Te=B[De];j[Te]!==ue?(j[Te]=ue,ae.push(Te),ve[Te]=Y(oe,C[De])):ve[Te]=ee(ve[Te],Y(oe,C[De]))}}for(var Ve=ce[G],et=ae.length,tt=Ve;tt<et;tt++){var vt=ae[tt];fe[tt]=ve[vt]}}return ce[H]=ae.length,ye}function M(p,d){var C=p._values,B=p._index,A=p._ptr,_=p._datatype||p._data===void 0?p._datatype:p.getDataType(),T=d._values,I=d._index,k=d._ptr,W=d._datatype||d._data===void 0?d._datatype:d.getDataType(),H=p._size[0],$=d._size[1],ee=C&&T,Y,J=n,re=u;_&&W&&_===W&&typeof _=="string"&&_!=="mixed"&&(Y=_,J=t.find(n,[Y,Y]),re=t.find(u,[Y,Y]));for(var fe=ee?[]:void 0,ae=[],ce=[],ye=p.createSparseMatrix({values:fe,index:ae,ptr:ce,size:[H,$],datatype:_===p._datatype&&W===d._datatype?Y:void 0}),ve=ee?[]:void 0,j=[],G,ue,ie,oe,Ze,Ie,De,Te,Ve=0;Ve<$;Ve++){ce[Ve]=ae.length;var et=Ve+1;for(Ze=k[Ve],Ie=k[Ve+1],oe=Ze;oe<Ie;oe++)if(Te=I[oe],ee)for(ue=A[Te],ie=A[Te+1],G=ue;G<ie;G++)De=B[G],j[De]!==et?(j[De]=et,ae.push(De),ve[De]=re(T[oe],C[G])):ve[De]=J(ve[De],re(T[oe],C[G]));else for(ue=A[Te],ie=A[Te+1],G=ue;G<ie;G++)De=B[G],j[De]!==et&&(j[De]=et,ae.push(De));if(ee)for(var tt=ce[Ve],vt=ae.length,gt=tt;gt<vt;gt++){var sr=ae[gt];fe[gt]=ve[sr]}}return ce[$]=ae.length,ye}return t(nn,u,{"Array, Array":t.referTo("Matrix, Matrix",p=>(d,C)=>{l(Le(d),Le(C));var B=p(r(d),r(C));return Se(B)?B.valueOf():B}),"Matrix, Matrix":function(d,C){var B=d.size(),A=C.size();return l(B,A),B.length===1?A.length===1?a(d,C,B[0]):h(d,C):A.length===1?F(d,C):y(d,C)},"Matrix, Array":t.referTo("Matrix,Matrix",p=>(d,C)=>p(d,r(C))),"Array, Matrix":t.referToSelf(p=>(d,C)=>p(r(d,C.storage()),C)),"SparseMatrix, any":function(d,C){return s(d,C,u,!1)},"DenseMatrix, any":function(d,C){return c(d,C,u,!1)},"any, SparseMatrix":function(d,C){return s(C,d,u,!0)},"any, DenseMatrix":function(d,C){return c(C,d,u,!0)},"Array, any":function(d,C){return c(r(d),C,u,!1).valueOf()},"any, Array":function(d,C){return c(r(C),d,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(p=>(d,C,B)=>{for(var A=p(d,C),_=0;_<B.length;_++)A=p(A,B[_]);return A})})}),un="conj",Ha=["typed"],Wa=se(un,Ha,e=>{var{typed:t}=e;return t(un,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>dt(n,r))})}),on="identity",Ya=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Ga=se(on,Ya,e=>{var{typed:t,config:r,matrix:n,BigNumber:u,DenseMatrix:i,SparseMatrix:o}=e;return t(on,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(a){return n(a)},"number | BigNumber":function(a){return c(a,a,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(a,h){return c(a,a,h)},"number | BigNumber, number | BigNumber":function(a,h){return c(a,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(a,h,D){return c(a,h,D)},Array:function(a){return s(a)},"Array, string":function(a,h){return s(a,h)},Matrix:function(a){return s(a.valueOf(),a.storage())},"Matrix, string":function(a,h){return s(a.valueOf(),h)}});function s(l,a){switch(l.length){case 0:return a?n(a):[];case 1:return c(l[0],l[0],a);case 2:return c(l[0],l[1],a);default:throw new Error("Vector containing two values expected")}}function c(l,a,h){var D=_e(l)||_e(a)?u:null;if(_e(l)&&(l=l.toNumber()),_e(a)&&(a=a.toNumber()),!Me(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!Me(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var F=D?new u(1):1,y=D?new D(0):0,f=[l,a];if(h){if(h==="sparse")return o.diagonal(f,F,0,y);if(h==="dense")return i.diagonal(f,F,0,y);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var v=Fr([],f,y),w=l<a?l:a,b=0;b<w;b++)v[b][b]=F;return v}});function Ja(){throw new Error('No "bignumber" implementation available')}function Xa(){throw new Error('No "fraction" implementation available')}function Ka(){throw new Error('No "matrix" implementation available')}var an="size",Qa=["typed","config","?matrix"],es=se(an,Qa,e=>{var{typed:t,config:r,matrix:n}=e;return t(an,{Matrix:function(i){return i.create(i.size(),"number")},Array:Le,string:function(i){return r.matrix==="Array"?[i.length]:n([i.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(i){return r.matrix==="Array"?[]:n?n([],"dense","number"):Ka()}})}),sn="transpose",ts=["typed","matrix"],rs=se(sn,ts,e=>{var{typed:t,matrix:r}=e;return t(sn,{Array:o=>n(r(o)).valueOf(),Matrix:n,any:Fe});function n(o){var s=o.size(),c;switch(s.length){case 1:c=o.clone();break;case 2:{var l=s[0],a=s[1];if(a===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Ae(s)+")");switch(o.storage()){case"dense":c=u(o,l,a);break;case"sparse":c=i(o,l,a);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Ae(s)+")")}return c}function u(o,s,c){for(var l=o._data,a=[],h,D=0;D<c;D++){h=a[D]=[];for(var F=0;F<s;F++)h[F]=Fe(l[F][D])}return o.createDenseMatrix({data:a,size:[c,s],datatype:o._datatype})}function i(o,s,c){for(var l=o._values,a=o._index,h=o._ptr,D=l?[]:void 0,F=[],y=[],f=[],v=0;v<s;v++)f[v]=0;var w,b,g;for(w=0,b=a.length;w<b;w++)f[a[w]]++;for(var M=0,p=0;p<s;p++)y.push(M),M+=f[p],f[p]=y[p];for(y.push(M),g=0;g<c;g++)for(var d=h[g],C=h[g+1],B=d;B<C;B++){var A=f[a[B]]++;F[A]=g,l&&(D[A]=Fe(l[B]))}return o.createSparseMatrix({values:D,index:F,ptr:y,size:[c,s],datatype:o._datatype})}}),ns="numeric",us=["number","?bignumber","?fraction"],is=se(ns,us,e=>{var{number:t,bignumber:r,fraction:n}=e,u={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:o=>t(o),BigNumber:r?o=>r(o):Ja,bigint:o=>BigInt(o),Fraction:n?o=>n(o):Xa};return function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=ct(s);if(!(a in u))throw new TypeError("Cannot convert "+s+' of type "'+a+'"; valid input types are '+Object.keys(u).join(", "));if(!(c in i))throw new TypeError("Cannot convert "+s+' to type "'+c+'"; valid output types are '+Object.keys(i).join(", "));return c===a?s:i[c](s)}}),fn="divideScalar",os=["typed","numeric"],as=se(fn,os,e=>{var{typed:t,numeric:r}=e;return t(fn,{"number, number":function(u,i){return u/i},"Complex, Complex":function(u,i){return u.div(i)},"BigNumber, BigNumber":function(u,i){return u.div(i)},"bigint, bigint":function(u,i){return u/i},"Fraction, Fraction":function(u,i){return u.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,u)=>n.divide(u),"number | Fraction | Complex | BigNumber, Unit":(n,u)=>u.divideInto(n)})}),cn="dot",ss=["typed","addScalar","multiplyScalar","conj","size"],fs=se(cn,ss,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:u,size:i}=e;return t(cn,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":c});function o(a,h){var D=l(a),F=l(h),y,f;if(D.length===1)y=D[0];else if(D.length===2&&D[1]===1)y=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(F.length===1)f=F[0];else if(F.length===2&&F[1]===1)f=F[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+F.join(", ")+")");if(y!==f)throw new RangeError("Vectors must have equal length ("+y+" != "+f+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function s(a,h){var D=o(a,h),F=Se(a)?a._data:a,y=Se(a)?a._datatype||a.getDataType():void 0,f=Se(h)?h._data:h,v=Se(h)?h._datatype||h.getDataType():void 0,w=l(a).length===2,b=l(h).length===2,g=r,M=n;if(y&&v&&y===v&&typeof y=="string"&&y!=="mixed"){var p=y;g=t.find(r,[p,p]),M=t.find(n,[p,p])}if(!w&&!b){for(var d=M(u(F[0]),f[0]),C=1;C<D;C++)d=g(d,M(u(F[C]),f[C]));return d}if(!w&&b){for(var B=M(u(F[0]),f[0][0]),A=1;A<D;A++)B=g(B,M(u(F[A]),f[A][0]));return B}if(w&&!b){for(var _=M(u(F[0][0]),f[0]),T=1;T<D;T++)_=g(_,M(u(F[T][0]),f[T]));return _}if(w&&b){for(var I=M(u(F[0][0]),f[0][0]),k=1;k<D;k++)I=g(I,M(u(F[k][0]),f[k][0]));return I}}function c(a,h){o(a,h);for(var D=a._index,F=a._values,y=h._index,f=h._values,v=0,w=r,b=n,g=0,M=0;g<D.length&&M<y.length;){var p=D[g],d=y[M];if(p<d){g++;continue}if(p>d){M++;continue}p===d&&(v=w(v,b(F[g],f[M])),g++,M++)}return v}function l(a){return Se(a)?a.size():i(a)}}),ln="det",cs=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],ls=se(ln,cs,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:u,divideScalar:i,isZero:o,unaryMinus:s}=e;return t(ln,{any:function(a){return Fe(a)},"Array | Matrix":function(a){var h;switch(Se(a)?h=a.size():Array.isArray(a)?(a=r(a),h=a.size()):h=[],h.length){case 0:return Fe(a);case 1:if(h[0]===1)return Fe(a.valueOf()[0]);if(h[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ae(h)+")");case 2:{var D=h[0],F=h[1];if(D===F)return c(a.clone().valueOf(),D);if(F===0)return 1;throw new RangeError("Matrix must be square (size: "+Ae(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ae(h)+")")}}});function c(l,a,h){if(a===1)return Fe(l[0][0]);if(a===2)return n(u(l[0][0],l[1][1]),u(l[1][0],l[0][1]));for(var D=!1,F=new Array(a).fill(0).map((C,B)=>B),y=0;y<a;y++){var f=F[y];if(o(l[f][y])){var v=void 0;for(v=y+1;v<a;v++)if(!o(l[F[v]][y])){f=F[v],F[v]=F[y],F[y]=f,D=!D;break}if(v===a)return l[f][y]}for(var w=l[f][y],b=y===0?1:l[F[y-1]][y-1],g=y+1;g<a;g++)for(var M=F[g],p=y+1;p<a;p++)l[M][p]=i(n(u(l[M][p],w),u(l[M][y],l[f][p])),b)}var d=l[F[a-1]][a-1];return D?s(d):d}}),hn="inv",hs=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Ds=se(hn,hs,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:u,multiply:i,unaryMinus:o,det:s,identity:c,abs:l}=e;return t(hn,{"Array | Matrix":function(D){var F=Se(D)?D.size():Le(D);switch(F.length){case 1:if(F[0]===1)return Se(D)?r([n(1,D.valueOf()[0])]):[n(1,D[0])];throw new RangeError("Matrix must be square (size: "+Ae(F)+")");case 2:{var y=F[0],f=F[1];if(y===f)return Se(D)?r(a(D.valueOf(),y,f),D.storage()):a(D,y,f);throw new RangeError("Matrix must be square (size: "+Ae(F)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ae(F)+")")}},any:function(D){return n(1,D)}});function a(h,D,F){var y,f,v,w,b;if(D===1){if(w=h[0][0],w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,w)]]}else if(D===2){var g=s(h);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(h[1][1],g),n(o(h[0][1]),g)],[n(o(h[1][0]),g),n(h[0][0],g)]]}else{var M=h.concat();for(y=0;y<D;y++)M[y]=M[y].concat();for(var p=c(D).valueOf(),d=0;d<F;d++){var C=l(M[d][d]),B=d;for(y=d+1;y<D;)l(M[y][d])>C&&(C=l(M[y][d]),B=y),y++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");y=B,y!==d&&(b=M[d],M[d]=M[y],M[y]=b,b=p[d],p[d]=p[y],p[y]=b);var A=M[d],_=p[d];for(y=0;y<D;y++){var T=M[y],I=p[y];if(y!==d){if(T[d]!==0){for(v=n(o(T[d]),A[d]),f=d;f<F;f++)T[f]=u(T[f],i(v,A[f]));for(f=0;f<F;f++)I[f]=u(I[f],i(v,_[f]))}}else{for(v=A[d],f=d;f<F;f++)T[f]=n(T[f],v);for(f=0;f<F;f++)I[f]=n(I[f],v)}}}return p}}}),Nr=bo({config:Pt}),ds=To({}),Yn=qo({}),Mr=Lo({}),Sr=na({Matrix:Mr}),Ce=Ni({BigNumber:Nr,Complex:ds,DenseMatrix:Sr,Fraction:Yn}),ps=Sa({typed:Ce}),Tr=xa({typed:Ce}),ms=Wa({typed:Ce}),xr=ca({config:Pt,typed:Ce}),vs=oa({equalScalar:xr,typed:Ce}),Gn=Za({typed:Ce}),gs=ga({typed:Ce}),Jn=Da({Matrix:Mr,equalScalar:xr,typed:Ce}),Fs=Oa({typed:Ce}),ws=ya({BigNumber:Nr,typed:Ce}),it=ba({DenseMatrix:Sr,Matrix:Mr,SparseMatrix:Jn,typed:Ce}),ys=rs({matrix:it,typed:Ce}),Es=Ca({Fraction:Yn,typed:Ce}),As=Ga({BigNumber:Nr,DenseMatrix:Sr,SparseMatrix:Jn,config:Pt,matrix:it,typed:Ce}),Cs=is({bignumber:ws,fraction:Es,number:gs}),Bs=es({matrix:it,config:Pt,typed:Ce}),Xn=Na({typed:Ce}),Kn=as({numeric:Cs,typed:Ce}),bs=fs({addScalar:Tr,conj:ms,multiplyScalar:Gn,size:Bs,typed:Ce}),It=ja({addScalar:Tr,dot:bs,equalScalar:xr,matrix:it,multiplyScalar:Gn,typed:Ce}),_s=ls({divideScalar:Kn,isZero:vs,matrix:it,multiply:It,subtractScalar:Fs,typed:Ce,unaryMinus:Xn}),Ns=Ds({abs:ps,addScalar:Tr,det:_s,divideScalar:Kn,identity:As,matrix:it,multiply:It,typed:Ce,unaryMinus:Xn});const Ms=["0nwgp558","2lg135el","wlekw94l","6njy11vn","wl3d19v8"],Ss={"9qj3rrgl":"Set Seed",jq6dmm71:"Random Seed","5lm5yy4q":"Breakfast","81wygg5q":"Burgers","139xem31":"Cakes",q752kvp1:"Coffee","0q53pe71":"Dumplings",zqo40021:"Fish","013g003l":"Hot Dogs",rqv877w1:"Pies","5lejooz1":"Pizza","0q5r66n1":"Salad",q8kenokq:"Spaghetti","4lxnzzr1":"Steak","814zjjjl":"Stir Fry",qyz46g41:"Tacos",jqz3yeg1:"Turkey",z19n33kq:"Solo",p127nnkq:"Duo","81p9jjkq":"Trio",xqkvddyl:"Quad",lx5gv6r1:"Pre 1.1.6b","14o95wjq":"1.1.6b ",q8k48jgq:"1.1.7-1.1.9",q5v5kj2l:"1.2.0+",qvvx3vrq:"Normal","139x39r1":"Autumn","192x6ykq":"Turbo",q5v4kv7l:"Lake",le2nd2ml:"North Pole",qoxjdx5q:"Halloween"},kt=({run:e})=>U(st,{children:[U("a",{href:e.weblink,children:e.primary})," by"," ",e.players.map(t=>t.weblink?U(st,{children:[U("a",{href:t.weblink,children:t.name})," "]}):U(st,{children:[t.name," "]})),"(",e.category[0],")"]});function Ts(e){const t=e.category.slice(1);let r=[[]];for(let i=t[0]==="Set Seed"?1:0;i<t.length-1;i++)r=r.flatMap(o=>[o,[...o,t[i]]]);const n=e.category[4],u=[];switch(n){case"Tacos":case"Cakes":case"Coffee":break;default:u.push("Plated");break}return u.push(n),r=r.flatMap(i=>{let o=u.map(s=>[...i,s]);return[i,...o]}),r[0]=["All Runs"],r}const qs=()=>U(Ir,{viewType:0}),$s=()=>U(Ir,{viewType:1}),Us=()=>U(Ir,{viewType:2}),Ir=({viewType:e=2})=>{var v,w,b,g,M;const t=zr("","OPPORTUNITY_OLDEST_UNVERIFIED_ID"),r=zr([],"OPPORTUNITY_RUNS_CACHE"),n=wt({}),u=wt("Pre 1.1.6b"),i=wt(!1),o=wt(!1);Su(()=>{if(Object.keys(n.peek()).length)return;let p=Object.assign({},n.peek());for(const C of r.value){const B=Zt(C);C.status==="verified"&&C.primary_t<(p[B]??1/0)&&(p[B]=C.primary_t)}const d=Array.from(new Set(Object.keys(p).map(C=>C.split(",").slice(1))));for(const C of d){let B=1/0;for(let A=lt.length;A--;){const _=[lt[A],...C].join(",");B=Math.min(p[_]??1/0,B),p[_]&&(p[_]=B)}}n.value=p});const s=xt(()=>{const p=t.value,d=Object.assign({},n.value),C=r.value;return()=>{o.value=!0,Is(p).then(B=>{let A="";for(const I of B){const k=Zt(I);if(I.status==="verified"&&I.primary_t<(d[k]??1/0)){d[k]=I.primary_t;for(const W of xs(I))I.primary_t<(d[W]??1/0)&&(d[W]=I.primary_t)}}const _=[],T={};for(const I of B){const k=Zt(I);I.status==="new"&&(A=I.id),I.primary_t<=(d[k]??1/0)&&(_.push(I),T[I.id]=!0)}for(const I of C){if(T[I.id])continue;const k=Zt(I);I.primary_t<=(d[k]??1/0)&&_.push(I)}r.value=_,n.value=d,t.value=A,o.value=!1})}}),c=xt(()=>{var A;let p=[],d=0;const C=[],B={"Set Seed":{},"Random Seed":{}};for(const _ of r.value){if(_.status==="rejected"||_.status!=="verified"&&i.value||!Vt(_.category[0],u.value))continue;const T=_.category.slice(2).join(" "),I=_.category[1];_.primary_t<(((A=B[I][T])==null?void 0:A.primary_t)??1/0)&&(B[I][T]=_)}for(const _ of Object.keys(B["Random Seed"])){const T=B["Set Seed"][_],I=B["Random Seed"][_];if(((T==null?void 0:T.primary_t)??1/0)<I.primary_t){d++;continue}let k="../normal-seed-searcher.html";_.includes(" Lake ")?k="https://steamcommunity.com/sharedfiles/filedetails/?id=2932253817":_.includes(" Turbo ")&&(k="../turbo-seed-searcher.html");const W=T?T.primary_t/I.primary_t:I.primary_t;C.push(_),p.push([U("tr",{id:_,children:[U("td",{children:[_," ",U(Tu,{to:k,children:"Searcher"})]}),U("td",{children:T?" "+(W*100).toFixed(2)+"%":""}),U("td",{children:T?U(kt,{run:T}):"No Set Seed Run"}),U("td",{children:U(kt,{run:I})})]}),W])}return[p.sort((_,T)=>-T[1]+_[1]).map(_=>_[0]),C,d]}),l=xt(()=>{var B;const p={};for(const A of r.value){if(A.status==="rejected"||A.status!=="verified"&&i.value||!Vt(A.category[0],u.value))continue;const _=Ts(A);for(const T of _){const I=T.join(" ");(!p[I]||A.primary_t<p[I].primary_t)&&(p[I]=A)}}const d=new Map;for(const[A,_]of Object.entries(p))d.has(_)||d.set(_,[]),(B=d.get(_))==null||B.push(A);const C=Array.from(d.entries()).map(([A,_])=>{let T=_.length;for(;T--&&_[T].includes(A.category.slice(2).join(" "));)_.pop();return[_.join(", "),A]});return C.sort((A,_)=>A[1].primary_t-_[1].primary_t),[C.map(([A,_])=>U("tr",{id:_.category.slice(1).join(" "),children:[U("td",{children:_.category.slice(1).join(" ")}),U("td",{children:U(kt,{run:_})}),U("td",{children:A})]}))]}),a=wt(!0),h=xt(()=>{var ve;if(!r.value.length)return;const d=j=>a.value?Math.log(j):j,C=j=>a.value?Math.exp(j):j;let B=[new Set,new Set,new Set,new Set,new Set],A={};for(const j of r.value)if(j.status!=="rejected"&&!(j.status!=="verified"&&i.value)&&Vt(j.category[0],u.value))for(let G=1;G<j.category.length;G++){let ue=j.category[G];G===0&&(ue+=` ${j.category[G+1]}`,G++),B[G].add(ue),A[ue]||(A[ue]=0),A[ue]++}const _=B.flatMap(j=>Array.from(j)),T=[],I=[],k={};for(const j of r.value){if(j.status==="rejected"||j.status!=="verified"&&i.value||!Vt(j.category[0],u.value))continue;const G=j.category.slice(1).join(" ");(!k[G]||j.primary_t<k[G].primary_t)&&(k[G]=j)}let W=0;for(const j of Object.values(k)){W+=j.primary_t;const G=[];for(const ue of _)j.category.includes(ue)?G.push(1):G.push(0);G.push(1),T.push(G),I.push([d(j.primary_t)])}W/=Object.values(k).length;for(const j of B){const G=Array.from(new Set(j));if(!G.length)continue;const ue=[];for(let ie=0;ie<_.length;ie++)if(G.includes(_[ie])){const oe=A[_[ie]];ue.push(oe)}else ue.push(0);ue.push(0),T.push(ue),I.push([0])}const H=ys(it(T)),$=It(H,it(T)),Y=It(Ns($),It(H,it(I))).valueOf().map(j=>j[0]);console.log({matrixAt:H,matrixA:T,normalizedA:$,r:Y});const J={};let re="";const fe=a.value?"%":" seconds",ae=a.value?100:1;for(let j=0;j<Y.length;j++){const G=_[j]??"Average";if(_[j]){const ue=C(Y[j]);ue>1?J[G]=`+${((ue-1)*ae).toFixed(2)}${fe}`:J[G]=`${((ue-1)*ae).toFixed(2)}${fe}`}else{const ue=C(Y[j]);re=((ve=new Date(ue*1e3).toUTCString().match(/\b(\d\d:\d\d:\d\d) GMT$/))==null?void 0:ve[1])??"Error"}}console.log(JSON.stringify({humanR:J},null,1));const ce=[];let ye=0;for(const[j,G]of Object.entries(k)){let ue=Y.at(-1);for(let oe=0;oe<_.length;oe++)G.category.includes(_[oe])&&(ue+=Y[oe]);const ie=C(ue);ye+=(G.primary_t-ie)**1,ce.push([U("tr",{children:[U("td",{children:j}),U("td",{children:U(kt,{run:G})}),U("td",{children:[(G.primary_t/ie*100).toFixed(2),"%"]})]}),G.primary_t/ie,G])}return console.log({totalErrorSquares:ye}),ce.sort((j,G)=>j[1]-G[1]),{info:ce.map(j=>j[0]),humanR:J,averageRunTime:re}}),D=wt(""),F=xt(()=>()=>{D.value=c.value[1][Math.floor(Math.random()*c.value[1].length)]});let y,f;switch(e){case 0:f=U(st,{children:"Set seed opportunities (i.e. leaderboards where there is no set seed run, or the random seed record is faster than the set seed record)"}),y=U(st,{children:[U("div",{children:[U("button",{onClick:F.value,children:"Pick Random Category"})," ",D.value&&U("a",{href:"",onClick:p=>{var d;p.preventDefault(),(d=document.getElementById(D.value))==null||d.scrollIntoView()},children:[U("br",{}),D]})]}),U("div",{children:[(w=(v=c==null?void 0:c.value)==null?void 0:v[1])==null?void 0:w.length," potential categories"," ",U("br",{}),c.value[2]," categories where set seed is already faster not shown"]}),U("table",{children:[U("thead",{children:U("tr",{children:[U("th",{children:"Category"}),U("th",{children:"Ratio"}),U("th",{children:"Fastest Seeded Run"}),U("th",{children:"Fastest Unseeded Run"})]})}),U("tbody",{children:c.value[0]})]})]});break;case 1:f=U(st,{children:"View records of merged leaderboards (i.e. fastest Stir Fry run across all player counts and restaurant settings, or fastest PlateUp! run regardless of leaderboard category)"}),y=U("table",{children:[U("thead",{children:U("tr",{children:[U("th",{children:"Category"}),U("th",{children:"Record Run"}),U("th",{children:"Also the record run in these merged categories:"})]})}),U("tbody",{children:l.value[0]})]});break;case 2:f=U(st,{children:['View leaderboard records sorted by how "surprising" they are. ',U("br",{})," ",'Predicts the record in a leaderboard by its individual components (i.e. Turbo runs tend to be X times longer than Normal Runs; Duo runs tend to be X times shorter than Quad Runs), then sorts by the ratio between the actual record time and the predicted time. Due to the way the record times are predicted, records which use a strategy which is only available at the intersection of multiple categories will tend to be more "surprising". (for example: Coffee Turbo ice cream display/specials terminals strat, or Autumn Turkey/Dumplings flower shops)',U("br",{}),"Records which have a high ratio versus the expected time may deal with the converse, where the combination of categories makes it a particularly difficult run."," ","Or... maybe there's just room for improvement?"]}),y=U(st,{children:[U("div",{children:[U("label",{for:"logTransform",children:"Log Transform?"}),U("input",{type:"checkbox",id:"logTransform",checked:a,onChange:p=>a.value=p.target.checked})]}),U("div",{style:{float:"right",marginLeft:"10px"},children:["Base Run Time: ",(b=h.value)==null?void 0:b.averageRunTime,Object.entries(((g=h.value)==null?void 0:g.humanR)??{}).map(([p,d])=>U("div",{children:[p,": ",d]}))]}),U("table",{children:[U("thead",{children:U("tr",{children:[U("th",{children:"Category"}),U("th",{children:"Record Run"}),U("th",{children:"Actual/Predicted Ratio"})]})}),U("tbody",{children:(M=h.value)==null?void 0:M.info})]})]})}return U("div",{children:[U("style",{children:`[id="${D.value}"] {border: rgb(var(--color)) 3px solid;}`}),U("div",{children:f}),U("pre",{children:"// TODO: autofill starting cards in searcher link: dish + Autumn-Community & North Pole-Christmas Rush"}),U("button",{onClick:s.value,disabled:o,children:o.value?"Fetching Data...":r.value.length?"Update Run Data":"Fetch All Runs"}),U("br",{}),U("label",{for:"version",children:"Include runs dating back to:"}),U("select",{id:"version",value:u,onChange:p=>{u.value=p.target.value},children:lt.map(p=>U("option",{value:p,children:p}))}),U("br",{}),U("label",{for:"verifiedOnly",children:"Verified Runs Only"}),U("input",{type:"checkbox",id:"verifiedOnly",checked:i,onChange:p=>{i.value=p.target.checked}}),y]})};function Zt(e){return e.category.join(",")}function xs(e){let t=[];for(let r=lt.indexOf(e.category[0])+1;r<lt.length;r++)t.push([lt[r],...e.category.slice(1)].join(","));return t}const lt=["Pre 1.1.6b","1.1.6b","1.1.7-1.1.9","1.2.0+"];function Vt(e,t){return lt.indexOf(e)>=lt.indexOf(t)}async function Is(e){let t=[],r=0;e:for(;;){const u=await(await fetch(`https://www.speedrun.com/api/v1/runs?orderby=submitted&direction=desc&game=yd4kq3k6&category=z275n0gk&max=200&embed=players&offset=${r}`)).json(),i=u.data;for(let o=0;o<i.length;o++)if(t.push(i[o]),i[o].id===e)break e;if(!u.pagination.links.some(o=>o.rel==="next"))break;await new Promise(o=>{setTimeout(()=>{o(!0)},60*1e3/100)}),r+=200}return t.map(n=>Os(n))}function Os(e){const t={id:e.id,category:Ms.map(r=>Ss[e.values[r]]),weblink:e.weblink,primary:zs(e),primary_t:e.times.primary_t,players:e.players.data.map(r=>r.rel==="guest"?{name:r.name}:{name:r.names.international,weblink:r.weblink}),status:e.status.status};return t.category[3]===void 0&&(t.category[3]="Normal"),t.category.some(r=>r===void 0)&&alert("go tell ambersz to actually pull the variable data from the API instead of hardcoding it..."),t}function zs(e){const t=e.times.primary.split(/[a-z.]+/i).filter(n=>n).map((n,u)=>u?n.padStart(2,"0"):n);let r=t[0];for(let n=1;n<t.length;n++)t[n].length===3?r+=".":r+=":",r+=t[n];return r}export{$s as MergedRecords,qs as Opportunities,Us as RecordsAnalysis};
