import{q as w,u as r,g as E}from"./jsxRuntime.module-wfZfYPmn.js";import{h as D,p as m,a as f,R as M,U as h,D as A}from"./unlocks-3e_N4jc9.js";import{U as R}from"./UnlockSelect-yP_wi2_e.js";const g=(t,a)=>{const[n,o]=D(t);return m(()=>{const i=localStorage.getItem(a);i!==null&&o(JSON.parse(i))},[]),m(()=>{localStorage.getItem(a)!==null&&n===t||localStorage.setItem(a,JSON.stringify(n))},[n]),[n,o]};f.filter(t=>t.Name==="Cakes")[0];const C=[],_=1;for(let t=0;t<_;t++)C.push(new Worker(new URL("/plateup-set-seed-tools/assets/seedSearchWorker-LikeMGOd.js",import.meta.url),{type:"module"}));function p(t){for(const a of C)a.postMessage(t)}const S=[{include:!0,cards:[M.filter(t=>t.Name==="Turbo")[0]]}],P={include:!0,cards:["Ice Cream","Instant Service","All You Can Eat","Victorian Standards","Sedate Atmosphere","Roast Potato","Broccoli","Bamboo","Mashed Potato","Chips","Corn on the Cob","Onion Rings"].flatMap(t=>f.filter(a=>a.Name===t))},G={include:!1,cards:["Apple Pie","Cherry","Pumpkin","Leisurely","Mandarin","Bread","Closing Time","Picky","Medium","Advertising","Cheese ","Soup"].flatMap(t=>f.filter(a=>a.Name.includes(t)))};{let t=1;for(;t<=9;t++)S[t]=t===5?{include:!0,cards:f.filter(a=>a.Name==="Affordable")}:P;for(;t<=14;t++)S[t]=G}const L=()=>{const[t,a]=g([],"SEED_SEARCHER_RESULTS"),[n,o]=D(!1);m(()=>{console.log("useEffect registering message done");const e=s=>{const d=s;switch(d.data.type){case"error":break;case"result":a(c=>(c.length>=100&&(p({type:"stop"}),o(!1)),[...c,d.data.data]));break}console.log({e:d})};for(const s of C)s.onmessage=e},[]);const i=[];for(let e=1;e<=14;e++)i.push(e);const T=()=>{if(n)p({type:"stop"}),o(!1);else{if(l[0].cards.length<2){alert("No starting dish selected.");return}else if(l[0].cards.length>2){alert("Too many starting dishes selected");return}const e=[];for(let s=1;s<15;s++)(!l[s]||l[s].include&&l[s].cards.length===0)&&e.push(s);if(e.length){e.length>1&&(e[e.length-1]="and "+e[e.length-1]),alert(`Empty card configurations for day${e.length>1?"s":""} `+e.join(e.length>2?", ":" ")+". Add cards, or switch to exclude cards mode.");return}p({type:"start",data:{mapSizes:[1],goalCards:l,goalAppliances:U}}),o(!0)}},[l,B]=g(S,"SEED_SEARCHER_CARDS_BY_DAY"),y=e=>s=>{B(d=>{var k;const c=[...d];return e===0&&((k=s.cards[0])==null?void 0:k.Name)!=="Turbo"&&s.cards.splice(0,0,c[e].cards[0]),c[e]=s,c})},[u,b]=g([1,2,3,4],"SEED_SEARCHER_ALLOWED_TABLES"),v=[1,2,3,4],N=e=>()=>{u.includes(e)?b(u.filter(s=>s!==e)):b([...u,e])};return r("div",{class:"search-container",children:[r("div",{class:"search-config",children:[r("div",{style:"min-width:fit-content;",children:[r("label",{children:"Starting Tables: "}),v.map(e=>{const s=e+"-table";return r(E,{children:[r("label",{for:s,children:e}),r("input",{id:s,type:"checkbox",onChange:N(e),checked:u.includes(e)})]})})]}),r(E,{children:[r(R,{onSelectionChange:y(0),showSelectionMode:!1,label:"Starting Cards",...l[0],unlockGroupFilter:[h.Dish],dishTypeFilter:[A.Null,A.Base]}),i.map(e=>r(R,{onSelectionChange:y(e),label:"After Day "+e,...l[e]??{},unlockGroupFilter:e===5?[h.PrimaryTheme]:[h.Generic,h.Dish]}))]})]}),r("div",{class:"search-results",children:[r("button",{onClick:T,children:[n?"Stop":"Start"," Search"]}),r("div",{class:"results",children:[t.length?r("button",{onClick:()=>a([]),children:"Clear Previous Results"}):"",t.map(e=>r("div",{children:[e.seed,": ",r("div",{children:e.cards.join(", ")}),e.blueprints.map(s=>s.Name).join(", ")]}))]})]})]})};w(r(L,{}),document.getElementById("app"));const U=[];
