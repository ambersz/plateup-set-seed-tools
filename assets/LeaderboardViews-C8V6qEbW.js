import{a as zr}from"./usePersistentState-BGcZX7h-.js";import{t as Dn,u as k,k as wt,n as Su,r as xt,g as st,L as Tu}from"./main-B4-YRuo1.js";var pn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function xu(e,t){if(Wt(e,t))return e[t];throw typeof e[t]=="function"&&Ou(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Iu(e,t,r){if(Wt(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Wt(e,t){return!zu(e)&&!Array.isArray(e)?!1:Gt(Pu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Ou(e,t){return e==null||typeof e[t]!="function"||Gt(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Gt(Ru,t)?!0:!(t in Object.prototype||t in Function.prototype)}function zu(e){return typeof e=="object"&&e&&e.constructor===Object}var Pu={length:!0,name:!0},Ru={toString:!0,valueOf:!0,toLocaleString:!0};class qu{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return xu(this.wrappedObject,t)}set(t,r){return Iu(this.wrappedObject,t,r),this}has(t){return Wt(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return $u(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Wt(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function $u(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function pe(e){return typeof e=="number"}function be(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Uu(e){return typeof e=="bigint"}function dn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function mn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function vn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function nt(e){return typeof e=="string"}var Be=Array.isArray;function Me(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Yt(e){return Array.isArray(e)||Me(e)}function Lu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function ku(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Zu(e){return e&&e.constructor.prototype.isRange===!0||!1}function yr(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Vu(e){return typeof e=="boolean"}function ju(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Hu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Wu(e){return typeof e=="function"}function Yu(e){return e instanceof Date}function Gu(e){return e instanceof RegExp}function Er(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!dn(e)&&!mn(e))}function Ju(e){return e?e instanceof Map||e instanceof qu||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Xu(e){return e===null}function Ku(e){return e===void 0}function Qu(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ei(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function ti(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function ri(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function ni(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ui(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function ii(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function oi(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function ai(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function si(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function fi(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function ci(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function li(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function hi(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function Di(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function pi(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function di(e){return e&&e.constructor.prototype.isChain===!0||!1}function ct(e){var t=typeof e;return t==="object"?e===null?"null":be(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function me(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return me(r)});if(e instanceof Date)return new Date(e.valueOf());if(be(e))return e;if(Er(e))return mi(e,me);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function mi(e,t){var r={};for(var n in e)Gt(e,n)&&(r[n]=t(e[n]));return r}function bt(e,t){var r,n,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,u=e.length;n<u;n++)if(!bt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!bt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Gt(e,t){return e&&Object.hasOwnProperty.call(e,t)}function vi(e,t){for(var r={},n=0;n<t.length;n++){var u=t[n],i=e[u];i!==void 0&&(r[u]=i)}return r}var gi=["Matrix","Array"],Fi=["number","BigNumber","Fraction"],Pt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(pn)};Dn(Pt,pn,{MATRIX_OPTIONS:gi,NUMBER_OPTIONS:Fi});function Pr(){return!0}function je(){return!1}function yt(){}const Rr="Argument is not a typed-function.";function gn(){function e(d){return typeof d=="object"&&d!==null&&d.constructor===Object}const t=[{name:"number",test:function(d){return typeof d=="number"}},{name:"string",test:function(d){return typeof d=="string"}},{name:"boolean",test:function(d){return typeof d=="boolean"}},{name:"Function",test:function(d){return typeof d=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(d){return d instanceof Date}},{name:"RegExp",test:function(d){return d instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(d){return d===null}},{name:"undefined",test:function(d){return d===void 0}}],r={name:"any",test:Pr,isAny:!0};let n,u,i=0,o={createCount:0};function a(d){const C=n.get(d);if(C)return C;let N='Unknown type "'+d+'"';const S=d.toLowerCase();let z;for(z of u)if(z.toLowerCase()===S){N+='. Did you mean "'+z+'" ?';break}throw new TypeError(N)}function c(d){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const N=C?a(C).index:u.length,S=[];for(let x=0;x<d.length;++x){if(!d[x]||typeof d[x].name!="string"||typeof d[x].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const V=d[x].name;if(n.has(V))throw new TypeError('Duplicate type name "'+V+'"');S.push(V),n.set(V,{name:V,test:d[x].test,isAny:d[x].isAny,index:N+x,conversionsTo:[]})}const z=u.slice(N);u=u.slice(0,N).concat(S).concat(z);for(let x=N+S.length;x<u.length;++x)n.get(u[x]).index=x}function l(){n=new Map,u=[],i=0,c([r],!1)}l(),c(t);function s(){let d;for(d of u)n.get(d).conversionsTo=[];i=0}function h(d){const C=u.filter(N=>{const S=n.get(N);return!S.isAny&&S.test(d)});return C.length?C:["any"]}function D(d){return d&&typeof d=="function"&&"_typedFunctionData"in d}function w(d,C,N){if(!D(d))throw new TypeError(Rr);const S=N&&N.exact,z=Array.isArray(C)?C.join(","):C,x=_(z),V=v(x);if(!S||V in d.signatures){const se=d._typedFunctionData.signatureMap.get(V);if(se)return se}const $=x.length;let j;if(S){j=[];let se;for(se in d.signatures)j.push(d._typedFunctionData.signatureMap.get(se))}else j=d._typedFunctionData.signatures;for(let se=0;se<$;++se){const he=x[se],Ce=[];let qe;for(qe of j){const Re=b(qe.params,se);if(!(!Re||he.restParam&&!Re.restParam)){if(!Re.hasAny){const Ye=g(Re);if(he.types.some(Ge=>!Ye.has(Ge.name)))continue}Ce.push(qe)}}if(j=Ce,j.length===0)break}let P;for(P of j)if(P.params.length<=$)return P;throw new TypeError("Signature not found (signature: "+(d.name||"unnamed")+"("+v(x,", ")+"))")}function E(d,C,N){return w(d,C,N).implementation}function f(d,C){const N=a(C);if(N.test(d))return d;const S=N.conversionsTo;if(S.length===0)throw new Error("There are no conversions to "+C+" defined.");for(let z=0;z<S.length;z++)if(a(S[z].from).test(d))return S[z].convert(d);throw new Error("Cannot convert "+d+" to "+C)}function v(d){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return d.map(N=>N.name).join(C)}function y(d){const C=d.indexOf("...")===0,S=(C?d.length>3?d.slice(3):"any":d).split("|").map($=>a($.trim()));let z=!1,x=C?"...":"";return{types:S.map(function($){return z=$.isAny||z,x+=$.name+"|",{name:$.name,typeIndex:$.index,test:$.test,isAny:$.isAny,conversion:null,conversionIndex:-1}}),name:x.slice(0,-1),hasAny:z,hasConversion:!1,restParam:C}}function A(d){const C=d.types.map(V=>V.name),N=X(C);let S=d.hasAny,z=d.name;const x=N.map(function(V){const $=a(V.from);return S=$.isAny||S,z+="|"+V.from,{name:V.from,typeIndex:$.index,test:$.test,isAny:$.isAny,conversion:V,conversionIndex:V.index}});return{types:d.types.concat(x),name:z,hasAny:S,hasConversion:x.length>0,restParam:d.restParam}}function g(d){return d.typeSet||(d.typeSet=new Set,d.types.forEach(C=>d.typeSet.add(C.name))),d.typeSet}function _(d){const C=[];if(typeof d!="string")throw new TypeError("Signatures must be strings");const N=d.trim();if(N==="")return C;const S=N.split(",");for(let z=0;z<S.length;++z){const x=y(S[z].trim());if(x.restParam&&z!==S.length-1)throw new SyntaxError('Unexpected rest parameter "'+S[z]+'": only allowed for the last parameter');if(x.types.length===0)return null;C.push(x)}return C}function m(d){const C=fe(d);return C?C.restParam:!1}function p(d){if(!d||d.types.length===0)return Pr;if(d.types.length===1)return a(d.types[0].name).test;if(d.types.length===2){const C=a(d.types[0].name).test,N=a(d.types[1].name).test;return function(z){return C(z)||N(z)}}else{const C=d.types.map(function(N){return a(N.name).test});return function(S){for(let z=0;z<C.length;z++)if(C[z](S))return!0;return!1}}}function F(d){let C,N,S;if(m(d)){C=Pe(d).map(p);const z=C.length,x=p(fe(d)),V=function($){for(let j=z;j<$.length;j++)if(!x($[j]))return!1;return!0};return function(j){for(let P=0;P<C.length;P++)if(!C[P](j[P]))return!1;return V(j)&&j.length>=z+1}}else return d.length===0?function(x){return x.length===0}:d.length===1?(N=p(d[0]),function(x){return N(x[0])&&x.length===1}):d.length===2?(N=p(d[0]),S=p(d[1]),function(x){return N(x[0])&&S(x[1])&&x.length===2}):(C=d.map(p),function(x){for(let V=0;V<C.length;V++)if(!C[V](x[V]))return!1;return x.length===C.length})}function b(d,C){return C<d.length?d[C]:m(d)?fe(d):null}function B(d,C){const N=b(d,C);return N?g(N):new Set}function T(d){return d.conversion===null||d.conversion===void 0}function O(d,C){const N=new Set;return d.forEach(S=>{const z=B(S.params,C);let x;for(x of z)N.add(x)}),N.has("any")?["any"]:Array.from(N)}function Z(d,C,N){let S,z;const x=d||"unnamed";let V=N,$;for($=0;$<C.length;$++){const he=[];if(V.forEach(Ce=>{const qe=b(Ce.params,$),Re=p(qe);($<Ce.params.length||m(Ce.params))&&Re(C[$])&&he.push(Ce)}),he.length===0){if(z=O(V,$),z.length>0){const Ce=h(C[$]);return S=new TypeError("Unexpected type of argument in function "+x+" (expected: "+z.join(" or ")+", actual: "+Ce.join(" | ")+", index: "+$+")"),S.data={category:"wrongType",fn:x,index:$,actual:Ce,expected:z},S}}else V=he}const j=V.map(function(he){return m(he.params)?1/0:he.params.length});if(C.length<Math.min.apply(null,j))return z=O(V,$),S=new TypeError("Too few arguments in function "+x+" (expected: "+z.join(" or ")+", index: "+C.length+")"),S.data={category:"tooFewArgs",fn:x,index:C.length,expected:z},S;const P=Math.max.apply(null,j);if(C.length>P)return S=new TypeError("Too many arguments in function "+x+" (expected: "+P+", actual: "+C.length+")"),S.data={category:"tooManyArgs",fn:x,index:C.length,expectedLength:P},S;const se=[];for(let he=0;he<C.length;++he)se.push(h(C[he]).join("|"));return S=new TypeError('Arguments of type "'+se.join(", ")+'" do not match any of the defined signatures of function '+x+"."),S.data={category:"mismatch",actual:se},S}function W(d){let C=u.length+1;for(let N=0;N<d.types.length;N++)T(d.types[N])&&(C=Math.min(C,d.types[N].typeIndex));return C}function J(d){let C=i+1;for(let N=0;N<d.types.length;N++)T(d.types[N])||(C=Math.min(C,d.types[N].conversionIndex));return C}function H(d,C){if(d.hasAny){if(!C.hasAny)return 1}else if(C.hasAny)return-1;if(d.restParam){if(!C.restParam)return 1}else if(C.restParam)return-1;if(d.hasConversion){if(!C.hasConversion)return 1}else if(C.hasConversion)return-1;const N=W(d)-W(C);if(N<0)return-1;if(N>0)return 1;const S=J(d)-J(C);return S<0?-1:S>0?1:0}function q(d,C){const N=d.params,S=C.params,z=fe(N),x=fe(S),V=m(N),$=m(S);if(V&&z.hasAny){if(!$||!x.hasAny)return 1}else if($&&x.hasAny)return-1;let j=0,P=0,se;for(se of N)se.hasAny&&++j,se.hasConversion&&++P;let he=0,Ce=0;for(se of S)se.hasAny&&++he,se.hasConversion&&++Ce;if(j!==he)return j-he;if(V&&z.hasConversion){if(!$||!x.hasConversion)return 1}else if($&&x.hasConversion)return-1;if(P!==Ce)return P-Ce;if(V){if(!$)return 1}else if($)return-1;const qe=(N.length-S.length)*(V?-1:1);if(qe!==0)return qe;const Re=[];let Ye=0;for(let Ft=0;Ft<N.length;++Ft){const Rt=H(N[Ft],S[Ft]);Re.push(Rt),Ye+=Rt}if(Ye!==0)return Ye;let Ge;for(Ge of Re)if(Ge!==0)return Ge;return 0}function X(d){if(d.length===0)return[];const C=d.map(a);d.length>1&&C.sort((z,x)=>z.index-x.index);let N=C[0].conversionsTo;if(d.length===1)return N;N=N.concat([]);const S=new Set(d);for(let z=1;z<C.length;++z){let x;for(x of C[z].conversionsTo)S.has(x.from)||(N.push(x),S.add(x.from))}return N}function R(d,C){let N=C;if(d.some(z=>z.hasConversion)){const z=m(d),x=d.map(U);N=function(){const $=[],j=z?arguments.length-1:arguments.length;for(let P=0;P<j;P++)$[P]=x[P](arguments[P]);return z&&($[j]=arguments[j].map(x[j])),C.apply(this,$)}}let S=N;if(m(d)){const z=d.length-1;S=function(){return N.apply(this,ae(arguments,0,z).concat([ae(arguments,z)]))}}return S}function U(d){let C,N,S,z;const x=[],V=[];switch(d.types.forEach(function($){$.conversion&&(x.push(a($.conversion.from).test),V.push($.conversion.convert))}),V.length){case 0:return function(j){return j};case 1:return C=x[0],S=V[0],function(j){return C(j)?S(j):j};case 2:return C=x[0],N=x[1],S=V[0],z=V[1],function(j){return C(j)?S(j):N(j)?z(j):j};default:return function(j){for(let P=0;P<V.length;P++)if(x[P](j))return V[P](j);return j}}}function Q(d){function C(N,S,z){if(S<N.length){const x=N[S];let V=[];if(x.restParam){const $=x.types.filter(T);$.length<x.types.length&&V.push({types:$,name:"..."+$.map(j=>j.name).join("|"),hasAny:$.some(j=>j.isAny),hasConversion:!1,restParam:!0}),V.push(x)}else V=x.types.map(function($){return{types:[$],name:$.name,hasAny:$.isAny,hasConversion:$.conversion,restParam:!1}});return xe(V,function($){return C(N,S+1,z.concat([$]))})}else return[z]}return C(d,0,[])}function ne(d,C){const N=Math.max(d.length,C.length);for(let $=0;$<N;$++){const j=B(d,$),P=B(C,$);let se=!1,he;for(he of P)if(j.has(he)){se=!0;break}if(!se)return!1}const S=d.length,z=C.length,x=m(d),V=m(C);return x?V?S===z:z>=S:V?S>=z:S===z}function re(d){return d.map(C=>tt(C)?Ve(C.referToSelf.callback):et(C)?Se(C.referTo.references,C.referTo.callback):C)}function ie(d,C,N){const S=[];let z;for(z of d){let x=N[z];if(typeof x!="number")throw new TypeError('No definition for referenced signature "'+z+'"');if(x=C[x],typeof x!="function")return!1;S.push(x)}return S}function Ae(d,C,N){const S=re(d),z=new Array(S.length).fill(!1);let x=!0;for(;x;){x=!1;let V=!0;for(let $=0;$<S.length;++$){if(z[$])continue;const j=S[$];if(tt(j))S[$]=j.referToSelf.callback(N),S[$].referToSelf=j.referToSelf,z[$]=!0,V=!1;else if(et(j)){const P=ie(j.referTo.references,S,C);P?(S[$]=j.referTo.callback.apply(this,P),S[$].referTo=j.referTo,z[$]=!0,V=!1):x=!0}}if(V&&x)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return S}function ye(d){const C=/\bthis(\(|\.signatures\b)/;Object.keys(d).forEach(N=>{const S=d[N];if(C.test(S.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ge(d,C){if(o.createCount++,Object.keys(C).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&ye(C);const N=[],S=[],z={},x=[];let V;for(V in C){if(!Object.prototype.hasOwnProperty.call(C,V))continue;const oe=_(V);if(!oe)continue;N.forEach(function(Tt){if(ne(Tt,oe))throw new TypeError('Conflicting signatures "'+v(Tt)+'" and "'+v(oe)+'".')}),N.push(oe);const $e=S.length;S.push(C[V]);const Nu=oe.map(A);let qt;for(qt of Q(Nu)){const Tt=v(qt);x.push({params:qt,name:Tt,fn:$e}),qt.every(Mu=>!Mu.hasConversion)&&(z[Tt]=$e)}}x.sort(q);const $=Ae(S,z,St);let j;for(j in z)Object.prototype.hasOwnProperty.call(z,j)&&(z[j]=$[z[j]]);const P=[],se=new Map;for(j of x)se.has(j.name)||(j.fn=$[j.fn],P.push(j),se.set(j.name,j));const he=P[0]&&P[0].params.length<=2&&!m(P[0].params),Ce=P[1]&&P[1].params.length<=2&&!m(P[1].params),qe=P[2]&&P[2].params.length<=2&&!m(P[2].params),Re=P[3]&&P[3].params.length<=2&&!m(P[3].params),Ye=P[4]&&P[4].params.length<=2&&!m(P[4].params),Ge=P[5]&&P[5].params.length<=2&&!m(P[5].params),Ft=he&&Ce&&qe&&Re&&Ye&&Ge;for(let oe=0;oe<P.length;++oe)P[oe].test=F(P[oe].params);const Rt=he?p(P[0].params[0]):je,eu=Ce?p(P[1].params[0]):je,tu=qe?p(P[2].params[0]):je,ru=Re?p(P[3].params[0]):je,nu=Ye?p(P[4].params[0]):je,uu=Ge?p(P[5].params[0]):je,iu=he?p(P[0].params[1]):je,ou=Ce?p(P[1].params[1]):je,au=qe?p(P[2].params[1]):je,su=Re?p(P[3].params[1]):je,fu=Ye?p(P[4].params[1]):je,cu=Ge?p(P[5].params[1]):je;for(let oe=0;oe<P.length;++oe)P[oe].implementation=R(P[oe].params,P[oe].fn);const lu=he?P[0].implementation:yt,hu=Ce?P[1].implementation:yt,Du=qe?P[2].implementation:yt,pu=Re?P[3].implementation:yt,du=Ye?P[4].implementation:yt,mu=Ge?P[5].implementation:yt,vu=he?P[0].params.length:-1,gu=Ce?P[1].params.length:-1,Fu=qe?P[2].params.length:-1,wu=Re?P[3].params.length:-1,yu=Ye?P[4].params.length:-1,Eu=Ge?P[5].params.length:-1,Au=Ft?6:0,Cu=P.length,Bu=P.map(oe=>oe.test),bu=P.map(oe=>oe.implementation),_u=function(){for(let $e=Au;$e<Cu;$e++)if(Bu[$e](arguments))return bu[$e].apply(this,arguments);return o.onMismatch(d,arguments,P)};function St(oe,$e){return arguments.length===vu&&Rt(oe)&&iu($e)?lu.apply(this,arguments):arguments.length===gu&&eu(oe)&&ou($e)?hu.apply(this,arguments):arguments.length===Fu&&tu(oe)&&au($e)?Du.apply(this,arguments):arguments.length===wu&&ru(oe)&&su($e)?pu.apply(this,arguments):arguments.length===yu&&nu(oe)&&fu($e)?du.apply(this,arguments):arguments.length===Eu&&uu(oe)&&cu($e)?mu.apply(this,arguments):_u.apply(this,arguments)}try{Object.defineProperty(St,"name",{value:d})}catch{}return St.signatures=z,St._typedFunctionData={signatures:P,signatureMap:se},St}function De(d,C,N){throw Z(d,C,N)}function Pe(d){return ae(d,0,d.length-1)}function fe(d){return d[d.length-1]}function ae(d,C,N){return Array.prototype.slice.call(d,C,N)}function Ze(d,C){for(let N=0;N<d.length;N++)if(C(d[N]))return d[N]}function xe(d,C){return Array.prototype.concat.apply([],d.map(C))}function ce(){const d=Pe(arguments).map(N=>v(_(N))),C=fe(arguments);if(typeof C!="function")throw new TypeError("Callback function expected as last argument");return Se(d,C)}function Se(d,C){return{referTo:{references:d,callback:C}}}function Ve(d){if(typeof d!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:d}}}function et(d){return d&&typeof d.referTo=="object"&&Array.isArray(d.referTo.references)&&typeof d.referTo.callback=="function"}function tt(d){return d&&typeof d.referToSelf=="object"&&typeof d.referToSelf.callback=="function"}function vt(d,C){if(!d)return C;if(C&&C!==d){const N=new Error("Function names do not match (expected: "+d+", actual: "+C+")");throw N.data={actual:C,expected:d},N}return d}function gt(d){let C;for(const N in d)Object.prototype.hasOwnProperty.call(d,N)&&(D(d[N])||typeof d[N].signature=="string")&&(C=vt(C,d[N].name));return C}function sr(d,C){let N;for(N in C)if(Object.prototype.hasOwnProperty.call(C,N)){if(N in d&&C[N]!==d[N]){const S=new Error('Signature "'+N+'" is defined twice');throw S.data={signature:N,sourceFunction:C[N],destFunction:d[N]},S}d[N]=C[N]}}const Qn=o;o=function(d){const C=typeof d=="string",N=C?1:0;let S=C?d:"";const z={};for(let x=N;x<arguments.length;++x){const V=arguments[x];let $={},j;if(typeof V=="function"?(j=V.name,typeof V.signature=="string"?$[V.signature]=V:D(V)&&($=V.signatures)):e(V)&&($=V,C||(j=gt(V))),Object.keys($).length===0){const P=new TypeError("Argument to 'typed' at index "+x+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw P.data={index:x,argument:V},P}C||(S=vt(S,j)),sr(z,$)}return ge(S||"",z)},o.create=gn,o.createCount=Qn.createCount,o.onMismatch=De,o.throwMismatchError=De,o.createError=Z,o.clear=l,o.clearConversions=s,o.addTypes=c,o._findType=a,o.referTo=ce,o.referToSelf=Ve,o.convert=f,o.findSignature=w,o.find=E,o.isTypedFunction=D,o.warnAgainstDeprecatedThis=!0,o.addType=function(d,C){let N="any";C!==!1&&n.has("Object")&&(N="Object"),o.addTypes([d],N)};function Or(d){if(!d||typeof d.from!="string"||typeof d.to!="string"||typeof d.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(d.to===d.from)throw new SyntaxError('Illegal to define conversion from "'+d.from+'" to itself.')}return o.addConversion=function(d){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Or(d);const N=a(d.to),S=N.conversionsTo.find(z=>z.from===d.from);if(S)if(C&&C.override)o.removeConversion({from:S.from,to:d.to,convert:S.convert});else throw new Error('There is already a conversion from "'+d.from+'" to "'+N.name+'"');N.conversionsTo.push({from:d.from,convert:d.convert,index:i++})},o.addConversions=function(d,C){d.forEach(N=>o.addConversion(N,C))},o.removeConversion=function(d){Or(d);const C=a(d.to),N=Ze(C.conversionsTo,z=>z.from===d.from);if(!N)throw new Error("Attempt to remove nonexistent conversion from "+d.from+" to "+d.to);if(N.convert!==d.convert)throw new Error("Conversion to remove does not match existing conversion");const S=C.conversionsTo.indexOf(N);C.conversionsTo.splice(S,1)},o.resolve=function(d,C){if(!D(d))throw new TypeError(Rr);const N=d._typedFunctionData.signatures;for(let S=0;S<N.length;++S)if(N[S].test(C))return N[S];return null},o}const Jt=gn();function ue(e,t,r,n){function u(i){var o=vi(i,t.map(Ei));return wi(e,t,i),r(o)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),n&&(u.meta=n),u}function wi(e,t,r){var n=t.filter(i=>!yi(i)).every(i=>r[i]!==void 0);if(!n){var u=t.filter(i=>r[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function yi(e){return e&&e[0]==="?"}function Ei(e){return e&&e[0]==="?"?e.slice(1):e}function Ne(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function fr(e,t,r){var n={2:"0b",8:"0o",16:"0x"},u=n[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ne(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Ne(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),i="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(u).concat(e.toString(t)).concat(i)}function Dr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:u}=Fn(t);switch(r){case"fixed":return Ci(e,n);case"exponential":return wn(e,n);case"engineering":return Ai(e,n);case"bin":return fr(e,2,u);case"oct":return fr(e,8,u);case"hex":return fr(e,16,u);case"auto":return Bi(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],o=arguments[4];return i!=="."?i+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Fn(e){var t="auto",r,n;if(e!==void 0)if(pe(e))r=e;else if(be(e))r=e.toNumber();else if(Er(e))e.precision!==void 0&&(r=qr(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=qr(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function nr(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],u=parseFloat(t[4]||"0"),i=n.indexOf(".");u+=i!==-1?i-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(a){return u-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return o.length===0&&(o.push(0),u++),{sign:r,coefficients:o,exponent:u}}function Ai(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nr(e),n=ur(r,t),u=n.exponent,i=n.coefficients,o=u%3===0?u:u<0?u-3-u%3:u-u%3;if(pe(t))for(;t>i.length||u-o+1>i.length;)i.push(0);else for(var a=Math.abs(u-o)-(i.length-1),c=0;c<a;c++)i.push(0);for(var l=Math.abs(u-o),s=1;l>0;)s++,l--;var h=i.slice(s).join(""),D=pe(t)&&h.length||h.match(/[1-9]/)?"."+h:"",w=i.slice(0,s).join("")+D+"e"+(u>=0?"+":"")+o.toString();return n.sign+w}function Ci(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nr(e),n=typeof t=="number"?ur(r,r.exponent+1+t):r,u=n.coefficients,i=n.exponent+1,o=i+(t||0);return u.length<o&&(u=u.concat(Bt(o-u.length))),i<0&&(u=Bt(-i+1).concat(u),i=1),i<u.length&&u.splice(i,0,i===0?"0.":"."),n.sign+u.join("")}function wn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nr(e),n=t?ur(r,t):r,u=n.coefficients,i=n.exponent;u.length<t&&(u=u.concat(Bt(t-u.length)));var o=u.shift();return n.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(i>=0?"+":"")+i}function Bi(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=$r(r==null?void 0:r.lowerExp,-3),u=$r(r==null?void 0:r.upperExp,5),i=nr(e),o=t?ur(i,t):i;if(o.exponent<n||o.exponent>=u)return wn(e,t);var a=o.coefficients,c=o.exponent;a.length<t&&(a=a.concat(Bt(t-a.length))),a=a.concat(Bt(c-a.length+1+(a.length<t?t-a.length:0))),a=Bt(-c).concat(a);var l=c>0?c:0;return l<a.length-1&&a.splice(l+1,0,"."),o.sign+a.join("")}function ur(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var u=n.splice(t,n.length-t);if(u[0]>=5){var i=t-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}}return r}function Bt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function bi(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Xt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function qr(e,t){if(pe(e))return e;if(be(e))return e.toNumber();t()}function $r(e,t){return pe(e)?e:be(e)?e.toNumber():t}var yn=function(){return yn=Jt.create,Jt},_i=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ni=ue("typed",_i,function(t){var{BigNumber:r,Complex:n,DenseMatrix:u,Fraction:i}=t,o=yn();return o.clear(),o.addTypes([{name:"number",test:pe},{name:"Complex",test:dn},{name:"BigNumber",test:be},{name:"bigint",test:Uu},{name:"Fraction",test:mn},{name:"Unit",test:vn},{name:"identifier",test:a=>/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:nt},{name:"Chain",test:di},{name:"Array",test:Be},{name:"Matrix",test:Me},{name:"DenseMatrix",test:Lu},{name:"SparseMatrix",test:ku},{name:"Range",test:Zu},{name:"Index",test:yr},{name:"boolean",test:Vu},{name:"ResultSet",test:ju},{name:"Help",test:Hu},{name:"function",test:Wu},{name:"Date",test:Yu},{name:"RegExp",test:Gu},{name:"null",test:Xu},{name:"undefined",test:Ku},{name:"AccessorNode",test:Qu},{name:"ArrayNode",test:ei},{name:"AssignmentNode",test:ti},{name:"BlockNode",test:ri},{name:"ConditionalNode",test:ni},{name:"ConstantNode",test:ui},{name:"FunctionNode",test:oi},{name:"FunctionAssignmentNode",test:ii},{name:"IndexNode",test:ai},{name:"Node",test:si},{name:"ObjectNode",test:fi},{name:"OperatorNode",test:ci},{name:"ParenthesisNode",test:li},{name:"RangeNode",test:hi},{name:"RelationalNode",test:Di},{name:"SymbolNode",test:pi},{name:"Map",test:Ju},{name:"Object",test:Er}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(r||$t(c),bi(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new r(c)}},{from:"number",to:"Complex",convert:function(c){return n||Ut(c),new n(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return n||Ut(c),new n(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return r||$t(c),new r(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return i||Lt(c),new i(c)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return n||Ut(c),new n(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){i||Lt(c);var l=new i(c);if(l.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(c){var l=Number(c);if(isNaN(l))throw new Error('Cannot convert "'+c+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(c){r||$t(c);try{return new r(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){i||Lt(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){n||Ut(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return r||$t(c),new r(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return i||Lt(c),new i(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return u||Mi(),new u(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),o.onMismatch=(a,c,l)=>{var s=o.createError(a,c,l);if(["wrongType","mismatch"].includes(s.data.category)&&c.length===1&&Yt(c[0])&&l.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=s.data,h}throw s},o.onMismatch=(a,c,l)=>{var s=o.createError(a,c,l);if(["wrongType","mismatch"].includes(s.data.category)&&c.length===1&&Yt(c[0])&&l.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=s.data,h}throw s},o});function $t(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function Ut(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Mi(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Lt(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Ct=9e15,Dt=1e9,pr="0123456789abcdef",Kt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Qt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",dr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ct,maxE:Ct,crypto:!1},En,ut,ee=!0,ir="[DecimalError] ",ht=ir+"Invalid argument: ",An=ir+"Precision limit exceeded",Cn=ir+"crypto unavailable",Bn="[object Decimal]",ze=Math.floor,_e=Math.pow,Si=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ti=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,xi=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,bn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xe=1e7,K=7,Ii=9007199254740991,Oi=Kt.length-1,mr=Qt.length-1,I={toStringTag:Bn};I.absoluteValue=I.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),G(e)};I.ceil=function(){return G(new this.constructor(this),this.e+1,2)};I.clampedTo=I.clamp=function(e,t){var r,n=this,u=n.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(ht+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new u(n)};I.comparedTo=I.cmp=function(e){var t,r,n,u,i=this,o=i.d,a=(e=new i.constructor(e)).d,c=i.s,l=e.s;if(!o||!a)return!c||!l?NaN:c!==l?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-l:0;if(c!==l)return c;if(i.e!==e.e)return i.e>e.e^c<0?1:-1;for(n=o.length,u=a.length,t=0,r=n<u?n:u;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^c<0?1:-1;return n===u?0:n>u^c<0?1:-1};I.cosine=I.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+K,n.rounding=1,r=zi(n,Tn(n,r)),n.precision=e,n.rounding=t,G(ut==2||ut==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};I.cubeRoot=I.cbrt=function(){var e,t,r,n,u,i,o,a,c,l,s=this,h=s.constructor;if(!s.isFinite()||s.isZero())return new h(s);for(ee=!1,i=s.s*_e(s.s*s,1/3),!i||Math.abs(i)==1/0?(r=Ie(s.d),e=s.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=_e(r,1/3),e=ze((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new h(r),n.s=s.s):n=new h(i.toString()),o=(e=h.precision)+3;;)if(a=n,c=a.times(a).times(a),l=c.plus(s),n=le(l.plus(s).times(a),l.plus(c),o+2,1),Ie(a.d).slice(0,o)===(r=Ie(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!u&&r=="4999"){if(!u&&(G(a,e+1,0),a.times(a).times(a).eq(s))){n=a;break}o+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(G(n,e+1,1),t=!n.times(n).times(n).eq(s));break}return ee=!0,G(n,e,h.rounding,t)};I.decimalPlaces=I.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-ze(this.e/K))*K,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};I.dividedBy=I.div=function(e){return le(this,new this.constructor(e))};I.dividedToIntegerBy=I.divToInt=function(e){var t=this,r=t.constructor;return G(le(t,new r(e),0,1,1),r.precision,r.rounding)};I.equals=I.eq=function(e){return this.cmp(e)===0};I.floor=function(){return G(new this.constructor(this),this.e+1,3)};I.greaterThan=I.gt=function(e){return this.cmp(e)>0};I.greaterThanOrEqualTo=I.gte=function(e){var t=this.cmp(e);return t==1||t===0};I.hyperbolicCosine=I.cosh=function(){var e,t,r,n,u,i=this,o=i.constructor,a=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return a;r=o.precision,n=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,u=i.d.length,u<32?(e=Math.ceil(u/3),t=(1/ar(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=_t(o,1,i.times(t),new o(1),!0);for(var c,l=e,s=new o(8);l--;)c=i.times(i),i=a.minus(c.times(s.minus(c.times(s))));return G(i,o.precision=r,o.rounding=n,!0)};I.hyperbolicSine=I.sinh=function(){var e,t,r,n,u=this,i=u.constructor;if(!u.isFinite()||u.isZero())return new i(u);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(u.e,u.sd())+4,i.rounding=1,n=u.d.length,n<3)u=_t(i,2,u,u,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,u=u.times(1/ar(5,e)),u=_t(i,2,u,u,!0);for(var o,a=new i(5),c=new i(16),l=new i(20);e--;)o=u.times(u),u=u.times(a.plus(o.times(c.times(o).plus(l))))}return i.precision=t,i.rounding=r,G(u,t,r,!0)};I.hyperbolicTangent=I.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,le(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};I.inverseCosine=I.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,u=t.rounding;return r!==-1?r===0?e.isNeg()?Ke(t,n,u):new t(0):new t(NaN):e.isZero()?Ke(t,n+4,u).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=u,e.times(2))};I.inverseHyperbolicCosine=I.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ee=!1,r=r.times(r).minus(1).sqrt().plus(r),ee=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};I.inverseHyperbolicSine=I.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ee=!1,r=r.times(r).plus(1).sqrt().plus(r),ee=!0,n.precision=e,n.rounding=t,r.ln())};I.inverseHyperbolicTangent=I.atanh=function(){var e,t,r,n,u=this,i=u.constructor;return u.isFinite()?u.e>=0?new i(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=i.precision,t=i.rounding,n=u.sd(),Math.max(n,e)<2*-u.e-1?G(new i(u),e,t,!0):(i.precision=r=n-u.e,u=le(u.plus(1),new i(1).minus(u),r+e,1),i.precision=e+4,i.rounding=1,u=u.ln(),i.precision=e,i.rounding=t,u.times(.5))):new i(NaN)};I.inverseSine=I.asin=function(){var e,t,r,n,u=this,i=u.constructor;return u.isZero()?new i(u):(t=u.abs().cmp(1),r=i.precision,n=i.rounding,t!==-1?t===0?(e=Ke(i,r+4,n).times(.5),e.s=u.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,u=u.div(new i(1).minus(u.times(u)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,u.times(2)))};I.inverseTangent=I.atan=function(){var e,t,r,n,u,i,o,a,c,l=this,s=l.constructor,h=s.precision,D=s.rounding;if(l.isFinite()){if(l.isZero())return new s(l);if(l.abs().eq(1)&&h+4<=mr)return o=Ke(s,h+4,D).times(.25),o.s=l.s,o}else{if(!l.s)return new s(NaN);if(h+4<=mr)return o=Ke(s,h+4,D).times(.5),o.s=l.s,o}for(s.precision=a=h+10,s.rounding=1,r=Math.min(28,a/K+2|0),e=r;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(ee=!1,t=Math.ceil(a/K),n=1,c=l.times(l),o=new s(l),u=l;e!==-1;)if(u=u.times(c),i=o.minus(u.div(n+=2)),u=u.times(c),o=i.plus(u.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===i.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),ee=!0,G(o,s.precision=h,s.rounding=D,!0)};I.isFinite=function(){return!!this.d};I.isInteger=I.isInt=function(){return!!this.d&&ze(this.e/K)>this.d.length-2};I.isNaN=function(){return!this.s};I.isNegative=I.isNeg=function(){return this.s<0};I.isPositive=I.isPos=function(){return this.s>0};I.isZero=function(){return!!this.d&&this.d[0]===0};I.lessThan=I.lt=function(e){return this.cmp(e)<0};I.lessThanOrEqualTo=I.lte=function(e){return this.cmp(e)<1};I.logarithm=I.log=function(e){var t,r,n,u,i,o,a,c,l=this,s=l.constructor,h=s.precision,D=s.rounding,w=5;if(e==null)e=new s(10),t=!0;else{if(e=new s(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new s(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(u=r[0];u%10===0;)u/=10;i=u!==1}if(ee=!1,a=h+w,o=ft(l,a),n=t?er(s,a+10):ft(e,a),c=le(o,n,a,1),Ot(c.d,u=h,D))do if(a+=10,o=ft(l,a),n=t?er(s,a+10):ft(e,a),c=le(o,n,a,1),!i){+Ie(c.d).slice(u+1,u+15)+1==1e14&&(c=G(c,h+1,0));break}while(Ot(c.d,u+=10,D));return ee=!0,G(c,h,D)};I.minus=I.sub=function(e){var t,r,n,u,i,o,a,c,l,s,h,D,w=this,E=w.constructor;if(e=new E(e),!w.d||!e.d)return!w.s||!e.s?e=new E(NaN):w.d?e.s=-e.s:e=new E(e.d||w.s!==e.s?w:NaN),e;if(w.s!=e.s)return e.s=-e.s,w.plus(e);if(l=w.d,D=e.d,a=E.precision,c=E.rounding,!l[0]||!D[0]){if(D[0])e.s=-e.s;else if(l[0])e=new E(w);else return new E(c===3?-0:0);return ee?G(e,a,c):e}if(r=ze(e.e/K),s=ze(w.e/K),l=l.slice(),i=s-r,i){for(h=i<0,h?(t=l,i=-i,o=D.length):(t=D,r=s,o=l.length),n=Math.max(Math.ceil(a/K),o)+2,i>n&&(i=n,t.length=1),t.reverse(),n=i;n--;)t.push(0);t.reverse()}else{for(n=l.length,o=D.length,h=n<o,h&&(o=n),n=0;n<o;n++)if(l[n]!=D[n]){h=l[n]<D[n];break}i=0}for(h&&(t=l,l=D,D=t,e.s=-e.s),o=l.length,n=D.length-o;n>0;--n)l[o++]=0;for(n=D.length;n>i;){if(l[--n]<D[n]){for(u=n;u&&l[--u]===0;)l[u]=Xe-1;--l[u],l[n]+=Xe}l[n]-=D[n]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=or(l,r),ee?G(e,a,c):e):new E(c===3?-0:0)};I.modulo=I.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?G(new n(r),n.precision,n.rounding):(ee=!1,n.modulo==9?(t=le(r,e.abs(),0,3,1),t.s*=e.s):t=le(r,e,0,n.modulo,1),t=t.times(e),ee=!0,r.minus(t))};I.naturalExponential=I.exp=function(){return vr(this)};I.naturalLogarithm=I.ln=function(){return ft(this)};I.negated=I.neg=function(){var e=new this.constructor(this);return e.s=-e.s,G(e)};I.plus=I.add=function(e){var t,r,n,u,i,o,a,c,l,s,h=this,D=h.constructor;if(e=new D(e),!h.d||!e.d)return!h.s||!e.s?e=new D(NaN):h.d||(e=new D(e.d||h.s===e.s?h:NaN)),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=h.d,s=e.d,a=D.precision,c=D.rounding,!l[0]||!s[0])return s[0]||(e=new D(h)),ee?G(e,a,c):e;if(i=ze(h.e/K),n=ze(e.e/K),l=l.slice(),u=i-n,u){for(u<0?(r=l,u=-u,o=s.length):(r=s,n=i,o=l.length),i=Math.ceil(a/K),o=i>o?i+1:o+1,u>o&&(u=o,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(o=l.length,u=s.length,o-u<0&&(u=o,r=s,s=l,l=r),t=0;u;)t=(l[--u]=l[u]+s[u]+t)/Xe|0,l[u]%=Xe;for(t&&(l.unshift(t),++n),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=or(l,n),ee?G(e,a,c):e};I.precision=I.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ht+e);return r.d?(t=_n(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};I.round=function(){var e=this,t=e.constructor;return G(new t(e),e.e+1,t.rounding)};I.sine=I.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+K,n.rounding=1,r=Ri(n,Tn(n,r)),n.precision=e,n.rounding=t,G(ut>2?r.neg():r,e,t,!0)):new n(NaN)};I.squareRoot=I.sqrt=function(){var e,t,r,n,u,i,o=this,a=o.d,c=o.e,l=o.s,s=o.constructor;if(l!==1||!a||!a[0])return new s(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(ee=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=Ie(a),(t.length+c)%2==0&&(t+="0"),l=Math.sqrt(t),c=ze((c+1)/2)-(c<0||c%2),l==1/0?t="5e"+c:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),n=new s(t)):n=new s(l.toString()),r=(c=s.precision)+3;;)if(i=n,n=i.plus(le(o,i,r+2,1)).times(.5),Ie(i.d).slice(0,r)===(t=Ie(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(G(i,c+1,0),i.times(i).eq(o))){n=i;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(G(n,c+1,1),e=!n.times(n).eq(o));break}return ee=!0,G(n,c,s.rounding,e)};I.tangent=I.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=le(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,G(ut==2||ut==4?r.neg():r,e,t,!0)):new n(NaN)};I.times=I.mul=function(e){var t,r,n,u,i,o,a,c,l,s=this,h=s.constructor,D=s.d,w=(e=new h(e)).d;if(e.s*=s.s,!D||!D[0]||!w||!w[0])return new h(!e.s||D&&!D[0]&&!w||w&&!w[0]&&!D?NaN:!D||!w?e.s/0:e.s*0);for(r=ze(s.e/K)+ze(e.e/K),c=D.length,l=w.length,c<l&&(i=D,D=w,w=i,o=c,c=l,l=o),i=[],o=c+l,n=o;n--;)i.push(0);for(n=l;--n>=0;){for(t=0,u=c+n;u>n;)a=i[u]+w[n]*D[u-n-1]+t,i[u--]=a%Xe|0,t=a/Xe|0;i[u]=(i[u]+t)%Xe|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=or(i,r),ee?G(e,h.precision,h.rounding):e};I.toBinary=function(e,t){return Ar(this,2,e,t)};I.toDecimalPlaces=I.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ke(e,0,Dt),t===void 0?t=n.rounding:ke(t,0,8),G(r,e+r.e+1,t))};I.toExponential=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=Qe(n,!0):(ke(e,0,Dt),t===void 0?t=u.rounding:ke(t,0,8),n=G(new u(n),e+1,t),r=Qe(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};I.toFixed=function(e,t){var r,n,u=this,i=u.constructor;return e===void 0?r=Qe(u):(ke(e,0,Dt),t===void 0?t=i.rounding:ke(t,0,8),n=G(new i(u),e+u.e+1,t),r=Qe(n,!1,e+n.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};I.toFraction=function(e){var t,r,n,u,i,o,a,c,l,s,h,D,w=this,E=w.d,f=w.constructor;if(!E)return new f(w);if(l=r=new f(1),n=c=new f(0),t=new f(n),i=t.e=_n(E)-w.e-1,o=i%K,t.d[0]=_e(10,o<0?K+o:o),e==null)e=i>0?t:l;else{if(a=new f(e),!a.isInt()||a.lt(l))throw Error(ht+a);e=a.gt(t)?i>0?t:l:a}for(ee=!1,a=new f(Ie(E)),s=f.precision,f.precision=i=E.length*K*2;h=le(a,t,0,1,1),u=r.plus(h.times(n)),u.cmp(e)!=1;)r=n,n=u,u=l,l=c.plus(h.times(u)),c=u,u=t,t=a.minus(h.times(u)),a=u;return u=le(e.minus(r),n,0,1,1),c=c.plus(u.times(l)),r=r.plus(u.times(n)),c.s=l.s=w.s,D=le(l,n,i,1).minus(w).abs().cmp(le(c,r,i,1).minus(w).abs())<1?[l,n]:[c,r],f.precision=s,ee=!0,D};I.toHexadecimal=I.toHex=function(e,t){return Ar(this,16,e,t)};I.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:ke(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(ee=!1,r=le(r,e,0,t,1).times(e),ee=!0,G(r)):(e.s=r.s,r=e),r};I.toNumber=function(){return+this};I.toOctal=function(e,t){return Ar(this,8,e,t)};I.toPower=I.pow=function(e){var t,r,n,u,i,o,a=this,c=a.constructor,l=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(_e(+a,l));if(a=new c(a),a.eq(1))return a;if(n=c.precision,i=c.rounding,e.eq(1))return G(a,n,i);if(t=ze(e.e/K),t>=e.d.length-1&&(r=l<0?-l:l)<=Ii)return u=Nn(c,a,r,n),e.s<0?new c(1).div(u):G(u,n,i);if(o=a.s,o<0){if(t<e.d.length-1)return new c(NaN);if(e.d[t]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return r=_e(+a,l),t=r==0||!isFinite(r)?ze(l*(Math.log("0."+Ie(a.d))/Math.LN10+a.e+1)):new c(r+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(ee=!1,c.rounding=a.s=1,r=Math.min(12,(t+"").length),u=vr(e.times(ft(a,n+r)),n),u.d&&(u=G(u,n+5,1),Ot(u.d,n,i)&&(t=n+10,u=G(vr(e.times(ft(a,t+r)),t),t+5,1),+Ie(u.d).slice(n+1,n+15)+1==1e14&&(u=G(u,n+1,0)))),u.s=o,ee=!0,c.rounding=i,G(u,n,i))};I.toPrecision=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=Qe(n,n.e<=u.toExpNeg||n.e>=u.toExpPos):(ke(e,1,Dt),t===void 0?t=u.rounding:ke(t,0,8),n=G(new u(n),e,t),r=Qe(n,e<=n.e||n.e<=u.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};I.toSignificantDigits=I.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ke(e,1,Dt),t===void 0?t=n.rounding:ke(t,0,8)),G(new n(r),e,t)};I.toString=function(){var e=this,t=e.constructor,r=Qe(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};I.truncated=I.trunc=function(){return G(new this.constructor(this),this.e+1,1)};I.valueOf=I.toJSON=function(){var e=this,t=e.constructor,r=Qe(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Ie(e){var t,r,n,u=e.length-1,i="",o=e[0];if(u>0){for(i+=o,t=1;t<u;t++)n=e[t]+"",r=K-n.length,r&&(i+=at(r)),i+=n;o=e[t],n=o+"",r=K-n.length,r&&(i+=at(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function ke(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ht+e)}function Ot(e,t,r,n){var u,i,o,a;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=K,u=0):(u=Math.ceil((t+1)/K),t%=K),i=_e(10,K-t),a=e[u]%i|0,n==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):o=(r<4&&a+1==i||r>3&&a+1==i/2)&&(e[u+1]/i/100|0)==_e(10,t-2)-1||(a==i/2||a==0)&&(e[u+1]/i/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(n||r<4)&&a==9999||!n&&r>3&&a==4999):o=((n||r<4)&&a+1==i||!n&&r>3&&a+1==i/2)&&(e[u+1]/i/1e3|0)==_e(10,t-3)-1,o}function jt(e,t,r){for(var n,u=[0],i,o=0,a=e.length;o<a;){for(i=u.length;i--;)u[i]*=t;for(u[0]+=pr.indexOf(e.charAt(o++)),n=0;n<u.length;n++)u[n]>r-1&&(u[n+1]===void 0&&(u[n+1]=0),u[n+1]+=u[n]/r|0,u[n]%=r)}return u.reverse()}function zi(e,t){var r,n,u;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),u=(1/ar(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=_t(e,1,t.times(u),new e(1));for(var i=r;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var le=function(){function e(n,u,i){var o,a=0,c=n.length;for(n=n.slice();c--;)o=n[c]*u+a,n[c]=o%i|0,a=o/i|0;return a&&n.unshift(a),n}function t(n,u,i,o){var a,c;if(i!=o)c=i>o?1:-1;else for(a=c=0;a<i;a++)if(n[a]!=u[a]){c=n[a]>u[a]?1:-1;break}return c}function r(n,u,i,o){for(var a=0;i--;)n[i]-=a,a=n[i]<u[i]?1:0,n[i]=a*o+n[i]-u[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,u,i,o,a,c){var l,s,h,D,w,E,f,v,y,A,g,_,m,p,F,b,B,T,O,Z,W=n.constructor,J=n.s==u.s?1:-1,H=n.d,q=u.d;if(!H||!H[0]||!q||!q[0])return new W(!n.s||!u.s||(H?q&&H[0]==q[0]:!q)?NaN:H&&H[0]==0||!q?J*0:J/0);for(c?(w=1,s=n.e-u.e):(c=Xe,w=K,s=ze(n.e/w)-ze(u.e/w)),O=q.length,B=H.length,y=new W(J),A=y.d=[],h=0;q[h]==(H[h]||0);h++);if(q[h]>(H[h]||0)&&s--,i==null?(p=i=W.precision,o=W.rounding):a?p=i+(n.e-u.e)+1:p=i,p<0)A.push(1),E=!0;else{if(p=p/w+2|0,h=0,O==1){for(D=0,q=q[0],p++;(h<B||D)&&p--;h++)F=D*c+(H[h]||0),A[h]=F/q|0,D=F%q|0;E=D||h<B}else{for(D=c/(q[0]+1)|0,D>1&&(q=e(q,D,c),H=e(H,D,c),O=q.length,B=H.length),b=O,g=H.slice(0,O),_=g.length;_<O;)g[_++]=0;Z=q.slice(),Z.unshift(0),T=q[0],q[1]>=c/2&&++T;do D=0,l=t(q,g,O,_),l<0?(m=g[0],O!=_&&(m=m*c+(g[1]||0)),D=m/T|0,D>1?(D>=c&&(D=c-1),f=e(q,D,c),v=f.length,_=g.length,l=t(f,g,v,_),l==1&&(D--,r(f,O<v?Z:q,v,c))):(D==0&&(l=D=1),f=q.slice()),v=f.length,v<_&&f.unshift(0),r(g,f,_,c),l==-1&&(_=g.length,l=t(q,g,O,_),l<1&&(D++,r(g,O<_?Z:q,_,c))),_=g.length):l===0&&(D++,g=[0]),A[h++]=D,l&&g[0]?g[_++]=H[b]||0:(g=[H[b]],_=1);while((b++<B||g[0]!==void 0)&&p--);E=g[0]!==void 0}A[0]||A.shift()}if(w==1)y.e=s,En=E;else{for(h=1,D=A[0];D>=10;D/=10)h++;y.e=h+s*w-1,G(y,a?i+y.e+1:i,o,E)}return y}}();function G(e,t,r,n){var u,i,o,a,c,l,s,h,D,w=e.constructor;e:if(t!=null){if(h=e.d,!h)return e;for(u=1,a=h[0];a>=10;a/=10)u++;if(i=t-u,i<0)i+=K,o=t,s=h[D=0],c=s/_e(10,u-o-1)%10|0;else if(D=Math.ceil((i+1)/K),a=h.length,D>=a)if(n){for(;a++<=D;)h.push(0);s=c=0,u=1,i%=K,o=i-K+1}else break e;else{for(s=a=h[D],u=1;a>=10;a/=10)u++;i%=K,o=i-K+u,c=o<0?0:s/_e(10,u-o-1)%10|0}if(n=n||t<0||h[D+1]!==void 0||(o<0?s:s%_e(10,u-o-1)),l=r<4?(c||n)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(i>0?o>0?s/_e(10,u-o):0:h[D-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=_e(10,(K-t%K)%K),e.e=-t||0):h[0]=e.e=0,e;if(i==0?(h.length=D,a=1,D--):(h.length=D+1,a=_e(10,K-i),h[D]=o>0?(s/_e(10,u-o)%_e(10,o)|0)*a:0),l)for(;;)if(D==0){for(i=1,o=h[0];o>=10;o/=10)i++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;i!=a&&(e.e++,h[0]==Xe&&(h[0]=1));break}else{if(h[D]+=a,h[D]!=Xe)break;h[D--]=0,a=1}for(i=h.length;h[--i]===0;)h.pop()}return ee&&(e.e>w.maxE?(e.d=null,e.e=NaN):e.e<w.minE&&(e.e=0,e.d=[0])),e}function Qe(e,t,r){if(!e.isFinite())return Sn(e);var n,u=e.e,i=Ie(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+at(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):u<0?(i="0."+at(-u-1)+i,r&&(n=r-o)>0&&(i+=at(n))):u>=o?(i+=at(u+1-o),r&&(n=r-u-1)>0&&(i=i+"."+at(n))):((n=u+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(u+1===o&&(i+="."),i+=at(n))),i}function or(e,t){var r=e[0];for(t*=K;r>=10;r/=10)t++;return t}function er(e,t,r){if(t>Oi)throw ee=!0,r&&(e.precision=r),Error(An);return G(new e(Kt),t,1,!0)}function Ke(e,t,r){if(t>mr)throw Error(An);return G(new e(Qt),t,r,!0)}function _n(e){var t=e.length-1,r=t*K+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function at(e){for(var t="";e--;)t+="0";return t}function Nn(e,t,r,n){var u,i=new e(1),o=Math.ceil(n/K+4);for(ee=!1;;){if(r%2&&(i=i.times(t),Lr(i.d,o)&&(u=!0)),r=ze(r/2),r===0){r=i.d.length-1,u&&i.d[r]===0&&++i.d[r];break}t=t.times(t),Lr(t.d,o)}return ee=!0,i}function Ur(e){return e.d[e.d.length-1]&1}function Mn(e,t,r){for(var n,u,i=new e(t[0]),o=0;++o<t.length;){if(u=new e(t[o]),!u.s){i=u;break}n=i.cmp(u),(n===r||n===0&&i.s===r)&&(i=u)}return i}function vr(e,t){var r,n,u,i,o,a,c,l=0,s=0,h=0,D=e.constructor,w=D.rounding,E=D.precision;if(!e.d||!e.d[0]||e.e>17)return new D(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(ee=!1,c=E):c=t,a=new D(.03125);e.e>-2;)e=e.times(a),h+=5;for(n=Math.log(_e(2,h))/Math.LN10*2+5|0,c+=n,r=i=o=new D(1),D.precision=c;;){if(i=G(i.times(e),c,1),r=r.times(++s),a=o.plus(le(i,r,c,1)),Ie(a.d).slice(0,c)===Ie(o.d).slice(0,c)){for(u=h;u--;)o=G(o.times(o),c,1);if(t==null)if(l<3&&Ot(o.d,c-n,w,l))D.precision=c+=10,r=i=a=new D(1),s=0,l++;else return G(o,D.precision=E,w,ee=!0);else return D.precision=E,o}o=a}}function ft(e,t){var r,n,u,i,o,a,c,l,s,h,D,w=1,E=10,f=e,v=f.d,y=f.constructor,A=y.rounding,g=y.precision;if(f.s<0||!v||!v[0]||!f.e&&v[0]==1&&v.length==1)return new y(v&&!v[0]?-1/0:f.s!=1?NaN:v?0:f);if(t==null?(ee=!1,s=g):s=t,y.precision=s+=E,r=Ie(v),n=r.charAt(0),Math.abs(i=f.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=Ie(f.d),n=r.charAt(0),w++;i=f.e,n>1?(f=new y("0."+r),i++):f=new y(n+"."+r.slice(1))}else return l=er(y,s+2,g).times(i+""),f=ft(new y(n+"."+r.slice(1)),s-E).plus(l),y.precision=g,t==null?G(f,g,A,ee=!0):f;for(h=f,c=o=f=le(f.minus(1),f.plus(1),s,1),D=G(f.times(f),s,1),u=3;;){if(o=G(o.times(D),s,1),l=c.plus(le(o,new y(u),s,1)),Ie(l.d).slice(0,s)===Ie(c.d).slice(0,s))if(c=c.times(2),i!==0&&(c=c.plus(er(y,s+2,g).times(i+""))),c=le(c,new y(w),s,1),t==null)if(Ot(c.d,s-E,A,a))y.precision=s+=E,l=o=f=le(h.minus(1),h.plus(1),s,1),D=G(f.times(f),s,1),u=a=1;else return G(c,y.precision=g,A,ee=!0);else return y.precision=g,c;c=l,u+=2}}function Sn(e){return String(e.s*e.s/0)}function Ht(e,t){var r,n,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(n,u),t){if(u-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%K,r<0&&(n+=K),n<u){for(n&&e.d.push(+t.slice(0,n)),u-=K;n<u;)e.d.push(+t.slice(n,n+=K));t=t.slice(n),n=K-t.length}else n-=u;for(;n--;)t+="0";e.d.push(+t),ee&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Pi(e,t){var r,n,u,i,o,a,c,l,s;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),bn.test(t))return Ht(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Ti.test(t))r=16,t=t.toLowerCase();else if(Si.test(t))r=2;else if(xi.test(t))r=8;else throw Error(ht+t);for(i=t.search(/p/i),i>0?(c=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),o=i>=0,n=e.constructor,o&&(t=t.replace(".",""),a=t.length,i=a-i,u=Nn(n,new n(r),i,i*2)),l=jt(t,r,Xe),s=l.length-1,i=s;l[i]===0;--i)l.pop();return i<0?new n(e.s*0):(e.e=or(l,s),e.d=l,ee=!1,o&&(e=le(e,u,a*4)),c&&(e=e.times(Math.abs(c)<54?_e(2,c):Nt.pow(2,c))),ee=!0,e)}function Ri(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:_t(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/ar(5,r)),t=_t(e,2,t,t);for(var u,i=new e(5),o=new e(16),a=new e(20);r--;)u=t.times(t),t=t.times(i.plus(u.times(o.times(u).minus(a))));return t}function _t(e,t,r,n,u){var i,o,a,c,l=e.precision,s=Math.ceil(l/K);for(ee=!1,c=r.times(r),a=new e(n);;){if(o=le(a.times(c),new e(t++*t++),l,1),a=u?n.plus(o):n.minus(o),n=le(o.times(c),new e(t++*t++),l,1),o=a.plus(n),o.d[s]!==void 0){for(i=s;o.d[i]===a.d[i]&&i--;);if(i==-1)break}i=a,a=n,n=o,o=i}return ee=!0,o.d.length=s+1,o}function ar(e,t){for(var r=e;--t;)r*=e;return r}function Tn(e,t){var r,n=t.s<0,u=Ke(e,e.precision,1),i=u.times(.5);if(t=t.abs(),t.lte(i))return ut=n?4:1,t;if(r=t.divToInt(u),r.isZero())ut=n?3:2;else{if(t=t.minus(r.times(u)),t.lte(i))return ut=Ur(r)?n?2:3:n?4:1,t;ut=Ur(r)?n?1:4:n?3:2}return t.minus(u).abs()}function Ar(e,t,r,n){var u,i,o,a,c,l,s,h,D,w=e.constructor,E=r!==void 0;if(E?(ke(r,1,Dt),n===void 0?n=w.rounding:ke(n,0,8)):(r=w.precision,n=w.rounding),!e.isFinite())s=Sn(e);else{for(s=Qe(e),o=s.indexOf("."),E?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,o>=0&&(s=s.replace(".",""),D=new w(1),D.e=s.length-o,D.d=jt(Qe(D),10,u),D.e=D.d.length),h=jt(s,10,u),i=c=h.length;h[--c]==0;)h.pop();if(!h[0])s=E?"0p+0":"0";else{if(o<0?i--:(e=new w(e),e.d=h,e.e=i,e=le(e,D,r,n,0,u),h=e.d,i=e.e,l=En),o=h[r],a=u/2,l=l||h[r+1]!==void 0,l=n<4?(o!==void 0||l)&&(n===0||n===(e.s<0?3:2)):o>a||o===a&&(n===4||l||n===6&&h[r-1]&1||n===(e.s<0?8:7)),h.length=r,l)for(;++h[--r]>u-1;)h[r]=0,r||(++i,h.unshift(1));for(c=h.length;!h[c-1];--c);for(o=0,s="";o<c;o++)s+=pr.charAt(h[o]);if(E){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)s+="0";for(h=jt(s,u,t),c=h.length;!h[c-1];--c);for(o=1,s="1.";o<c;o++)s+=pr.charAt(h[o])}else s=s.charAt(0)+"."+s.slice(1);s=s+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)s="0"+s;s="0."+s}else if(++i>c)for(i-=c;i--;)s+="0";else i<c&&(s=s.slice(0,i)+"."+s.slice(i))}s=(t==16?"0x":t==2?"0b":t==8?"0o":"")+s}return e.s<0?"-"+s:s}function Lr(e,t){if(e.length>t)return e.length=t,!0}function qi(e){return new this(e).abs()}function $i(e){return new this(e).acos()}function Ui(e){return new this(e).acosh()}function Li(e,t){return new this(e).plus(t)}function ki(e){return new this(e).asin()}function Zi(e){return new this(e).asinh()}function Vi(e){return new this(e).atan()}function ji(e){return new this(e).atanh()}function Hi(e,t){e=new this(e),t=new this(t);var r,n=this.precision,u=this.rounding,i=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Ke(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Ke(this,n,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Ke(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(le(e,t,i,1)),t=Ke(this,i,1),this.precision=n,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(le(e,t,i,1)),r}function Wi(e){return new this(e).cbrt()}function Yi(e){return G(e=new this(e),e.e+1,2)}function Gi(e,t,r){return new this(e).clamp(t,r)}function Ji(e){if(!e||typeof e!="object")throw Error(ir+"Object expected");var t,r,n,u=e.defaults===!0,i=["precision",1,Dt,"rounding",0,8,"toExpNeg",-Ct,0,"toExpPos",0,Ct,"maxE",0,Ct,"minE",-Ct,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],u&&(this[r]=dr[r]),(n=e[r])!==void 0)if(ze(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ht+r+": "+n);if(r="crypto",u&&(this[r]=dr[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Cn);else this[r]=!1;else throw Error(ht+r+": "+n);return this}function Xi(e){return new this(e).cos()}function Ki(e){return new this(e).cosh()}function xn(e){var t,r,n;function u(i){var o,a,c,l=this;if(!(l instanceof u))return new u(i);if(l.constructor=u,kr(i)){l.s=i.s,ee?!i.d||i.e>u.maxE?(l.e=NaN,l.d=null):i.e<u.minE?(l.e=0,l.d=[0]):(l.e=i.e,l.d=i.d.slice()):(l.e=i.e,l.d=i.d?i.d.slice():i.d);return}if(c=typeof i,c==="number"){if(i===0){l.s=1/i<0?-1:1,l.e=0,l.d=[0];return}if(i<0?(i=-i,l.s=-1):l.s=1,i===~~i&&i<1e7){for(o=0,a=i;a>=10;a/=10)o++;ee?o>u.maxE?(l.e=NaN,l.d=null):o<u.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[i]):(l.e=o,l.d=[i]);return}if(i*0!==0){i||(l.s=NaN),l.e=NaN,l.d=null;return}return Ht(l,i.toString())}if(c==="string")return(a=i.charCodeAt(0))===45?(i=i.slice(1),l.s=-1):(a===43&&(i=i.slice(1)),l.s=1),bn.test(i)?Ht(l,i):Pi(l,i);if(c==="bigint")return i<0?(i=-i,l.s=-1):l.s=1,Ht(l,i.toString());throw Error(ht+i)}if(u.prototype=I,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=Ji,u.clone=xn,u.isDecimal=kr,u.abs=qi,u.acos=$i,u.acosh=Ui,u.add=Li,u.asin=ki,u.asinh=Zi,u.atan=Vi,u.atanh=ji,u.atan2=Hi,u.cbrt=Wi,u.ceil=Yi,u.clamp=Gi,u.cos=Xi,u.cosh=Ki,u.div=Qi,u.exp=eo,u.floor=to,u.hypot=ro,u.ln=no,u.log=uo,u.log10=oo,u.log2=io,u.max=ao,u.min=so,u.mod=fo,u.mul=co,u.pow=lo,u.random=ho,u.round=Do,u.sign=po,u.sin=mo,u.sinh=vo,u.sqrt=go,u.sub=Fo,u.sum=wo,u.tan=yo,u.tanh=Eo,u.trunc=Ao,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return u.config(e),u}function Qi(e,t){return new this(e).div(t)}function eo(e){return new this(e).exp()}function to(e){return G(e=new this(e),e.e+1,3)}function ro(){var e,t,r=new this(0);for(ee=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return ee=!0,new this(1/0);r=t}return ee=!0,r.sqrt()}function kr(e){return e instanceof Nt||e&&e.toStringTag===Bn||!1}function no(e){return new this(e).ln()}function uo(e,t){return new this(e).log(t)}function io(e){return new this(e).log(2)}function oo(e){return new this(e).log(10)}function ao(){return Mn(this,arguments,-1)}function so(){return Mn(this,arguments,1)}function fo(e,t){return new this(e).mod(t)}function co(e,t){return new this(e).mul(t)}function lo(e,t){return new this(e).pow(t)}function ho(e){var t,r,n,u,i=0,o=new this(1),a=[];if(e===void 0?e=this.precision:ke(e,1,Dt),n=Math.ceil(e/K),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));i<n;)u=t[i],u>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:a[i++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);i<n;)u=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,i):(a.push(u%1e7),i+=4);i=n/4}else throw Error(Cn);else for(;i<n;)a[i++]=Math.random()*1e7|0;for(n=a[--i],e%=K,n&&e&&(u=_e(10,K-e),a[i]=(n/u|0)*u);a[i]===0;i--)a.pop();if(i<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=K)a.shift();for(n=1,u=a[0];u>=10;u/=10)n++;n<K&&(r-=K-n)}return o.e=r,o.d=a,o}function Do(e){return G(e=new this(e),e.e+1,this.rounding)}function po(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function mo(e){return new this(e).sin()}function vo(e){return new this(e).sinh()}function go(e){return new this(e).sqrt()}function Fo(e,t){return new this(e).sub(t)}function wo(){var e=0,t=arguments,r=new this(t[e]);for(ee=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return ee=!0,G(r,this.precision,this.rounding)}function yo(e){return new this(e).tan()}function Eo(e){return new this(e).tanh()}function Ao(e){return G(e=new this(e),e.e+1,1)}I[Symbol.for("nodejs.util.inspect.custom")]=I.toString;I[Symbol.toStringTag]="Decimal";var Nt=I.constructor=xn(dr);Kt=new Nt(Kt);Qt=new Nt(Qt);var Co="BigNumber",Bo=["?on","config"],bo=ue(Co,Bo,e=>{var{on:t,config:r}=e,n=Nt.clone({precision:r.precision,modulo:Nt.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},t&&t("config",function(u,i){u.precision!==i.precision&&n.config({precision:u.precision})}),n},{isClass:!0});const Oe=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},He=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},_o=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},cr=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Et=function(){throw SyntaxError("Invalid Param")};function lr(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const No={re:0,im:0},dt=function(e,t){const r=No;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return M.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return M.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Et();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let u=1,i=0;n===null&&Et();for(let o=0;o<n.length;o++){const a=n[o];a===" "||a==="	"||a===`
`||(a==="+"?u++:a==="-"?i++:a==="i"||a==="I"?(u+i===0&&Et(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((i%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((i%2?"-":"")+"1"),u=i=0):((u+i===0||isNaN(a))&&Et(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((i%2?"-":"")+a),o++):r.re+=parseFloat((i%2?"-":"")+a),u=i=0))}u+i>0&&Et();break;case"number":r.im=0,r.re=e;break;default:Et()}return isNaN(r.re)||isNaN(r.im),r};function M(e,t){if(!(this instanceof M))return new M(e,t);const r=dt(e,t);this.re=r.re,this.im=r.im}M.prototype={re:0,im:0,sign:function(){const e=cr(this.re,this.im);return new M(this.re/e,this.im/e)},add:function(e,t){const r=dt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?M.NAN:M.INFINITY:new M(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=dt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?M.NAN:M.INFINITY:new M(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=dt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||u&&i?M.NAN:n||u?M.INFINITY:r.im===0&&this.im===0?new M(this.re*r.re,0):new M(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=dt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(i&&o||n&&u)return M.NAN;if(o||n)return M.INFINITY;if(i||u)return M.ZERO;if(r.im===0)return new M(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const a=r.re/r.im,c=r.re*a+r.im;return new M((this.re*a+this.im)/c,(this.im*a-this.re)/c)}else{const a=r.im/r.re,c=r.im*a+r.re;return new M((this.re+this.im*a)/c,(this.im-this.re*a)/c)}},pow:function(e,t){const r=dt(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return M.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new M(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new M(Math.pow(this.im,r.re),0);case 1:return new M(0,Math.pow(this.im,r.re));case 2:return new M(-Math.pow(this.im,r.re),0);case 3:return new M(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return M.ZERO;const i=Math.atan2(this.im,this.re),o=lr(this.re,this.im);let a=Math.exp(r.re*o-r.im*i),c=r.im*o+r.re*i;return new M(a*Math.cos(c),a*Math.sin(c))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new M(Math.sqrt(e),0):new M(0,Math.sqrt(-e));const r=cr(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),u=Math.abs(t)/(2*n);return e>=0?new M(n,t<0?-u:u):new M(u,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new M(e,0):new M(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new M(Math.expm1(e)*Math.cos(t)+_o(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new M(Math.log(e),0):new M(lr(e,t),Math.atan2(t,e))},abs:function(){return cr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new M(Math.sin(e)*Oe(t),Math.cos(e)*He(t))},cos:function(){const e=this.re,t=this.im;return new M(Math.cos(e)*Oe(t),-Math.sin(e)*He(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Oe(t);return new M(Math.sin(e)/r,He(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Oe(t);return new M(-Math.sin(e)/r,He(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Oe(2*t)+.5*Math.cos(2*e);return new M(Math.cos(e)*Oe(t)/r,Math.sin(e)*He(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Oe(2*t)-.5*Math.cos(2*e);return new M(Math.sin(e)*Oe(t)/r,-Math.cos(e)*He(t)/r)},asin:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),n=new M(r.re-t,r.im+e).log();return new M(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),n=new M(r.re-t,r.im+e).log();return new M(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new M(0,1/0);if(t===-1)return new M(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new M((1-t*t-e*e)/r,-2*e/r).log();return new M(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new M(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atan():new M(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acos():new M(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asin():new M(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new M(He(e)*Math.cos(t),Oe(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new M(Oe(e)*Math.cos(t),He(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Oe(e)+Math.cos(t);return new M(He(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Oe(e)-Math.cos(t);return new M(He(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Oe(2*e);return new M(-2*He(e)*Math.cos(t)/r,2*Oe(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Oe(2*e);return new M(2*Oe(e)*Math.cos(t)/r,-2*He(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,u=1+e,i=n*n+t*t,o=i!==0?new M((u*n-t*t)/i,(t*n+u*t)/i):new M(e!==-1?e/0:0,t!==0?t/0:0),a=o.re;return o.re=lr(o.re,o.im)/2,o.im=Math.atan2(o.im,a)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,Math.PI/2);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atanh():new M(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new M(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asinh():new M(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return M.INFINITY;const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acosh():new M(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return M.INFINITY;if(this.isInfinite())return M.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new M(e/r,-t/r)},conjugate:function(){return new M(this.re,-this.im)},neg:function(){return new M(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new M(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new M(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new M(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=dt(e,t);return Math.abs(r.re-this.re)<=M.EPSILON&&Math.abs(r.im-this.im)<=M.EPSILON},clone:function(){return new M(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<M.EPSILON&&(e=0),Math.abs(t)<M.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};M.ZERO=new M(0,0);M.ONE=new M(1,0);M.I=new M(0,1);M.PI=new M(Math.PI,0);M.E=new M(Math.E,0);M.INFINITY=new M(1/0,1/0);M.NAN=new M(NaN,NaN);M.EPSILON=1e-15;var Mo="Complex",So=[],To=ue(Mo,So,()=>(Object.defineProperty(M,"name",{value:"Complex"}),M.prototype.constructor=M,M.prototype.type="Complex",M.prototype.isComplex=!0,M.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},M.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},M.prototype.format=function(e){var t="",r=this.im,n=this.re,u=Dr(this.re,e),i=Dr(this.im,e),o=pe(e)?e:e?e.precision:null;if(o!==null){var a=Math.pow(10,-o);Math.abs(n/r)<a&&(n=0),Math.abs(r/n)<a&&(r=0)}return r===0?t=u:n===0?r===1?t="i":r===-1?t="-i":t=i+"i":r<0?r===-1?t=u+" - i":t=u+" - "+i.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+i+"i",t},M.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return M(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(pe(r)){if(vn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),pe(n))return new M({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},M.prototype.valueOf=M.prototype.toString,M.fromJSON=function(e){return new M(e)},M.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},M),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const Y=BigInt(0),te=BigInt(1),zt=BigInt(2),gr=BigInt(5),Ue=BigInt(10),xo=2e3,L={s:te,n:Y,d:te};function rt(e,t){try{e=BigInt(e)}catch{throw ot()}return e*t}function Je(e){return typeof e=="bigint"?e:Math.floor(e)}function de(e,t){if(t===Y)throw Cr();const r=Object.create(We.prototype);r.s=e<Y?-te:te,e=e<Y?-e:e;const n=mt(e,t);return r.n=e/n,r.d=t/n,r}function At(e){const t={};let r=e,n=zt,u=gr-te;for(;u<=r;){for(;r%n===Y;)r/=n,t[n]=(t[n]||Y)+te;u+=te+zt*n++}return r!==e?r>1&&(t[r]=(t[r]||Y)+te):t[e]=(t[e]||Y)+te,t}const Te=function(e,t){let r=Y,n=te,u=te;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw ot();if(e%1!==0)throw Zr();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw ot();if(t%1!==0)throw Zr();n=BigInt(t)}u=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw ot();u=r*n}else if(typeof e=="number"){if(isNaN(e))throw ot();if(e<0&&(u=-te,e=-e),e%1===0)r=BigInt(e);else if(e>0){let i=1,o=0,a=1,c=1,l=1,s=1e7;for(e>=1&&(i=10**Math.floor(1+Math.log10(e)),e/=i);a<=s&&l<=s;){let h=(o+c)/(a+l);if(e===h){a+l<=s?(r=o+c,n=a+l):l>a?(r=c,n=l):(r=o,n=a);break}else e>h?(o+=c,a+=l):(c+=o,l+=a),a>s?(r=c,n=l):(r=o,n=a)}r=BigInt(r)*BigInt(i),n=BigInt(n)}}else if(typeof e=="string"){let i=0,o=Y,a=Y,c=Y,l=te,s=te,h=e.replace(/_/g,"").match(/\d+|./g);if(h===null)throw ot();if(h[i]==="-"?(u=-te,i++):h[i]==="+"&&i++,h.length===i+1?a=rt(h[i++],u):h[i+1]==="."||h[i]==="."?(h[i]!=="."&&(o=rt(h[i++],u)),i++,(i+1===h.length||h[i+1]==="("&&h[i+3]===")"||h[i+1]==="'"&&h[i+3]==="'")&&(a=rt(h[i],u),l=Ue**BigInt(h[i].length),i++),(h[i]==="("&&h[i+2]===")"||h[i]==="'"&&h[i+2]==="'")&&(c=rt(h[i+1],u),s=Ue**BigInt(h[i+1].length)-te,i+=3)):h[i+1]==="/"||h[i+1]===":"?(a=rt(h[i],u),l=rt(h[i+2],te),i+=3):h[i+3]==="/"&&h[i+1]===" "&&(o=rt(h[i],u),a=rt(h[i+2],u),l=rt(h[i+4],te),i+=5),h.length<=i)n=l*s,u=r=c+n*o+s*a;else throw ot()}else if(typeof e=="bigint")r=e,u=e,n=te;else throw ot();if(n===Y)throw Cr();L.s=u<Y?-te:te,L.n=r<Y?-r:r,L.d=n<Y?-n:n};function Io(e,t,r){let n=te;for(;t>Y;e=e*e%r,t>>=te)t&te&&(n=n*e%r);return n}function Oo(e,t){for(;t%zt===Y;t/=zt);for(;t%gr===Y;t/=gr);if(t===te)return Y;let r=Ue%t,n=1;for(;r!==te;n++)if(r=r*Ue%t,n>xo)return Y;return BigInt(n)}function zo(e,t,r){let n=te,u=Io(Ue,r,t);for(let i=0;i<300;i++){if(n===u)return BigInt(i);n=n*Ue%t,u=u*Ue%t}return 0}function mt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function We(e,t){if(Te(e,t),this instanceof We)e=mt(L.d,L.n),this.s=L.s,this.n=L.n/e,this.d=L.d/e;else return de(L.s*L.n,L.d)}var Cr=function(){return new Error("Division by Zero")},ot=function(){return new Error("Invalid argument")},Zr=function(){return new Error("Parameters must be integer")};We.prototype={s:te,n:Y,d:te,abs:function(){return de(this.n,this.d)},neg:function(){return de(-this.s*this.n,this.d)},add:function(e,t){return Te(e,t),de(this.s*this.n*L.d+L.s*this.d*L.n,this.d*L.d)},sub:function(e,t){return Te(e,t),de(this.s*this.n*L.d-L.s*this.d*L.n,this.d*L.d)},mul:function(e,t){return Te(e,t),de(this.s*L.s*this.n*L.n,this.d*L.d)},div:function(e,t){return Te(e,t),de(this.s*L.s*this.n*L.d,this.d*L.n)},clone:function(){return de(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return de(this.s*this.n%this.d,te);if(Te(e,t),Y===L.n*this.d)throw Cr();return de(this.s*(L.d*this.n)%(L.n*this.d),L.d*this.d)},gcd:function(e,t){return Te(e,t),de(mt(L.n,this.n)*mt(L.d,this.d),L.d*this.d)},lcm:function(e,t){return Te(e,t),L.n===Y&&this.n===Y?de(Y,te):de(L.n*this.n,mt(L.n,this.n)*mt(L.d,this.d))},inverse:function(){return de(this.s*this.d,this.n)},pow:function(e,t){if(Te(e,t),L.d===te)return L.s<Y?de((this.s*this.d)**L.n,this.n**L.n):de((this.s*this.n)**L.n,this.d**L.n);if(this.s<Y)return null;let r=At(this.n),n=At(this.d),u=te,i=te;for(let o in r)if(o!=="1"){if(o==="0"){u=Y;break}if(r[o]*=L.n,r[o]%L.d===Y)r[o]/=L.d;else return null;u*=BigInt(o)**r[o]}for(let o in n)if(o!=="1"){if(n[o]*=L.n,n[o]%L.d===Y)n[o]/=L.d;else return null;i*=BigInt(o)**n[o]}return L.s<Y?de(i,u):de(u,i)},log:function(e,t){if(Te(e,t),this.s<=Y||L.s<=Y)return null;const r={},n=At(L.n),u=At(L.d),i=At(this.n),o=At(this.d);for(const l in u)n[l]=(n[l]||Y)-u[l];for(const l in o)i[l]=(i[l]||Y)-o[l];for(const l in n)l!=="1"&&(r[l]=!0);for(const l in i)l!=="1"&&(r[l]=!0);let a=null,c=null;for(const l in r){const s=n[l]||Y,h=i[l]||Y;if(s===Y){if(h!==Y)return null;continue}let D=h,w=s;const E=mt(D,w);if(D/=E,w/=E,a===null&&c===null)a=D,c=w;else if(D*c!==a*w)return null}return a!==null&&c!==null?de(a,c):null},equals:function(e,t){return Te(e,t),this.s*this.n*L.d===L.s*L.n*this.d},lt:function(e,t){return Te(e,t),this.s*this.n*L.d<L.s*L.n*this.d},lte:function(e,t){return Te(e,t),this.s*this.n*L.d<=L.s*L.n*this.d},gt:function(e,t){return Te(e,t),this.s*this.n*L.d>L.s*L.n*this.d},gte:function(e,t){return Te(e,t),this.s*this.n*L.d>=L.s*L.n*this.d},compare:function(e,t){Te(e,t);let r=this.s*this.n*L.d-L.s*L.n*this.d;return(Y<r)-(r<Y)},ceil:function(e){return e=Ue**BigInt(e||0),de(Je(this.s*e*this.n/this.d)+(e*this.n%this.d>Y&&this.s>=Y?te:Y),e)},floor:function(e){return e=Ue**BigInt(e||0),de(Je(this.s*e*this.n/this.d)-(e*this.n%this.d>Y&&this.s<Y?te:Y),e)},round:function(e){return e=Ue**BigInt(e||0),de(Je(this.s*e*this.n/this.d)+this.s*((this.s>=Y?te:Y)+zt*(e*this.n%this.d)>this.d?te:Y),e)},roundTo:function(e,t){Te(e,t);const r=this.n*L.d,n=this.d*L.n,u=r%n;let i=Je(r/n);return u+u>=n&&i++,de(this.s*i*L.n,L.d)},divisible:function(e,t){return Te(e,t),!(!(L.n*this.d)||this.n*L.d%(L.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;let n=Oo(t,r),u=zo(t,r,n),i=this.s<Y?"-":"";if(i+=Je(t/r),t%=r,t*=Ue,t&&(i+="."),n){for(let o=u;o--;)i+=Je(t/r),t%=r,t*=Ue;i+="(";for(let o=n;o--;)i+=Je(t/r),t%=r,t*=Ue;i+=")"}else for(let o=e;t&&o--;)i+=Je(t/r),t%=r,t*=Ue;return i},toFraction:function(e){let t=this.n,r=this.d,n=this.s<Y?"-":"";if(r===te)n+=t;else{let u=Je(t/r);e&&u>Y&&(n+=u,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<Y?"-":"";if(r===te)n+=t;else{let u=Je(t/r);e&&u>Y&&(n+=u,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(Je(e/t));let n=e%t;e=t,t=n}while(e!==te);return r},simplify:function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let u=1;u<n.length;u++){let i=de(n[u-1],te);for(let a=u-2;a>=0;a--)i=i.inverse().add(n[a]);let o=i.sub(r);if(o.n*t<o.d)return i.mul(this.s)}return this}};var Po="Fraction",Ro=[],qo=ue(Po,Ro,()=>(Object.defineProperty(We,"name",{value:"Fraction"}),We.prototype.constructor=We,We.prototype.type="Fraction",We.prototype.isFraction=!0,We.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},We.fromJSON=function(e){return new We(e)},We),{isClass:!0}),$o="Matrix",Uo=[],Lo=ue($o,Uo,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function hr(e,t,r){var n=e.constructor,u=new n(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Ne(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function ko(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:u}=Fn(t);switch(r){case"fixed":return Vo(e,n);case"exponential":return Vr(e,n);case"engineering":return Zo(e,n);case"bin":return hr(e,2,u);case"oct":return hr(e,8,u);case"hex":return hr(e,16,u);case"auto":{var i=jr(t==null?void 0:t.lowerExp,-3),o=jr(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var a,c=e.toSignificantDigits(n),l=c.e;return l>=i&&l<o?a=c.toFixed():a=Vr(e,n),a.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],h=arguments[4];return s!=="."?s+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Zo(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-n)),i=u.toPrecision(t);if(i.includes("e")){var o=e.constructor;i=new o(i).toFixed()}return i+"e"+(r>=0?"+":"")+n.toString()}function Vr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function Vo(e,t){return e.toFixed(t)}function jr(e,t){return pe(e)?e:be(e)?e.toNumber():t}function we(e,t){var r=jo(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function jo(e,t){if(typeof e=="number")return Dr(e,t);if(be(e))return ko(e,t);if(Ho(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return In(e,t);if(nt(e))return Hr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>Hr(n)+": "+we(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function Hr(e){for(var t=String(e),r="",n=0;n<t.length;){var u=t.charAt(n);r+=u in Wr?Wr[u]:u,n++}return'"'+r+'"'}var Wr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function In(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,u=0;u<n;u++)u!==0&&(r+=", "),r+=In(e[u],t);return r+="]",r}else return we(e,t)}function Ho(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function ve(e,t,r){if(!(this instanceof ve))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}ve.prototype=new RangeError;ve.prototype.constructor=RangeError;ve.prototype.name="DimensionError";ve.prototype.isDimensionError=!0;function Mt(e,t,r){if(!(this instanceof Mt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Mt.prototype=new RangeError;Mt.prototype.constructor=RangeError;Mt.prototype.name="IndexError";Mt.prototype.isIndexError=!0;function Le(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function On(e,t,r){var n,u=e.length;if(u!==t[r])throw new ve(u,t[r]);if(r<t.length-1){var i=r+1;for(n=0;n<u;n++){var o=e[n];if(!Array.isArray(o))throw new ve(t.length-1,t.length,"<");On(e[n],t,i)}}else for(n=0;n<u;n++)if(Array.isArray(e[n]))throw new ve(t.length+1,t.length,">")}function Yr(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new ve(e.length,0)}else On(e,t,0)}function Fe(e,t){if(e!==void 0){if(!pe(e)||!Ne(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Mt(e,t)}}function Fr(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!pe(u)||!Ne(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+we(t)+")")}),(pe(e)||be(e))&&(e=[e]);var n=r!==void 0?r:0;return wr(e,t,0,n),e}function wr(e,t,r,n){var u,i,o=e.length,a=t[r],c=Math.min(o,a);if(e.length=a,r<t.length-1){var l=r+1;for(u=0;u<c;u++)i=e[u],Array.isArray(i)||(i=[i],e[u]=i),wr(i,t,l,n);for(u=c;u<a;u++)i=[],e[u]=i,wr(i,t,l,n)}else{for(u=0;u<c;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=c;u<a;u++)e[u]=n}}function zn(e,t){var r=Yo(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new ve(0,n,"!=");t=Br(t,n);var u=Pn(t);if(n!==u)throw new ve(u,n,"!=");try{return Wo(r,t)}catch(i){throw i instanceof ve?new ve(u,n,"!="):i}}function Br(e,t){var r=Pn(e),n=e.slice(),u=-1,i=e.indexOf(u),o=e.indexOf(u,i+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var a=i>=0,c=t%r===0;if(a)if(c)n[i]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function Pn(e){return e.reduce((t,r)=>t*r,1)}function Wo(e,t){for(var r=e,n,u=t.length-1;u>0;u--){var i=t[u];n=[];for(var o=r.length/i,a=0;a<o;a++)n.push(r.slice(a*i,(a+1)*i));r=n}return r}function Rn(e,t,r,n){var u=n||Le(e);if(r)for(var i=0;i<r;i++)e=[e],u.unshift(1);for(e=qn(e,t,0);u.length<t;)u.push(1);return e}function qn(e,t,r){var n,u;if(Array.isArray(e)){var i=r+1;for(n=0,u=e.length;n<u;n++)e[n]=qn(e[n],t,i)}else for(var o=r;o<t;o++)e=[e];return e}function Yo(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function br(e,t){for(var r,n=0,u=0;u<e.length;u++){var i=e[u],o=Array.isArray(i);if(u===0&&o&&(n=i.length),o&&i.length!==n)return;var a=o?br(i,t):t(i);if(r===void 0)r=a;else if(r!==a)return"mixed"}return r}function $n(e,t,r,n){if(n<r){if(e.length!==t.length)throw new ve(e.length,t.length);for(var u=[],i=0;i<e.length;i++)u[i]=$n(e[i],t[i],r,n+1);return u}else return e.concat(t)}function Go(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return $n(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Jo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(D=>D.length),u=Math.max(...n),i=new Array(u).fill(null),o=0;o<t.length;o++)for(var a=t[o],c=n[o],l=0;l<c;l++){var s=u-c+l;a[l]>i[s]&&(i[s]=a[l])}for(var h=0;h<t.length;h++)Un(t[h],i);return i}function Un(e,t){for(var r=t.length,n=e.length,u=0;u<n;u++){var i=r-n+u;if(e[u]<t[i]&&e[u]>1||e[u]>t[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[u]," to size ").concat(t[i]))}}function Gr(e,t){var r=Le(e);if(bt(r,t))return e;Un(r,t);var n=Jo(r,t),u=n.length,i=[...Array(u-r.length).fill(1),...r],o=Ko(e);r.length<u&&(o=zn(o,i),r=Le(o));for(var a=0;a<u;a++)r[a]<n[a]&&(o=Xo(o,n[a],a),r=Le(o));return o}function Xo(e,t,r){return Go(...Array(t).fill(e),r)}function Ln(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=Le(e);if(t.length!==r.length)throw new ve(t.length,r.length);for(var n=0;n<t.length;n++)Fe(t[n],r[n]);return t.reduce((u,i)=>u[i],e)}function Ko(e){return Dn([],e)}function tr(e,t,r){if(Jt.isTypedFunction(e)){var n=(t.isMatrix?t.size():Le(t)).map(()=>0),u=t.isMatrix?t.get(n):Ln(t,n),i=Object.keys(e.signatures).length===1,o=Qo(e,u,n,t),a=i?Object.values(e.signatures)[0]:e;return o>=1&&o<=3?function(){for(var c=arguments.length,l=new Array(c),s=0;s<c;s++)l[s]=arguments[s];return Jr(a,l.slice(0,o),r,e.name)}:function(){for(var c=arguments.length,l=new Array(c),s=0;s<c;s++)l[s]=arguments[s];return Jr(a,l,r,e.name)}}return e}function Qo(e,t,r,n){for(var u=[t,r,n],i=3;i>0;i--){var o=u.slice(0,i);if(Jt.resolve(e,o)!==null)return i}}function Jr(e,t,r,n){try{return e(...t)}catch(u){ea(u,t,r,n)}}function ea(e,t,r,n){var u;if(e instanceof TypeError&&((u=e.data)===null||u===void 0?void 0:u.category)==="wrongType"){var i=[];throw i.push("value: ".concat(ct(t[0]))),t.length>=2&&i.push("index: ".concat(ct(t[1]))),t.length>=3&&i.push("array: ".concat(ct(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var ta="DenseMatrix",ra=["Matrix"],na=ue(ta,ra,e=>{var{Matrix:t}=e;function r(s,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!nt(h))throw new Error("Invalid datatype: "+h);if(Me(s))s.type==="DenseMatrix"?(this._data=me(s._data),this._size=me(s._size),this._datatype=h||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=h||s._datatype);else if(s&&Be(s.data)&&Be(s.size))this._data=s.data,this._size=s.size,Yr(this._data,this._size),this._datatype=h||s.datatype;else if(Be(s))this._data=l(s),this._size=Le(this._data),Yr(this._data,this._size),this._datatype=h;else{if(s)throw new TypeError("Unsupported type of data ("+ct(s)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new t,r.prototype.createDenseMatrix=function(s,h){return new r(s,h)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return br(this._data,ct)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(s,h){return new r(s,h)},r.prototype.subset=function(s,h,D){switch(arguments.length){case 1:return n(this,s);case 2:case 3:return i(this,s,h,D);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(s){return Ln(this._data,s)},r.prototype.set=function(s,h,D){if(!Be(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new ve(s.length,this._size.length,"<");var w,E,f,v=s.map(function(A){return A+1});c(this,v,D);var y=this._data;for(w=0,E=s.length-1;w<E;w++)f=s[w],Fe(f,y.length),y=y[f];return f=s[s.length-1],Fe(f,y.length),y[f]=h,this};function n(s,h){if(!yr(h))throw new TypeError("Invalid index");var D=h.isScalar();if(D)return s.get(h.min());var w=h.size();if(w.length!==s._size.length)throw new ve(w.length,s._size.length);for(var E=h.min(),f=h.max(),v=0,y=s._size.length;v<y;v++)Fe(E[v],s._size[v]),Fe(f[v],s._size[v]);return new r(u(s._data,h,w.length,0),s._datatype)}function u(s,h,D,w){var E=w===D-1,f=h.dimension(w);return E?f.map(function(v){return Fe(v,s.length),s[v]}).valueOf():f.map(function(v){Fe(v,s.length);var y=s[v];return u(y,h,D,w+1)}).valueOf()}function i(s,h,D,w){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var E=h.size(),f=h.isScalar(),v;if(Me(D)?(v=D.size(),D=D.valueOf()):v=Le(D),f){if(v.length!==0)throw new TypeError("Scalar expected");s.set(h.min(),D,w)}else{if(!bt(v,E))try{v.length===0?D=Gr([D],E):D=Gr(D,E),v=Le(D)}catch{}if(E.length<s._size.length)throw new ve(E.length,s._size.length,"<");if(v.length<E.length){for(var y=0,A=0;E[y]===1&&v[y]===1;)y++;for(;E[y]===1;)A++,y++;D=Rn(D,E.length,A,v)}if(!bt(E,v))throw new ve(E,v,">");var g=h.max().map(function(p){return p+1});c(s,g,w);var _=E.length,m=0;o(s._data,h,D,_,m)}return s}function o(s,h,D,w,E){var f=E===w-1,v=h.dimension(E);f?v.forEach(function(y,A){Fe(y),s[y]=D[A[0]]}):v.forEach(function(y,A){Fe(y),o(s[y],h,D[A[0]],w,E+1)})}r.prototype.resize=function(s,h,D){if(!Yt(s))throw new TypeError("Array or Matrix expected");var w=s.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),E=D?this.clone():this;return a(E,w,h)};function a(s,h,D){if(h.length===0){for(var w=s._data;Be(w);)w=w[0];return w}return s._size=h.slice(0),s._data=Fr(s._data,s._size,D),s}r.prototype.reshape=function(s,h){var D=h?this.clone():this;D._data=zn(D._data,s);var w=D._size.reduce((E,f)=>E*f);return D._size=Br(s,w),D};function c(s,h,D){for(var w=s._size.slice(0),E=!1;w.length<h.length;)w.push(0),E=!0;for(var f=0,v=h.length;f<v;f++)h[f]>w[f]&&(w[f]=h[f],E=!0);E&&a(s,w,D)}r.prototype.clone=function(){var s=new r({data:me(this._data),size:me(this._size),datatype:this._datatype});return s},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(s){var h=this,D=h.size();if(D.length===1){for(var w=0;w<D[0];w++)s(h._data,w,[w]);return}var E=Array(D.length).fill(0),f=Array(D.length-1),v=f.length-1;f[0]=h._data[0];for(var y=0;y<v;y++)f[y+1]=f[y][0];for(E[v]=-1;;){var A=void 0;for(A=v;A>=0;A--){if(E[A]++,E[A]===D[A]){E[A]=0;continue}f[A]=A===0?h._data[E[A]]:f[A-1][E[A]];for(var g=A;g<v;g++)f[g+1]=f[g][0];for(var _=0;_<D[f.length];_++)E[f.length]=_,s(f[v],_,E.slice(0));break}if(A===-1)break}},r.prototype.map=function(s){var h=this,D=new r(h),w=tr(s,h._data,"map");return D._forEach(function(E,f,v){E[f]=w(E[f],v,h)}),D},r.prototype.forEach=function(s){var h=this,D=tr(s,h._data,"map");h._forEach(function(w,E,f){D(w[E],f,h)})},r.prototype[Symbol.iterator]=function*(){var s=function*(D,w){if(Be(D))for(var E=0;E<D.length;E++)yield*s(D[E],w.concat(E));else yield{value:D,index:w}};yield*s(this._data,[])},r.prototype.rows=function(){var s=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var w of D)s.push(new r([w],this._datatype));return s},r.prototype.columns=function(){var s=this,h=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var w=this._data,E=function(y){var A=w.map(g=>[g[y]]);h.push(new r(A,s._datatype))},f=0;f<D[1];f++)E(f);return h},r.prototype.toArray=function(){return me(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(s){return we(this._data,s)},r.prototype.toString=function(){return we(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(s){if(s){if(be(s)&&(s=s.toNumber()),!pe(s)||!Ne(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var h=s>0?s:0,D=s<0?-s:0,w=this._size[0],E=this._size[1],f=Math.min(w-D,E-h),v=[],y=0;y<f;y++)v[y]=this._data[y+D][y+h];return new r({data:v,size:[f],datatype:this._datatype})},r.diagonal=function(s,h,D,w){if(!Be(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(F){if(be(F)&&(F=F.toNumber()),!pe(F)||!Ne(F)||F<1)throw new Error("Size values must be positive integers");return F}),D){if(be(D)&&(D=D.toNumber()),!pe(D)||!Ne(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var E=D>0?D:0,f=D<0?-D:0,v=s[0],y=s[1],A=Math.min(v-f,y-E),g;if(Be(h)){if(h.length!==A)throw new Error("Invalid value array length");g=function(b){return h[b]}}else if(Me(h)){var _=h.size();if(_.length!==1||_[0]!==A)throw new Error("Invalid matrix length");g=function(b){return h.get([b])}}else g=function(){return h};w||(w=be(g(0))?g(0).mul(0):0);var m=[];if(s.length>0){m=Fr(m,s,w);for(var p=0;p<A;p++)m[p+f][p+E]=g(p)}return new r({data:m,size:[v,y]})},r.fromJSON=function(s){return new r(s)},r.prototype.swapRows=function(s,h){if(!pe(s)||!Ne(s)||!pe(h)||!Ne(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Fe(s,this._size[0]),Fe(h,this._size[0]),r._swapRows(s,h,this._data),this},r._swapRows=function(s,h,D){var w=D[s];D[s]=D[h],D[h]=w};function l(s){return Me(s)?l(s.valueOf()):Be(s)?s.map(l):s}return r},{isClass:!0});function pt(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return pt(n,t)}):t(e)}var kn="number",_r="number, number";function Zn(e){return Math.abs(e)}Zn.signature=kn;function Vn(e,t){return e+t}Vn.signature=_r;function jn(e,t){return e-t}jn.signature=_r;function Hn(e,t){return e*t}Hn.signature=_r;function Wn(e){return-e}Wn.signature=kn;function ua(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var Xr="isZero",ia=["typed","equalScalar"],oa=ue(Xr,ia,e=>{var{typed:t,equalScalar:r}=e;return t(Xr,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>u=>t.find(n,u.valueType())(u.value)),"Array | Matrix":t.referToSelf(n=>u=>pt(u,n))})});function aa(e,t,r,n){return Xt(e.re,t.re,r,n)&&Xt(e.im,t.im,r,n)}var sa=ue("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),u.valueType()])(n.value,u.value)})}}),rr="equalScalar",fa=["typed","config"],ca=ue(rr,fa,e=>{var{typed:t,config:r}=e,n=sa({typed:t});return t(rr,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return Xt(i,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||ua(i,o,r.relTol,r.absTol)},"bigint, bigint":function(i,o){return i===o},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return aa(i,o,r.relTol,r.absTol)}},n)});ue(rr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(rr,{"number, number":function(u,i){return Xt(u,i,r.relTol,r.absTol)}})});var la="SparseMatrix",ha=["typed","equalScalar","Matrix"],Da=ue(la,ha,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function u(f,v){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!nt(v))throw new Error("Invalid datatype: "+v);if(Me(f))i(this,f,v);else if(f&&Be(f.index)&&Be(f.ptr)&&Be(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=v||f.datatype;else if(Be(f))o(this,f,v);else{if(f)throw new TypeError("Unsupported type of data ("+ct(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function i(f,v,y){v.type==="SparseMatrix"?(f._values=v._values?me(v._values):void 0,f._index=me(v._index),f._ptr=me(v._ptr),f._size=me(v._size),f._datatype=y||v._datatype):o(f,v.valueOf(),y||v._datatype)}function o(f,v,y){f._values=[],f._index=[],f._ptr=[],f._datatype=y;var A=v.length,g=0,_=r,m=0;if(nt(y)&&(_=t.find(r,[y,y])||r,m=t.convert(0,y)),A>0){var p=0;do{f._ptr.push(f._index.length);for(var F=0;F<A;F++){var b=v[F];if(Be(b)){if(p===0&&g<b.length&&(g=b.length),p<b.length){var B=b[p];_(B,m)||(f._values.push(B),f._index.push(F))}}else p===0&&g<1&&(g=1),_(b,m)||(f._values.push(b),f._index.push(F))}p++}while(p<g)}f._ptr.push(f._index.length),f._size=[A,g]}u.prototype=new n,u.prototype.createSparseMatrix=function(f,v){return new u(f,v)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return br(this._values,ct)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(f,v){return new u(f,v)},u.prototype.density=function(){var f=this._size[0],v=this._size[1];return f!==0&&v!==0?this._index.length/(f*v):0},u.prototype.subset=function(f,v,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,f);case 2:case 3:return c(this,f,v,y);default:throw new SyntaxError("Wrong number of arguments")}};function a(f,v){if(!yr(v))throw new TypeError("Invalid index");var y=v.isScalar();if(y)return f.get(v.min());var A=v.size();if(A.length!==f._size.length)throw new ve(A.length,f._size.length);var g,_,m,p,F=v.min(),b=v.max();for(g=0,_=f._size.length;g<_;g++)Fe(F[g],f._size[g]),Fe(b[g],f._size[g]);var B=f._values,T=f._index,O=f._ptr,Z=v.dimension(0),W=v.dimension(1),J=[],H=[];Z.forEach(function(U,Q){H[U]=Q[0],J[U]=!0});var q=B?[]:void 0,X=[],R=[];return W.forEach(function(U){for(R.push(X.length),m=O[U],p=O[U+1];m<p;m++)g=T[m],J[g]===!0&&(X.push(H[g]),q&&q.push(B[m]))}),R.push(X.length),new u({values:q,index:X,ptr:R,size:A,datatype:f._datatype})}function c(f,v,y,A){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var g=v.size(),_=v.isScalar(),m;if(Me(y)?(m=y.size(),y=y.toArray()):m=Le(y),_){if(m.length!==0)throw new TypeError("Scalar expected");f.set(v.min(),y,A)}else{if(g.length!==1&&g.length!==2)throw new ve(g.length,f._size.length,"<");if(m.length<g.length){for(var p=0,F=0;g[p]===1&&m[p]===1;)p++;for(;g[p]===1;)F++,p++;y=Rn(y,g.length,F,m)}if(!bt(g,m))throw new ve(g,m,">");if(g.length===1){var b=v.dimension(0);b.forEach(function(O,Z){Fe(O),f.set([O,0],y[Z[0]],A)})}else{var B=v.dimension(0),T=v.dimension(1);B.forEach(function(O,Z){Fe(O),T.forEach(function(W,J){Fe(W),f.set([O,W],y[Z[0]][J[0]],A)})})}}return f}u.prototype.get=function(f){if(!Be(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new ve(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=f[0],y=f[1];Fe(v,this._size[0]),Fe(y,this._size[1]);var A=l(v,this._ptr[y],this._ptr[y+1],this._index);return A<this._ptr[y+1]&&this._index[A]===v?this._values[A]:0},u.prototype.set=function(f,v,y){if(!Be(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new ve(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var A=f[0],g=f[1],_=this._size[0],m=this._size[1],p=r,F=0;nt(this._datatype)&&(p=t.find(r,[this._datatype,this._datatype])||r,F=t.convert(0,this._datatype)),(A>_-1||g>m-1)&&(D(this,Math.max(A+1,_),Math.max(g+1,m),y),_=this._size[0],m=this._size[1]),Fe(A,_),Fe(g,m);var b=l(A,this._ptr[g],this._ptr[g+1],this._index);return b<this._ptr[g+1]&&this._index[b]===A?p(v,F)?s(b,g,this._values,this._index,this._ptr):this._values[b]=v:p(v,F)||h(b,A,g,v,this._values,this._index,this._ptr),this};function l(f,v,y,A){if(y-v===0)return y;for(var g=v;g<y;g++)if(A[g]===f)return g;return v}function s(f,v,y,A,g){y.splice(f,1),A.splice(f,1);for(var _=v+1;_<g.length;_++)g[_]--}function h(f,v,y,A,g,_,m){g.splice(f,0,A),_.splice(f,0,v);for(var p=y+1;p<m.length;p++)m[p]++}u.prototype.resize=function(f,v,y){if(!Yt(f))throw new TypeError("Array or Matrix expected");var A=f.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(A.length!==2)throw new Error("Only two dimensions matrix are supported");A.forEach(function(_){if(!pe(_)||!Ne(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+we(A)+")")});var g=y?this.clone():this;return D(g,A[0],A[1],v)};function D(f,v,y,A){var g=A||0,_=r,m=0;nt(f._datatype)&&(_=t.find(r,[f._datatype,f._datatype])||r,m=t.convert(0,f._datatype),g=t.convert(g,f._datatype));var p=!_(g,m),F=f._size[0],b=f._size[1],B,T,O;if(y>b){for(T=b;T<y;T++)if(f._ptr[T]=f._values.length,p)for(B=0;B<F;B++)f._values.push(g),f._index.push(B);f._ptr[y]=f._values.length}else y<b&&(f._ptr.splice(y+1,b-y),f._values.splice(f._ptr[y],f._values.length),f._index.splice(f._ptr[y],f._index.length));if(b=y,v>F){if(p){var Z=0;for(T=0;T<b;T++){f._ptr[T]=f._ptr[T]+Z,O=f._ptr[T+1]+Z;var W=0;for(B=F;B<v;B++,W++)f._values.splice(O+W,0,g),f._index.splice(O+W,0,B),Z++}f._ptr[b]=f._values.length}}else if(v<F){var J=0;for(T=0;T<b;T++){f._ptr[T]=f._ptr[T]-J;var H=f._ptr[T],q=f._ptr[T+1]-J;for(O=H;O<q;O++)B=f._index[O],B>v-1&&(f._values.splice(O,1),f._index.splice(O,1),J++)}f._ptr[T]=f._values.length}return f._size[0]=v,f._size[1]=y,f}u.prototype.reshape=function(f,v){if(!Be(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(U){if(!pe(U)||!Ne(U)||U<=-2||U===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+we(f)+")")});var y=this._size[0]*this._size[1];f=Br(f,y);var A=f[0]*f[1];if(y!==A)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=v?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return g;for(var _=[],m=0;m<g._ptr.length;m++)for(var p=0;p<g._ptr[m+1]-g._ptr[m];p++)_.push(m);for(var F=g._values.slice(),b=g._index.slice(),B=0;B<g._index.length;B++){var T=b[B],O=_[B],Z=T*g._size[1]+O;_[B]=Z%f[1],b[B]=Math.floor(Z/f[1])}g._values.length=0,g._index.length=0,g._ptr.length=f[1]+1,g._size=f.slice();for(var W=0;W<g._ptr.length;W++)g._ptr[W]=0;for(var J=0;J<F.length;J++){var H=b[J],q=_[J],X=F[J],R=l(H,g._ptr[q],g._ptr[q+1],g._index);h(R,H,q,X,g._values,g._index,g._ptr)}return g},u.prototype.clone=function(){var f=new u({values:this._values?me(this._values):void 0,index:me(this._index),ptr:me(this._ptr),size:me(this._size),datatype:this._datatype});return f},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(f,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,A=this._size[0],g=this._size[1],_=tr(f,y,"map"),m=function(F,b,B){return _(F,[b,B],y)};return w(this,0,A-1,0,g-1,m,v)};function w(f,v,y,A,g,_,m){var p=[],F=[],b=[],B=r,T=0;nt(f._datatype)&&(B=t.find(r,[f._datatype,f._datatype])||r,T=t.convert(0,f._datatype));for(var O=function(ie,Ae,ye){var ge=_(ie,Ae,ye);B(ge,T)||(p.push(ge),F.push(Ae))},Z=A;Z<=g;Z++){b.push(p.length);var W=f._ptr[Z],J=f._ptr[Z+1];if(m)for(var H=W;H<J;H++){var q=f._index[H];q>=v&&q<=y&&O(f._values[H],q-v,Z-A)}else{for(var X={},R=W;R<J;R++){var U=f._index[R];X[U]=f._values[R]}for(var Q=v;Q<=y;Q++){var ne=Q in X?X[Q]:0;O(ne,Q-v,Z-A)}}}return b.push(p.length),new u({values:p,index:F,ptr:b,size:[y-v+1,g-A+1]})}u.prototype.forEach=function(f,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,A=this._size[0],g=this._size[1],_=tr(f,y,"forEach"),m=0;m<g;m++){var p=this._ptr[m],F=this._ptr[m+1];if(v)for(var b=p;b<F;b++){var B=this._index[b];_(this._values[b],[B,m],y)}else{for(var T={},O=p;O<F;O++){var Z=this._index[O];T[Z]=this._values[O]}for(var W=0;W<A;W++){var J=W in T?T[W]:0;_(J,[W,m],y)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],v=0;v<f;v++)for(var y=this._ptr[v],A=this._ptr[v+1],g=y;g<A;g++){var _=this._index[g];yield{value:this._values[g],index:[_,v]}}},u.prototype.toArray=function(){return E(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return E(this._values,this._index,this._ptr,this._size,!1)};function E(f,v,y,A,g){var _=A[0],m=A[1],p=[],F,b;for(F=0;F<_;F++)for(p[F]=[],b=0;b<m;b++)p[F][b]=0;for(b=0;b<m;b++)for(var B=y[b],T=y[b+1],O=B;O<T;O++)F=v[O],p[F][b]=f?g?me(f[O]):f[O]:1;return p}return u.prototype.format=function(f){for(var v=this._size[0],y=this._size[1],A=this.density(),g="Sparse Matrix ["+we(v,f)+" x "+we(y,f)+"] density: "+we(A,f)+`
`,_=0;_<y;_++)for(var m=this._ptr[_],p=this._ptr[_+1],F=m;F<p;F++){var b=this._index[F];g+=`
    (`+we(b,f)+", "+we(_,f)+") ==> "+(this._values?we(this._values[F],f):"X")}return g},u.prototype.toString=function(){return we(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(f){if(f){if(be(f)&&(f=f.toNumber()),!pe(f)||!Ne(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var v=f>0?f:0,y=f<0?-f:0,A=this._size[0],g=this._size[1],_=Math.min(A-y,g-v),m=[],p=[],F=[];F[0]=0;for(var b=v;b<g&&m.length<_;b++)for(var B=this._ptr[b],T=this._ptr[b+1],O=B;O<T;O++){var Z=this._index[O];if(Z===b-v+y){m.push(this._values[O]),p[m.length-1]=Z-y;break}}return F.push(m.length),new u({values:m,index:p,ptr:F,size:[_,1]})},u.fromJSON=function(f){return new u(f)},u.diagonal=function(f,v,y,A,g){if(!Be(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(U){if(be(U)&&(U=U.toNumber()),!pe(U)||!Ne(U)||U<1)throw new Error("Size values must be positive integers");return U}),y){if(be(y)&&(y=y.toNumber()),!pe(y)||!Ne(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var _=r,m=0;nt(g)&&(_=t.find(r,[g,g])||r,m=t.convert(0,g));var p=y>0?y:0,F=y<0?-y:0,b=f[0],B=f[1],T=Math.min(b-F,B-p),O;if(Be(v)){if(v.length!==T)throw new Error("Invalid value array length");O=function(Q){return v[Q]}}else if(Me(v)){var Z=v.size();if(Z.length!==1||Z[0]!==T)throw new Error("Invalid matrix length");O=function(Q){return v.get([Q])}}else O=function(){return v};for(var W=[],J=[],H=[],q=0;q<B;q++){H.push(W.length);var X=q-p;if(X>=0&&X<T){var R=O(X);_(R,m)||(J.push(X+F),W.push(R))}}return H.push(W.length),new u({values:W,index:J,ptr:H,size:[b,B]})},u.prototype.swapRows=function(f,v){if(!pe(f)||!Ne(f)||!pe(v)||!Ne(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Fe(f,this._size[0]),Fe(v,this._size[0]),u._swapRows(f,v,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(f,v,y,A,g){for(var _=A[f],m=A[f+1],p=_;p<m;p++)g(y[p],v[p])},u._swapRows=function(f,v,y,A,g,_){for(var m=0;m<y;m++){var p=_[m],F=_[m+1],b=l(f,p,F,g),B=l(v,p,F,g);if(b<F&&B<F&&g[b]===f&&g[B]===v){if(A){var T=A[b];A[b]=A[B],A[B]=T}continue}if(b<F&&g[b]===f&&(B>=F||g[B]!==v)){var O=A?A[b]:void 0;g.splice(B,0,v),A&&A.splice(B,0,O),g.splice(B<=b?b+1:b,1),A&&A.splice(B<=b?b+1:b,1);continue}if(B<F&&g[B]===v&&(b>=F||g[b]!==f)){var Z=A?A[B]:void 0;g.splice(b,0,f),A&&A.splice(b,0,Z),g.splice(b<=B?B+1:B,1),A&&A.splice(b<=B?B+1:B,1)}}},u},{isClass:!0}),pa="number",da=["typed"];function ma(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],u=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:u}}else return null}function va(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var u=parseInt(e.fractionalPart[n],e.radix);r+=u/Math.pow(e.radix,n+1)}var i=t+r;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}var ga=ue(pa,da,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(u){return u},string:function(u){if(u==="NaN")return NaN;var i=ma(u);if(i)return va(i);var o=0,a=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),u=a[1]);var c=Number(u);if(isNaN(c))throw new SyntaxError('String "'+u+'" is not a valid number');if(a){if(c>2**o-1)throw new SyntaxError('String "'.concat(u,'" is out of range'));c>=2**(o-1)&&(c=c-2**o)}return c},BigNumber:function(u){return u.toNumber()},bigint:function(u){return Number(u)},Fraction:function(u){return u.valueOf()},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),null:function(u){return 0},"Unit, string | Unit":function(u,i){return u.toNumber(i)},"Array | Matrix":t.referToSelf(n=>u=>pt(u,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),Fa="bignumber",wa=["typed","BigNumber"],ya=ue(Fa,wa,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(u){return new r(u+"")},string:function(u){var i=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var o=i[2],a=r(i[1]),c=new r(2).pow(Number(o));if(a.gt(c.sub(1)))throw new SyntaxError('String "'.concat(u,'" is out of range'));var l=new r(2).pow(Number(o)-1);return a.gte(l)?a.sub(c):a}return new r(u)},BigNumber:function(u){return u},bigint:function(u){return new r(u.toString())},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Fraction:function(u){return new r(String(u.n)).div(String(u.d)).times(String(u.s))},null:function(u){return new r(0)},"Array | Matrix":t.referToSelf(n=>u=>pt(u,n))})}),Ea="fraction",Aa=["typed","Fraction"],Ca=ue(Ea,Aa,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(u){if(!isFinite(u)||isNaN(u))throw new Error(u+" cannot be represented as a fraction");return new r(u)},string:function(u){return new r(u)},"number, number":function(u,i){return new r(u,i)},"bigint, bigint":function(u,i){return new r(u,i)},null:function(u){return new r(0)},BigNumber:function(u){return new r(u.toString())},bigint:function(u){return new r(u.toString())},Fraction:function(u){return u},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Object:function(u){return new r(u)},"Array | Matrix":t.referToSelf(n=>u=>pt(u,n))})}),Kr="matrix",Ba=["typed","Matrix","DenseMatrix","SparseMatrix"],ba=ue(Kr,Ba,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:u}=e;return t(Kr,{"":function(){return i([])},string:function(a){return i([],a)},"string, string":function(a,c){return i([],a,c)},Array:function(a){return i(a)},Matrix:function(a){return i(a,a.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(o,a,c){if(a==="dense"||a==="default"||a===void 0)return new n(o,c);if(a==="sparse")return new u(o,c);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),Qr="unaryMinus",_a=["typed"],Na=ue(Qr,_a,e=>{var{typed:t}=e;return t(Qr,{number:Wn,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var u=n.clone();return u.value=t.find(r,u.valueType())(n.value),u}),"Array | Matrix":t.referToSelf(r=>n=>pt(n,r))})}),en="abs",Ma=["typed"],Sa=ue(en,Ma,e=>{var{typed:t}=e;return t(en,{number:Zn,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>pt(n,r))})}),tn="addScalar",Ta=["typed"],xa=ue(tn,Ta,e=>{var{typed:t}=e;return t(tn,{"number, number":Vn,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"bigint, bigint":function(n,u){return n+u},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),rn="subtractScalar",Ia=["typed"],Oa=ue(rn,Ia,e=>{var{typed:t}=e;return t(rn,{"number, number":jn,"Complex, Complex":function(n,u){return n.sub(u)},"BigNumber, BigNumber":function(n,u){return n.minus(u)},"bigint, bigint":function(n,u){return n-u},"Fraction, Fraction":function(n,u){return n.sub(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),za="matAlgo11xS0s",Pa=["typed","equalScalar"],Ra=ue(za,Pa,e=>{var{typed:t,equalScalar:r}=e;return function(u,i,o,a){var c=u._values,l=u._index,s=u._ptr,h=u._size,D=u._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var w=h[0],E=h[1],f,v=r,y=0,A=o;typeof D=="string"&&(f=D,v=t.find(r,[f,f]),y=t.convert(0,f),i=t.convert(i,f),A=t.find(o,[f,f]));for(var g=[],_=[],m=[],p=0;p<E;p++){m[p]=_.length;for(var F=s[p],b=s[p+1],B=F;B<b;B++){var T=l[B],O=a?A(i,c[B]):A(c[B],i);v(O,y)||(_.push(T),g.push(O))}}return m[E]=_.length,u.createSparseMatrix({values:g,index:_,ptr:m,size:[w,E],datatype:f})}}),qa="matAlgo14xDs",$a=["typed"],Ua=ue(qa,$a,e=>{var{typed:t}=e;return function(u,i,o,a){var c=u._data,l=u._size,s=u._datatype,h,D=o;typeof s=="string"&&(h=s,i=t.convert(i,h),D=t.find(o,[h,h]));var w=l.length>0?r(D,0,l,l[0],c,i,a):[];return u.createDenseMatrix({data:w,size:me(l),datatype:h})};function r(n,u,i,o,a,c,l){var s=[];if(u===i.length-1)for(var h=0;h<o;h++)s[h]=l?n(c,a[h]):n(a[h],c);else for(var D=0;D<o;D++)s[D]=r(n,u+1,i,i[u+1],a[D],c,l);return s}}),La="multiplyScalar",ka=["typed"],Za=ue(La,ka,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Hn,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"bigint, bigint":function(n,u){return n*u},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),nn="multiply",Va=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],ja=ue(nn,Va,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:u,equalScalar:i,dot:o}=e,a=Ra({typed:t,equalScalar:i}),c=Ua({typed:t});function l(m,p){switch(m.length){case 1:switch(p.length){case 1:if(m[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(m[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+m[0]+") must match Matrix rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;case 2:switch(p.length){case 1:if(m[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+m[1]+") must match Vector length ("+p[0]+")");break;case 2:if(m[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+m[1]+") must match Matrix B rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+m.length+" dimensions)")}}function s(m,p,F){if(F===0)throw new Error("Cannot multiply two empty vectors");return o(m,p)}function h(m,p){if(p.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return D(m,p)}function D(m,p){var F=m._data,b=m._size,B=m._datatype||m.getDataType(),T=p._data,O=p._size,Z=p._datatype||p.getDataType(),W=b[0],J=O[1],H,q=n,X=u;B&&Z&&B===Z&&typeof B=="string"&&B!=="mixed"&&(H=B,q=t.find(n,[H,H]),X=t.find(u,[H,H]));for(var R=[],U=0;U<J;U++){for(var Q=X(F[0],T[0][U]),ne=1;ne<W;ne++)Q=q(Q,X(F[ne],T[ne][U]));R[U]=Q}return m.createDenseMatrix({data:R,size:[J],datatype:B===m._datatype&&Z===p._datatype?H:void 0})}var w=t("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":A}),E=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":_});function f(m,p){var F=m._data,b=m._size,B=m._datatype||m.getDataType(),T=p._data,O=p._datatype||p.getDataType(),Z=b[0],W=b[1],J,H=n,q=u;B&&O&&B===O&&typeof B=="string"&&B!=="mixed"&&(J=B,H=t.find(n,[J,J]),q=t.find(u,[J,J]));for(var X=[],R=0;R<Z;R++){for(var U=F[R],Q=q(U[0],T[0]),ne=1;ne<W;ne++)Q=H(Q,q(U[ne],T[ne]));X[R]=Q}return m.createDenseMatrix({data:X,size:[Z],datatype:B===m._datatype&&O===p._datatype?J:void 0})}function v(m,p){var F=m._data,b=m._size,B=m._datatype||m.getDataType(),T=p._data,O=p._size,Z=p._datatype||p.getDataType(),W=b[0],J=b[1],H=O[1],q,X=n,R=u;B&&Z&&B===Z&&typeof B=="string"&&B!=="mixed"&&B!=="mixed"&&(q=B,X=t.find(n,[q,q]),R=t.find(u,[q,q]));for(var U=[],Q=0;Q<W;Q++){var ne=F[Q];U[Q]=[];for(var re=0;re<H;re++){for(var ie=R(ne[0],T[0][re]),Ae=1;Ae<J;Ae++)ie=X(ie,R(ne[Ae],T[Ae][re]));U[Q][re]=ie}}return m.createDenseMatrix({data:U,size:[W,H],datatype:B===m._datatype&&Z===p._datatype?q:void 0})}function y(m,p){var F=m._data,b=m._size,B=m._datatype||m.getDataType(),T=p._values,O=p._index,Z=p._ptr,W=p._size,J=p._datatype||p._data===void 0?p._datatype:p.getDataType();if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var H=b[0],q=W[1],X,R=n,U=u,Q=i,ne=0;B&&J&&B===J&&typeof B=="string"&&B!=="mixed"&&(X=B,R=t.find(n,[X,X]),U=t.find(u,[X,X]),Q=t.find(i,[X,X]),ne=t.convert(0,X));for(var re=[],ie=[],Ae=[],ye=p.createSparseMatrix({values:re,index:ie,ptr:Ae,size:[H,q],datatype:B===m._datatype&&J===p._datatype?X:void 0}),ge=0;ge<q;ge++){Ae[ge]=ie.length;var De=Z[ge],Pe=Z[ge+1];if(Pe>De)for(var fe=0,ae=0;ae<H;ae++){for(var Ze=ae+1,xe=void 0,ce=De;ce<Pe;ce++){var Se=O[ce];fe!==Ze?(xe=U(F[ae][Se],T[ce]),fe=Ze):xe=R(xe,U(F[ae][Se],T[ce]))}fe===Ze&&!Q(xe,ne)&&(ie.push(ae),re.push(xe))}}return Ae[q]=ie.length,ye}function A(m,p){var F=m._values,b=m._index,B=m._ptr,T=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!F)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O=p._data,Z=p._datatype||p.getDataType(),W=m._size[0],J=p._size[0],H=[],q=[],X=[],R,U=n,Q=u,ne=i,re=0;T&&Z&&T===Z&&typeof T=="string"&&T!=="mixed"&&(R=T,U=t.find(n,[R,R]),Q=t.find(u,[R,R]),ne=t.find(i,[R,R]),re=t.convert(0,R));var ie=[],Ae=[];X[0]=0;for(var ye=0;ye<J;ye++){var ge=O[ye];if(!ne(ge,re))for(var De=B[ye],Pe=B[ye+1],fe=De;fe<Pe;fe++){var ae=b[fe];Ae[ae]?ie[ae]=U(ie[ae],Q(ge,F[fe])):(Ae[ae]=!0,q.push(ae),ie[ae]=Q(ge,F[fe]))}}for(var Ze=q.length,xe=0;xe<Ze;xe++){var ce=q[xe];H[xe]=ie[ce]}return X[1]=q.length,m.createSparseMatrix({values:H,index:q,ptr:X,size:[W,1],datatype:T===m._datatype&&Z===p._datatype?R:void 0})}function g(m,p){var F=m._values,b=m._index,B=m._ptr,T=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!F)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O=p._data,Z=p._datatype||p.getDataType(),W=m._size[0],J=p._size[0],H=p._size[1],q,X=n,R=u,U=i,Q=0;T&&Z&&T===Z&&typeof T=="string"&&T!=="mixed"&&(q=T,X=t.find(n,[q,q]),R=t.find(u,[q,q]),U=t.find(i,[q,q]),Q=t.convert(0,q));for(var ne=[],re=[],ie=[],Ae=m.createSparseMatrix({values:ne,index:re,ptr:ie,size:[W,H],datatype:T===m._datatype&&Z===p._datatype?q:void 0}),ye=[],ge=[],De=0;De<H;De++){ie[De]=re.length;for(var Pe=De+1,fe=0;fe<J;fe++){var ae=O[fe][De];if(!U(ae,Q))for(var Ze=B[fe],xe=B[fe+1],ce=Ze;ce<xe;ce++){var Se=b[ce];ge[Se]!==Pe?(ge[Se]=Pe,re.push(Se),ye[Se]=R(ae,F[ce])):ye[Se]=X(ye[Se],R(ae,F[ce]))}}for(var Ve=ie[De],et=re.length,tt=Ve;tt<et;tt++){var vt=re[tt];ne[tt]=ye[vt]}}return ie[H]=re.length,Ae}function _(m,p){var F=m._values,b=m._index,B=m._ptr,T=m._datatype||m._data===void 0?m._datatype:m.getDataType(),O=p._values,Z=p._index,W=p._ptr,J=p._datatype||p._data===void 0?p._datatype:p.getDataType(),H=m._size[0],q=p._size[1],X=F&&O,R,U=n,Q=u;T&&J&&T===J&&typeof T=="string"&&T!=="mixed"&&(R=T,U=t.find(n,[R,R]),Q=t.find(u,[R,R]));for(var ne=X?[]:void 0,re=[],ie=[],Ae=m.createSparseMatrix({values:ne,index:re,ptr:ie,size:[H,q],datatype:T===m._datatype&&J===p._datatype?R:void 0}),ye=X?[]:void 0,ge=[],De,Pe,fe,ae,Ze,xe,ce,Se,Ve=0;Ve<q;Ve++){ie[Ve]=re.length;var et=Ve+1;for(Ze=W[Ve],xe=W[Ve+1],ae=Ze;ae<xe;ae++)if(Se=Z[ae],X)for(Pe=B[Se],fe=B[Se+1],De=Pe;De<fe;De++)ce=b[De],ge[ce]!==et?(ge[ce]=et,re.push(ce),ye[ce]=Q(O[ae],F[De])):ye[ce]=U(ye[ce],Q(O[ae],F[De]));else for(Pe=B[Se],fe=B[Se+1],De=Pe;De<fe;De++)ce=b[De],ge[ce]!==et&&(ge[ce]=et,re.push(ce));if(X)for(var tt=ie[Ve],vt=re.length,gt=tt;gt<vt;gt++){var sr=re[gt];ne[gt]=ye[sr]}}return ie[q]=re.length,Ae}return t(nn,u,{"Array, Array":t.referTo("Matrix, Matrix",m=>(p,F)=>{l(Le(p),Le(F));var b=m(r(p),r(F));return Me(b)?b.valueOf():b}),"Matrix, Matrix":function(p,F){var b=p.size(),B=F.size();return l(b,B),b.length===1?B.length===1?s(p,F,b[0]):h(p,F):B.length===1?w(p,F):E(p,F)},"Matrix, Array":t.referTo("Matrix,Matrix",m=>(p,F)=>m(p,r(F))),"Array, Matrix":t.referToSelf(m=>(p,F)=>m(r(p,F.storage()),F)),"SparseMatrix, any":function(p,F){return a(p,F,u,!1)},"DenseMatrix, any":function(p,F){return c(p,F,u,!1)},"any, SparseMatrix":function(p,F){return a(F,p,u,!0)},"any, DenseMatrix":function(p,F){return c(F,p,u,!0)},"Array, any":function(p,F){return c(r(p),F,u,!1).valueOf()},"any, Array":function(p,F){return c(r(F),p,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(m=>(p,F,b)=>{for(var B=m(p,F),T=0;T<b.length;T++)B=m(B,b[T]);return B})})}),un="conj",Ha=["typed"],Wa=ue(un,Ha,e=>{var{typed:t}=e;return t(un,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>pt(n,r))})}),on="identity",Ya=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Ga=ue(on,Ya,e=>{var{typed:t,config:r,matrix:n,BigNumber:u,DenseMatrix:i,SparseMatrix:o}=e;return t(on,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(s){return n(s)},"number | BigNumber":function(s){return c(s,s,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(s,h){return c(s,s,h)},"number | BigNumber, number | BigNumber":function(s,h){return c(s,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(s,h,D){return c(s,h,D)},Array:function(s){return a(s)},"Array, string":function(s,h){return a(s,h)},Matrix:function(s){return a(s.valueOf(),s.storage())},"Matrix, string":function(s,h){return a(s.valueOf(),h)}});function a(l,s){switch(l.length){case 0:return s?n(s):[];case 1:return c(l[0],l[0],s);case 2:return c(l[0],l[1],s);default:throw new Error("Vector containing two values expected")}}function c(l,s,h){var D=be(l)||be(s)?u:null;if(be(l)&&(l=l.toNumber()),be(s)&&(s=s.toNumber()),!Ne(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!Ne(s)||s<1)throw new Error("Parameters in function identity must be positive integers");var w=D?new u(1):1,E=D?new D(0):0,f=[l,s];if(h){if(h==="sparse")return o.diagonal(f,w,0,E);if(h==="dense")return i.diagonal(f,w,0,E);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var v=Fr([],f,E),y=l<s?l:s,A=0;A<y;A++)v[A][A]=w;return v}});function Ja(){throw new Error('No "bignumber" implementation available')}function Xa(){throw new Error('No "fraction" implementation available')}function Ka(){throw new Error('No "matrix" implementation available')}var an="size",Qa=["typed","config","?matrix"],es=ue(an,Qa,e=>{var{typed:t,config:r,matrix:n}=e;return t(an,{Matrix:function(i){return i.create(i.size(),"number")},Array:Le,string:function(i){return r.matrix==="Array"?[i.length]:n([i.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(i){return r.matrix==="Array"?[]:n?n([],"dense","number"):Ka()}})}),sn="transpose",ts=["typed","matrix"],rs=ue(sn,ts,e=>{var{typed:t,matrix:r}=e;return t(sn,{Array:o=>n(r(o)).valueOf(),Matrix:n,any:me});function n(o){var a=o.size(),c;switch(a.length){case 1:c=o.clone();break;case 2:{var l=a[0],s=a[1];if(s===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+we(a)+")");switch(o.storage()){case"dense":c=u(o,l,s);break;case"sparse":c=i(o,l,s);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+we(a)+")")}return c}function u(o,a,c){for(var l=o._data,s=[],h,D=0;D<c;D++){h=s[D]=[];for(var w=0;w<a;w++)h[w]=me(l[w][D])}return o.createDenseMatrix({data:s,size:[c,a],datatype:o._datatype})}function i(o,a,c){for(var l=o._values,s=o._index,h=o._ptr,D=l?[]:void 0,w=[],E=[],f=[],v=0;v<a;v++)f[v]=0;var y,A,g;for(y=0,A=s.length;y<A;y++)f[s[y]]++;for(var _=0,m=0;m<a;m++)E.push(_),_+=f[m],f[m]=E[m];for(E.push(_),g=0;g<c;g++)for(var p=h[g],F=h[g+1],b=p;b<F;b++){var B=f[s[b]]++;w[B]=g,l&&(D[B]=me(l[b]))}return o.createSparseMatrix({values:D,index:w,ptr:E,size:[c,a],datatype:o._datatype})}}),ns="numeric",us=["number","?bignumber","?fraction"],is=ue(ns,us,e=>{var{number:t,bignumber:r,fraction:n}=e,u={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:o=>t(o),BigNumber:r?o=>r(o):Ja,bigint:o=>BigInt(o),Fraction:n?o=>n(o):Xa};return function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=ct(a);if(!(s in u))throw new TypeError("Cannot convert "+a+' of type "'+s+'"; valid input types are '+Object.keys(u).join(", "));if(!(c in i))throw new TypeError("Cannot convert "+a+' to type "'+c+'"; valid output types are '+Object.keys(i).join(", "));return c===s?a:i[c](a)}}),fn="divideScalar",os=["typed","numeric"],as=ue(fn,os,e=>{var{typed:t,numeric:r}=e;return t(fn,{"number, number":function(u,i){return u/i},"Complex, Complex":function(u,i){return u.div(i)},"BigNumber, BigNumber":function(u,i){return u.div(i)},"bigint, bigint":function(u,i){return u/i},"Fraction, Fraction":function(u,i){return u.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,u)=>n.divide(u),"number | Fraction | Complex | BigNumber, Unit":(n,u)=>u.divideInto(n)})}),cn="dot",ss=["typed","addScalar","multiplyScalar","conj","size"],fs=ue(cn,ss,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:u,size:i}=e;return t(cn,{"Array | DenseMatrix, Array | DenseMatrix":a,"SparseMatrix, SparseMatrix":c});function o(s,h){var D=l(s),w=l(h),E,f;if(D.length===1)E=D[0];else if(D.length===2&&D[1]===1)E=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(w.length===1)f=w[0];else if(w.length===2&&w[1]===1)f=w[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+w.join(", ")+")");if(E!==f)throw new RangeError("Vectors must have equal length ("+E+" != "+f+")");if(E===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return E}function a(s,h){var D=o(s,h),w=Me(s)?s._data:s,E=Me(s)?s._datatype||s.getDataType():void 0,f=Me(h)?h._data:h,v=Me(h)?h._datatype||h.getDataType():void 0,y=l(s).length===2,A=l(h).length===2,g=r,_=n;if(E&&v&&E===v&&typeof E=="string"&&E!=="mixed"){var m=E;g=t.find(r,[m,m]),_=t.find(n,[m,m])}if(!y&&!A){for(var p=_(u(w[0]),f[0]),F=1;F<D;F++)p=g(p,_(u(w[F]),f[F]));return p}if(!y&&A){for(var b=_(u(w[0]),f[0][0]),B=1;B<D;B++)b=g(b,_(u(w[B]),f[B][0]));return b}if(y&&!A){for(var T=_(u(w[0][0]),f[0]),O=1;O<D;O++)T=g(T,_(u(w[O][0]),f[O]));return T}if(y&&A){for(var Z=_(u(w[0][0]),f[0][0]),W=1;W<D;W++)Z=g(Z,_(u(w[W][0]),f[W][0]));return Z}}function c(s,h){o(s,h);for(var D=s._index,w=s._values,E=h._index,f=h._values,v=0,y=r,A=n,g=0,_=0;g<D.length&&_<E.length;){var m=D[g],p=E[_];if(m<p){g++;continue}if(m>p){_++;continue}m===p&&(v=y(v,A(w[g],f[_])),g++,_++)}return v}function l(s){return Me(s)?s.size():i(s)}}),ln="det",cs=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],ls=ue(ln,cs,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:u,divideScalar:i,isZero:o,unaryMinus:a}=e;return t(ln,{any:function(s){return me(s)},"Array | Matrix":function(s){var h;switch(Me(s)?h=s.size():Array.isArray(s)?(s=r(s),h=s.size()):h=[],h.length){case 0:return me(s);case 1:if(h[0]===1)return me(s.valueOf()[0]);if(h[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+we(h)+")");case 2:{var D=h[0],w=h[1];if(D===w)return c(s.clone().valueOf(),D);if(w===0)return 1;throw new RangeError("Matrix must be square (size: "+we(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+we(h)+")")}}});function c(l,s,h){if(s===1)return me(l[0][0]);if(s===2)return n(u(l[0][0],l[1][1]),u(l[1][0],l[0][1]));for(var D=!1,w=new Array(s).fill(0).map((F,b)=>b),E=0;E<s;E++){var f=w[E];if(o(l[f][E])){var v=void 0;for(v=E+1;v<s;v++)if(!o(l[w[v]][E])){f=w[v],w[v]=w[E],w[E]=f,D=!D;break}if(v===s)return l[f][E]}for(var y=l[f][E],A=E===0?1:l[w[E-1]][E-1],g=E+1;g<s;g++)for(var _=w[g],m=E+1;m<s;m++)l[_][m]=i(n(u(l[_][m],y),u(l[_][E],l[f][m])),A)}var p=l[w[s-1]][s-1];return D?a(p):p}}),hn="inv",hs=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Ds=ue(hn,hs,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:u,multiply:i,unaryMinus:o,det:a,identity:c,abs:l}=e;return t(hn,{"Array | Matrix":function(D){var w=Me(D)?D.size():Le(D);switch(w.length){case 1:if(w[0]===1)return Me(D)?r([n(1,D.valueOf()[0])]):[n(1,D[0])];throw new RangeError("Matrix must be square (size: "+we(w)+")");case 2:{var E=w[0],f=w[1];if(E===f)return Me(D)?r(s(D.valueOf(),E,f),D.storage()):s(D,E,f);throw new RangeError("Matrix must be square (size: "+we(w)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+we(w)+")")}},any:function(D){return n(1,D)}});function s(h,D,w){var E,f,v,y,A;if(D===1){if(y=h[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,y)]]}else if(D===2){var g=a(h);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(h[1][1],g),n(o(h[0][1]),g)],[n(o(h[1][0]),g),n(h[0][0],g)]]}else{var _=h.concat();for(E=0;E<D;E++)_[E]=_[E].concat();for(var m=c(D).valueOf(),p=0;p<w;p++){var F=l(_[p][p]),b=p;for(E=p+1;E<D;)l(_[E][p])>F&&(F=l(_[E][p]),b=E),E++;if(F===0)throw Error("Cannot calculate inverse, determinant is zero");E=b,E!==p&&(A=_[p],_[p]=_[E],_[E]=A,A=m[p],m[p]=m[E],m[E]=A);var B=_[p],T=m[p];for(E=0;E<D;E++){var O=_[E],Z=m[E];if(E!==p){if(O[p]!==0){for(v=n(o(O[p]),B[p]),f=p;f<w;f++)O[f]=u(O[f],i(v,B[f]));for(f=0;f<w;f++)Z[f]=u(Z[f],i(v,T[f]))}}else{for(v=B[p],f=p;f<w;f++)O[f]=n(O[f],v);for(f=0;f<w;f++)Z[f]=n(Z[f],v)}}}return m}}}),Nr=bo({config:Pt}),ps=To({}),Yn=qo({}),Mr=Lo({}),Sr=na({Matrix:Mr}),Ee=Ni({BigNumber:Nr,Complex:ps,DenseMatrix:Sr,Fraction:Yn}),ds=Sa({typed:Ee}),Tr=xa({typed:Ee}),ms=Wa({typed:Ee}),xr=ca({config:Pt,typed:Ee}),vs=oa({equalScalar:xr,typed:Ee}),Gn=Za({typed:Ee}),gs=ga({typed:Ee}),Jn=Da({Matrix:Mr,equalScalar:xr,typed:Ee}),Fs=Oa({typed:Ee}),ws=ya({BigNumber:Nr,typed:Ee}),it=ba({DenseMatrix:Sr,Matrix:Mr,SparseMatrix:Jn,typed:Ee}),ys=rs({matrix:it,typed:Ee}),Es=Ca({Fraction:Yn,typed:Ee}),As=Ga({BigNumber:Nr,DenseMatrix:Sr,SparseMatrix:Jn,config:Pt,matrix:it,typed:Ee}),Cs=is({bignumber:ws,fraction:Es,number:gs}),Bs=es({matrix:it,config:Pt,typed:Ee}),Xn=Na({typed:Ee}),Kn=as({numeric:Cs,typed:Ee}),bs=fs({addScalar:Tr,conj:ms,multiplyScalar:Gn,size:Bs,typed:Ee}),It=ja({addScalar:Tr,dot:bs,equalScalar:xr,matrix:it,multiplyScalar:Gn,typed:Ee}),_s=ls({divideScalar:Kn,isZero:vs,matrix:it,multiply:It,subtractScalar:Fs,typed:Ee,unaryMinus:Xn}),Ns=Ds({abs:ds,addScalar:Tr,det:_s,divideScalar:Kn,identity:As,matrix:it,multiply:It,typed:Ee,unaryMinus:Xn});const Ms=["0nwgp558","2lg135el","wlekw94l","6njy11vn","wl3d19v8"],Ss={"9qj3rrgl":"Set Seed",jq6dmm71:"Random Seed","5lm5yy4q":"Breakfast","81wygg5q":"Burgers","139xem31":"Cakes",q752kvp1:"Coffee","0q53pe71":"Dumplings",zqo40021:"Fish","013g003l":"Hot Dogs",rqv877w1:"Pies","5lejooz1":"Pizza","0q5r66n1":"Salad",q8kenokq:"Spaghetti","4lxnzzr1":"Steak","814zjjjl":"Stir Fry",qyz46g41:"Tacos",jqz3yeg1:"Turkey",z19n33kq:"Solo",p127nnkq:"Duo","81p9jjkq":"Trio",xqkvddyl:"Quad",lx5gv6r1:"Pre 1.1.6b","14o95wjq":"1.1.6b ",q8k48jgq:"1.1.7-1.1.9",q5v5kj2l:"1.2.0+",qvvx3vrq:"Normal","139x39r1":"Autumn","192x6ykq":"Turbo",q5v4kv7l:"Lake",le2nd2ml:"North Pole",qoxjdx5q:"Halloween"},kt=({run:e})=>k(st,{children:[k("a",{href:e.weblink,children:e.primary})," by"," ",e.players.map(t=>t.weblink?k(st,{children:[k("a",{href:t.weblink,children:t.name})," "]}):k(st,{children:[t.name," "]})),"(",e.category[0],")"]});function Ts(e){const t=e.category.slice(1);let r=[[]];for(let i=t[0]==="Set Seed"?1:0;i<t.length-1;i++)r=r.flatMap(o=>[o,[...o,t[i]]]);const n=e.category[4],u=[];switch(n){case"Tacos":case"Cakes":case"Coffee":break;default:u.push("Plated");break}return u.push(n),r=r.flatMap(i=>{let o=u.map(a=>[...i,a]);return[i,...o]}),r[0]=["All Runs"],r}const qs=()=>k(Ir,{viewType:0}),$s=()=>k(Ir,{viewType:1}),Us=()=>k(Ir,{viewType:2}),Ir=({viewType:e=2})=>{var v,y;const t=zr("","OPPORTUNITY_OLDEST_UNVERIFIED_ID"),r=zr([],"OPPORTUNITY_RUNS_CACHE"),n=wt({}),u=wt("Pre 1.1.6b"),i=wt(!1),o=wt(!1);Su(()=>{if(Object.keys(n.peek()).length)return;let A=Object.assign({},n.peek());for(const _ of r.value){const m=Zt(_);_.status==="verified"&&_.primary_t<(A[m]??1/0)&&(A[m]=_.primary_t)}const g=Array.from(new Set(Object.keys(A).map(_=>_.split(",").slice(1))));for(const _ of g){let m=1/0;for(let p=lt.length;p--;){const F=[lt[p],..._].join(",");m=Math.min(A[F]??1/0,m),A[F]&&(A[F]=m)}}n.value=A});const a=xt(()=>{const A=t.value,g=Object.assign({},n.value),_=r.value;return()=>{o.value=!0,Is(A).then(m=>{let p="";for(const B of m){const T=Zt(B);if(B.status==="verified"&&B.primary_t<(g[T]??1/0)){g[T]=B.primary_t;for(const O of xs(B))B.primary_t<(g[O]??1/0)&&(g[O]=B.primary_t)}}const F=[],b={};for(const B of m){const T=Zt(B);B.status==="new"&&(p=B.id),B.primary_t<=(g[T]??1/0)&&(F.push(B),b[B.id]=!0)}for(const B of _){if(b[B.id])continue;const T=Zt(B);B.primary_t<=(g[T]??1/0)&&F.push(B)}r.value=F,n.value=g,t.value=p,o.value=!1})}}),c=xt(()=>{var p;let A=[],g=0;const _=[],m={"Set Seed":{},"Random Seed":{}};for(const F of r.value){if(F.status==="rejected"||F.status!=="verified"&&i.value||!Vt(F.category[0],u.value))continue;const b=F.category.slice(2).join(" "),B=F.category[1];F.primary_t<(((p=m[B][b])==null?void 0:p.primary_t)??1/0)&&(m[B][b]=F)}for(const F of Object.keys(m["Random Seed"])){const b=m["Set Seed"][F],B=m["Random Seed"][F];if(((b==null?void 0:b.primary_t)??1/0)<B.primary_t){g++;continue}let T="../normal-seed-searcher.html";F.includes(" Lake ")?T="https://steamcommunity.com/sharedfiles/filedetails/?id=2932253817":F.includes(" Turbo ")&&(T="../turbo-seed-searcher.html");const O=b?b.primary_t/B.primary_t:B.primary_t;_.push(F),A.push([k("tr",{id:F,children:[k("td",{children:[F," ",k(Tu,{to:T,children:"Searcher"})]}),k("td",{children:b?" "+(O*100).toFixed(2)+"%":""}),k("td",{children:b?k(kt,{run:b}):"No Set Seed Run"}),k("td",{children:k(kt,{run:B})})]}),O])}return[A.sort((F,b)=>-b[1]+F[1]).map(F=>F[0]),_,g]}),l=xt(()=>{var m;const A={};for(const p of r.value){if(p.status==="rejected"||p.status!=="verified"&&i.value||!Vt(p.category[0],u.value))continue;const F=Ts(p);for(const b of F){const B=b.join(" ");(!A[B]||p.primary_t<A[B].primary_t)&&(A[B]=p)}}const g=new Map;for(const[p,F]of Object.entries(A))g.has(F)||g.set(F,[]),(m=g.get(F))==null||m.push(p);const _=Array.from(g.entries()).map(([p,F])=>{let b=F.length;for(;b--&&F[b].includes(p.category.slice(2).join(" "));)F.pop();return[F.join(", "),p]});return _.sort((p,F)=>p[1].primary_t-F[1].primary_t),[_.map(([p,F])=>k("tr",{id:F.category.slice(1).join(" "),children:[k("td",{children:F.category.slice(1).join(" ")}),k("td",{children:k(kt,{run:F})}),k("td",{children:p})]}))]}),s=wt(!0),h=xt(()=>{if(!r.value.length)return;const g=R=>s.value?Math.log(R):R,_=R=>s.value?Math.exp(R):R;let m=[new Set,new Set,new Set,new Set,new Set],p={};for(const R of r.value)if(R.status!=="rejected"&&!(R.status!=="verified"&&i.value)&&Vt(R.category[0],u.value))for(let U=1;U<R.category.length;U++)m[U].add(R.category[U]),p[R.category[U]]||(p[R.category[U]]=0),p[R.category[U]]++;const F=m.flatMap(R=>Array.from(R)),b=[],B=[],T={};for(const R of r.value){if(R.status==="rejected"||R.status!=="verified"&&i.value||!Vt(R.category[0],u.value))continue;const U=R.category.slice(1).join(" ");(!T[U]||R.primary_t<T[U].primary_t)&&(T[U]=R)}let O=0;for(const R of Object.values(T)){O+=R.primary_t;const U=[];for(const Q of F)R.category.includes(Q)?U.push(1):U.push(0);b.push(U),B.push([g(R.primary_t)])}O/=Object.values(T).length;for(const R of m){const U=Array.from(new Set(R));if(!U.length)continue;const Q=[];let ne=0;for(let re=0;re<F.length;re++)if(U.includes(F[re])){const ie=p[F[re]];ne+=ie,Q.push(ie)}else Q.push(0);b.push(Q.map(re=>re/ne)),B.push([g(O)])}const Z=ys(it(b)),W=It(Z,it(b)),H=It(Ns(W),It(Z,it(B))).valueOf().map(R=>R[0]);console.log({matrixAt:Z,matrixA:b,normalizedA:W,r:H});const q=[];let X=0;for(const[R,U]of Object.entries(T)){let Q=0;for(let re=0;re<F.length;re++)U.category.includes(F[re])&&(Q+=H[re]);const ne=_(Q);X+=(U.primary_t-ne)**1,q.push([k("tr",{children:[k("td",{children:R}),k("td",{children:k(kt,{run:U})}),k("td",{children:[(U.primary_t/ne*100).toFixed(2),"%"]})]}),U.primary_t/ne])}return console.log({totalErrorSquares:X}),q.sort((R,U)=>R[1]-U[1]),q.map(R=>R[0])}),D=wt(""),w=xt(()=>()=>{D.value=c.value[1][Math.floor(Math.random()*c.value[1].length)]});let E,f;switch(e){case 0:f=k(st,{children:"Set seed opportunities (i.e. leaderboards where there is no set seed run, or the random seed record is faster than the set seed record)"}),E=k(st,{children:[k("div",{children:[k("button",{onClick:w.value,children:"Pick Random Category"})," ",D.value&&k("a",{href:"",onClick:A=>{var g;A.preventDefault(),(g=document.getElementById(D.value))==null||g.scrollIntoView()},children:[k("br",{}),D]})]}),k("div",{children:[(y=(v=c==null?void 0:c.value)==null?void 0:v[1])==null?void 0:y.length," potential categories"," ",k("br",{}),c.value[2]," categories where set seed is already faster not shown"]}),k("table",{children:[k("thead",{children:k("tr",{children:[k("th",{children:"Category"}),k("th",{children:"Ratio"}),k("th",{children:"Fastest Seeded Run"}),k("th",{children:"Fastest Unseeded Run"})]})}),k("tbody",{children:c.value[0]})]})]});break;case 1:f=k(st,{children:"View records of merged leaderboards (i.e. fastest Stir Fry run across all player counts and restaurant settings, or fastest PlateUp! run regardless of leaderboard category)"}),E=k("table",{children:[k("thead",{children:k("tr",{children:[k("th",{children:"Category"}),k("th",{children:"Record Run"}),k("th",{children:"Also the record run in these merged categories:"})]})}),k("tbody",{children:l.value[0]})]});break;case 2:f=k(st,{children:['View leaderboard records sorted by how "surprising" they are. ',k("br",{})," ",'Predicts the record in a leaderboard by its individual components (i.e. Turbo runs tend to be X times longer than Normal Runs; Duo runs tend to be X times shorter than Quad Runs), then sorts by the ratio between the actual record time and the predicted time. Due to the way the record times are predicted, records which use a strategy which is only available at the intersection of multiple categories will tend to be more "surprising". (for example: Coffee Turbo ice cream display/specials terminals strat, or Autumn Turkey/Dumplings flower shops)',k("br",{}),"Records which have a high ratio versus the expected time may deal with the converse, where the combination of categories makes it a particularly difficult run."," ","Or... maybe there's just room for improvement?"]}),E=k(st,{children:[k("div",{children:[k("label",{for:"logTransform",children:"Log Transform?"}),k("input",{type:"checkbox",id:"logTransform",checked:s,onChange:A=>s.value=A.target.checked})]}),k("table",{children:[k("thead",{children:k("tr",{children:[k("th",{children:"Category"}),k("th",{children:"Record Run"}),k("th",{children:"Actual/Predicted Ratio"})]})}),k("tbody",{children:h.value})]})]})}return k("div",{children:[k("style",{children:`[id="${D.value}"] {border: rgb(var(--color)) 3px solid;}`}),k("div",{children:f}),k("pre",{children:"// TODO: autofill starting cards in searcher link: dish + Autumn-Community & North Pole-Christmas Rush"}),k("button",{onClick:a.value,disabled:o,children:o.value?"Fetching Data...":r.value.length?"Update Run Data":"Fetch All Runs"}),k("br",{}),k("label",{for:"version",children:"Include runs dating back to:"}),k("select",{id:"version",value:u,onChange:A=>{u.value=A.target.value},children:lt.map(A=>k("option",{value:A,children:A}))}),k("br",{}),k("label",{for:"verifiedOnly",children:"Verified Runs Only"}),k("input",{type:"checkbox",id:"verifiedOnly",checked:i,onChange:A=>{i.value=A.target.checked}}),E]})};function Zt(e){return e.category.join(",")}function xs(e){let t=[];for(let r=lt.indexOf(e.category[0])+1;r<lt.length;r++)t.push([lt[r],...e.category.slice(1)].join(","));return t}const lt=["Pre 1.1.6b","1.1.6b","1.1.7-1.1.9","1.2.0+"];function Vt(e,t){return lt.indexOf(e)>=lt.indexOf(t)}async function Is(e){let t=[],r=0;e:for(;;){const u=await(await fetch(`https://www.speedrun.com/api/v1/runs?orderby=submitted&direction=desc&game=yd4kq3k6&category=z275n0gk&max=200&embed=players&offset=${r}`)).json(),i=u.data;for(let o=0;o<i.length;o++)if(t.push(i[o]),i[o].id===e)break e;if(!u.pagination.links.some(o=>o.rel==="next"))break;await new Promise(o=>{setTimeout(()=>{o(!0)},60*1e3/100)}),r+=200}return t.map(n=>Os(n))}function Os(e){const t={id:e.id,category:Ms.map(r=>Ss[e.values[r]]),weblink:e.weblink,primary:zs(e),primary_t:e.times.primary_t,players:e.players.data.map(r=>r.rel==="guest"?{name:r.name}:{name:r.names.international,weblink:r.weblink}),status:e.status.status};return t.category[3]===void 0&&(t.category[3]="Normal"),t.category.some(r=>r===void 0)&&alert("go tell ambersz to actually pull the variable data from the API instead of hardcoding it..."),t}function zs(e){const t=e.times.primary.split(/[a-z.]+/i).filter(n=>n).map((n,u)=>u?n.padStart(2,"0"):n);let r=t[0];for(let n=1;n<t.length;n++)t[n].length===3?r+=".":r+=":",r+=t[n];return r}export{$s as MergedRecords,qs as Opportunities,Us as RecordsAnalysis};
