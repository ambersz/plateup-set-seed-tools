import{F as d,e as f,f as w,I as i,i as h}from"./main-Cyodgag4.js";import{F as S}from"./cards-CJ26ElKo.js";function m(e=Date.now()){return Math.floor((e-Date.UTC(new Date(e).getUTCFullYear()))/864e5)}function D(e=Date.now()){let t=m(e)-1,n=(new Date(e).getUTCDay()-t%7-1+14)%7;return[new Date(e).getUTCFullYear(),Math.floor((t+n)/7)+1]}function p(e=Date.now()){const t=x(e),n=new d(t,8853129);let s=n.useSubcontext(0).random.range(0,5);const r=f[s],a=n.useSubcontext(1).random.select(w);return{seed:t,setting:r,dish:a,mapSize:C(t)}}function Y(){const{seed:e,setting:t,dish:n,mapSize:s}=p();let r=[[t,n]];const a=new S(e);let o=[3,5,6,9,12];for(;o.length;){const l=o.shift();let c=[];for(;r.length;){const u=r.shift();a.cards=u,a.getUnlockOptions(l).forEach(g=>c.push([...u,g]))}r=c}return r}function x(e=Date.now()){const[t,n]=D(e);return y(200*t+n)}function y(e){const t=new h(e);let n="";for(let s=0;s<8;s++)n+=i[t.range(0,i.length)];return n}function C(e){switch(new d(e,5078598).useSubcontext(0).random.range(0,8)){case 0:return[2,84];case 4:return[2,70];case 1:case 5:return[1,60];case 2:case 6:return[3,9*13];case 3:case 7:return[4,16*12];default:throw new Error("Layout index out of bounds")}}export{Y as a,p as g};
