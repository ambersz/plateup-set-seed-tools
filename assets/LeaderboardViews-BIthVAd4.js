import{a as cr}from"./usePersistentState-HjpLCYar.js";import{t as dn,b as P,u as pt,m as Tu,a as Ot,g as nt,L as xu}from"./main-Cyodgag4.js";var pn={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Iu(e,t){if(Wt(e,t))return e[t];throw typeof e[t]=="function"&&Ru(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Ou(e,t,r){if(Wt(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function Wt(e,t){return!zu(e)&&!Array.isArray(e)?!1:Gt(Pu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function Ru(e,t){return e==null||typeof e[t]!="function"||Gt(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Gt(qu,t)?!0:!(t in Object.prototype||t in Function.prototype)}function zu(e){return typeof e=="object"&&e&&e.constructor===Object}var Pu={length:!0,name:!0},qu={toString:!0,valueOf:!0,toLocaleString:!0};class $u{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return Iu(this.wrappedObject,t)}set(t,r){return Ou(this.wrappedObject,t,r),this}has(t){return Wt(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return Uu(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){Wt(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Uu(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function ge(e){return typeof e=="number"}function Me(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Lu(e){return typeof e=="bigint"}function vn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function mn(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function gn(e){return e&&e.constructor.prototype.isUnit===!0||!1}function ut(e){return typeof e=="string"}var Ne=Array.isArray;function xe(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Yt(e){return Array.isArray(e)||xe(e)}function ku(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Zu(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Vu(e){return e&&e.constructor.prototype.isRange===!0||!1}function Ar(e){return e&&e.constructor.prototype.isIndex===!0||!1}function ju(e){return typeof e=="boolean"}function Hu(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Wu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Yu(e){return typeof e=="function"}function Gu(e){return e instanceof Date}function Ju(e){return e instanceof RegExp}function Br(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!vn(e)&&!mn(e))}function Xu(e){return e?e instanceof Map||e instanceof $u||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}function Ku(e){return e===null}function Qu(e){return e===void 0}function ei(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function ti(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function ri(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function ni(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function ui(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function ii(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function oi(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function ai(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function si(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function fi(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function ci(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function li(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function hi(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function Di(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function di(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function pi(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function vi(e){return e&&e.constructor.prototype.isChain===!0||!1}function lt(e){var t=typeof e;return t==="object"?e===null?"null":Me(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function ye(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return ye(r)});if(e instanceof Date)return new Date(e.valueOf());if(Me(e))return e;if(Br(e))return mi(e,ye);if(t==="function")return e;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function mi(e,t){var r={};for(var n in e)Gt(e,n)&&(r[n]=t(e[n]));return r}function Nt(e,t){var r,n,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,u=e.length;n<u;n++)if(!Nt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Nt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Gt(e,t){return e&&Object.hasOwnProperty.call(e,t)}function gi(e,t){for(var r={},n=0;n<t.length;n++){var u=t[n],i=e[u];i!==void 0&&(r[u]=i)}return r}var Fi=["Matrix","Array"],wi=["number","BigNumber","Fraction"],qt=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(pn)};dn(qt,pn,{MATRIX_OPTIONS:Fi,NUMBER_OPTIONS:wi});function Pr(){return!0}function je(){return!1}function Et(){}const qr="Argument is not a typed-function.";function Fn(){function e(d){return typeof d=="object"&&d!==null&&d.constructor===Object}const t=[{name:"number",test:function(d){return typeof d=="number"}},{name:"string",test:function(d){return typeof d=="string"}},{name:"boolean",test:function(d){return typeof d=="boolean"}},{name:"Function",test:function(d){return typeof d=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(d){return d instanceof Date}},{name:"RegExp",test:function(d){return d instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(d){return d===null}},{name:"undefined",test:function(d){return d===void 0}}],r={name:"any",test:Pr,isAny:!0};let n,u,i=0,o={createCount:0};function a(d){const C=n.get(d);if(C)return C;let _='Unknown type "'+d+'"';const x=d.toLowerCase();let z;for(z of u)if(z.toLowerCase()===x){_+='. Did you mean "'+z+'" ?';break}throw new TypeError(_)}function c(d){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const _=C?a(C).index:u.length,x=[];for(let O=0;O<d.length;++O){if(!d[O]||typeof d[O].name!="string"||typeof d[O].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const j=d[O].name;if(n.has(j))throw new TypeError('Duplicate type name "'+j+'"');x.push(j),n.set(j,{name:j,test:d[O].test,isAny:d[O].isAny,index:_+O,conversionsTo:[]})}const z=u.slice(_);u=u.slice(0,_).concat(x).concat(z);for(let O=_+x.length;O<u.length;++O)n.get(u[O]).index=O}function l(){n=new Map,u=[],i=0,c([r],!1)}l(),c(t);function s(){let d;for(d of u)n.get(d).conversionsTo=[];i=0}function h(d){const C=u.filter(_=>{const x=n.get(_);return!x.isAny&&x.test(d)});return C.length?C:["any"]}function D(d){return d&&typeof d=="function"&&"_typedFunctionData"in d}function F(d,C,_){if(!D(d))throw new TypeError(qr);const x=_&&_.exact,z=Array.isArray(C)?C.join(","):C,O=N(z),j=v(O);if(!x||j in d.signatures){const he=d._typedFunctionData.signatureMap.get(j);if(he)return he}const U=O.length;let H;if(x){H=[];let he;for(he in d.signatures)H.push(d._typedFunctionData.signatureMap.get(he))}else H=d._typedFunctionData.signatures;for(let he=0;he<U;++he){const pe=O[he],_e=[];let $e;for($e of H){const qe=E($e.params,he);if(!(!qe||pe.restParam&&!qe.restParam)){if(!qe.hasAny){const Ye=g(qe);if(pe.types.some(Ge=>!Ye.has(Ge.name)))continue}_e.push($e)}}if(H=_e,H.length===0)break}let $;for($ of H)if($.params.length<=U)return $;throw new TypeError("Signature not found (signature: "+(d.name||"unnamed")+"("+v(O,", ")+"))")}function y(d,C,_){return F(d,C,_).implementation}function f(d,C){const _=a(C);if(_.test(d))return d;const x=_.conversionsTo;if(x.length===0)throw new Error("There are no conversions to "+C+" defined.");for(let z=0;z<x.length;z++)if(a(x[z].from).test(d))return x[z].convert(d);throw new Error("Cannot convert "+d+" to "+C)}function v(d){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return d.map(_=>_.name).join(C)}function w(d){const C=d.indexOf("...")===0,x=(C?d.length>3?d.slice(3):"any":d).split("|").map(U=>a(U.trim()));let z=!1,O=C?"...":"";return{types:x.map(function(U){return z=U.isAny||z,O+=U.name+"|",{name:U.name,typeIndex:U.index,test:U.test,isAny:U.isAny,conversion:null,conversionIndex:-1}}),name:O.slice(0,-1),hasAny:z,hasConversion:!1,restParam:C}}function b(d){const C=d.types.map(j=>j.name),_=X(C);let x=d.hasAny,z=d.name;const O=_.map(function(j){const U=a(j.from);return x=U.isAny||x,z+="|"+j.from,{name:j.from,typeIndex:U.index,test:U.test,isAny:U.isAny,conversion:j,conversionIndex:j.index}});return{types:d.types.concat(O),name:z,hasAny:x,hasConversion:O.length>0,restParam:d.restParam}}function g(d){return d.typeSet||(d.typeSet=new Set,d.types.forEach(C=>d.typeSet.add(C.name))),d.typeSet}function N(d){const C=[];if(typeof d!="string")throw new TypeError("Signatures must be strings");const _=d.trim();if(_==="")return C;const x=_.split(",");for(let z=0;z<x.length;++z){const O=w(x[z].trim());if(O.restParam&&z!==x.length-1)throw new SyntaxError('Unexpected rest parameter "'+x[z]+'": only allowed for the last parameter');if(O.types.length===0)return null;C.push(O)}return C}function m(d){const C=Y(d);return C?C.restParam:!1}function p(d){if(!d||d.types.length===0)return Pr;if(d.types.length===1)return a(d.types[0].name).test;if(d.types.length===2){const C=a(d.types[0].name).test,_=a(d.types[1].name).test;return function(z){return C(z)||_(z)}}else{const C=d.types.map(function(_){return a(_.name).test});return function(x){for(let z=0;z<C.length;z++)if(C[z](x))return!0;return!1}}}function A(d){let C,_,x;if(m(d)){C=G(d).map(p);const z=C.length,O=p(Y(d)),j=function(U){for(let H=z;H<U.length;H++)if(!O(U[H]))return!1;return!0};return function(H){for(let $=0;$<C.length;$++)if(!C[$](H[$]))return!1;return j(H)&&H.length>=z+1}}else return d.length===0?function(O){return O.length===0}:d.length===1?(_=p(d[0]),function(O){return _(O[0])&&O.length===1}):d.length===2?(_=p(d[0]),x=p(d[1]),function(O){return _(O[0])&&x(O[1])&&O.length===2}):(C=d.map(p),function(O){for(let j=0;j<C.length;j++)if(!C[j](O[j]))return!1;return O.length===C.length})}function E(d,C){return C<d.length?d[C]:m(d)?Y(d):null}function B(d,C){const _=E(d,C);return _?g(_):new Set}function I(d){return d.conversion===null||d.conversion===void 0}function M(d,C){const _=new Set;return d.forEach(x=>{const z=B(x.params,C);let O;for(O of z)_.add(O)}),_.has("any")?["any"]:Array.from(_)}function T(d,C,_){let x,z;const O=d||"unnamed";let j=_,U;for(U=0;U<C.length;U++){const pe=[];if(j.forEach(_e=>{const $e=E(_e.params,U),qe=p($e);(U<_e.params.length||m(_e.params))&&qe(C[U])&&pe.push(_e)}),pe.length===0){if(z=M(j,U),z.length>0){const _e=h(C[U]);return x=new TypeError("Unexpected type of argument in function "+O+" (expected: "+z.join(" or ")+", actual: "+_e.join(" | ")+", index: "+U+")"),x.data={category:"wrongType",fn:O,index:U,actual:_e,expected:z},x}}else j=pe}const H=j.map(function(pe){return m(pe.params)?1/0:pe.params.length});if(C.length<Math.min.apply(null,H))return z=M(j,U),x=new TypeError("Too few arguments in function "+O+" (expected: "+z.join(" or ")+", index: "+C.length+")"),x.data={category:"tooFewArgs",fn:O,index:C.length,expected:z},x;const $=Math.max.apply(null,H);if(C.length>$)return x=new TypeError("Too many arguments in function "+O+" (expected: "+$+", actual: "+C.length+")"),x.data={category:"tooManyArgs",fn:O,index:C.length,expectedLength:$},x;const he=[];for(let pe=0;pe<C.length;++pe)he.push(h(C[pe]).join("|"));return x=new TypeError('Arguments of type "'+he.join(", ")+'" do not match any of the defined signatures of function '+O+"."),x.data={category:"mismatch",actual:he},x}function L(d){let C=u.length+1;for(let _=0;_<d.types.length;_++)I(d.types[_])&&(C=Math.min(C,d.types[_].typeIndex));return C}function k(d){let C=i+1;for(let _=0;_<d.types.length;_++)I(d.types[_])||(C=Math.min(C,d.types[_].conversionIndex));return C}function V(d,C){if(d.hasAny){if(!C.hasAny)return 1}else if(C.hasAny)return-1;if(d.restParam){if(!C.restParam)return 1}else if(C.restParam)return-1;if(d.hasConversion){if(!C.hasConversion)return 1}else if(C.hasConversion)return-1;const _=L(d)-L(C);if(_<0)return-1;if(_>0)return 1;const x=k(d)-k(C);return x<0?-1:x>0?1:0}function q(d,C){const _=d.params,x=C.params,z=Y(_),O=Y(x),j=m(_),U=m(x);if(j&&z.hasAny){if(!U||!O.hasAny)return 1}else if(U&&O.hasAny)return-1;let H=0,$=0,he;for(he of _)he.hasAny&&++H,he.hasConversion&&++$;let pe=0,_e=0;for(he of x)he.hasAny&&++pe,he.hasConversion&&++_e;if(H!==pe)return H-pe;if(j&&z.hasConversion){if(!U||!O.hasConversion)return 1}else if(U&&O.hasConversion)return-1;if($!==_e)return $-_e;if(j){if(!U)return 1}else if(U)return-1;const $e=(_.length-x.length)*(j?-1:1);if($e!==0)return $e;const qe=[];let Ye=0;for(let yt=0;yt<_.length;++yt){const $t=V(_[yt],x[yt]);qe.push($t),Ye+=$t}if(Ye!==0)return Ye;let Ge;for(Ge of qe)if(Ge!==0)return Ge;return 0}function X(d){if(d.length===0)return[];const C=d.map(a);d.length>1&&C.sort((z,O)=>z.index-O.index);let _=C[0].conversionsTo;if(d.length===1)return _;_=_.concat([]);const x=new Set(d);for(let z=1;z<C.length;++z){let O;for(O of C[z].conversionsTo)x.has(O.from)||(_.push(O),x.add(O.from))}return _}function J(d,C){let _=C;if(d.some(z=>z.hasConversion)){const z=m(d),O=d.map(ee);_=function(){const U=[],H=z?arguments.length-1:arguments.length;for(let $=0;$<H;$++)U[$]=O[$](arguments[$]);return z&&(U[H]=arguments[H].map(O[H])),C.apply(this,U)}}let x=_;if(m(d)){const z=d.length-1;x=function(){return _.apply(this,ne(arguments,0,z).concat([ne(arguments,z)]))}}return x}function ee(d){let C,_,x,z;const O=[],j=[];switch(d.types.forEach(function(U){U.conversion&&(O.push(a(U.conversion.from).test),j.push(U.conversion.convert))}),j.length){case 0:return function(H){return H};case 1:return C=O[0],x=j[0],function(H){return C(H)?x(H):H};case 2:return C=O[0],_=O[1],x=j[0],z=j[1],function(H){return C(H)?x(H):_(H)?z(H):H};default:return function(H){for(let $=0;$<j.length;$++)if(O[$](H))return j[$](H);return H}}}function te(d){function C(_,x,z){if(x<_.length){const O=_[x];let j=[];if(O.restParam){const U=O.types.filter(I);U.length<O.types.length&&j.push({types:U,name:"..."+U.map(H=>H.name).join("|"),hasAny:U.some(H=>H.isAny),hasConversion:!1,restParam:!0}),j.push(O)}else j=O.types.map(function(U){return{types:[U],name:U.name,hasAny:U.isAny,hasConversion:U.conversion,restParam:!1}});return Fe(j,function(U){return C(_,x+1,z.concat([U]))})}else return[z]}return C(d,0,[])}function ae(d,C){const _=Math.max(d.length,C.length);for(let U=0;U<_;U++){const H=B(d,U),$=B(C,U);let he=!1,pe;for(pe of $)if(H.has(pe)){he=!0;break}if(!he)return!1}const x=d.length,z=C.length,O=m(d),j=m(C);return O?j?x===z:z>=x:j?x>=z:x===z}function W(d){return d.map(C=>tt(C)?Ve(C.referToSelf.callback):et(C)?Ie(C.referTo.references,C.referTo.callback):C)}function oe(d,C,_){const x=[];let z;for(z of d){let O=_[z];if(typeof O!="number")throw new TypeError('No definition for referenced signature "'+z+'"');if(O=C[O],typeof O!="function")return!1;x.push(O)}return x}function se(d,C,_){const x=W(d),z=new Array(x.length).fill(!1);let O=!0;for(;O;){O=!1;let j=!0;for(let U=0;U<x.length;++U){if(z[U])continue;const H=x[U];if(tt(H))x[U]=H.referToSelf.callback(_),x[U].referToSelf=H.referToSelf,z[U]=!0,j=!1;else if(et(H)){const $=oe(H.referTo.references,x,C);$?(x[U]=H.referTo.callback.apply(this,$),x[U].referTo=H.referTo,z[U]=!0,j=!1):O=!0}}if(j&&O)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return x}function ve(d){const C=/\bthis(\(|\.signatures\b)/;Object.keys(d).forEach(_=>{const x=d[_];if(C.test(x.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function me(d,C){if(o.createCount++,Object.keys(C).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&ve(C);const _=[],x=[],z={},O=[];let j;for(j in C){if(!Object.prototype.hasOwnProperty.call(C,j))continue;const ce=N(j);if(!ce)continue;_.forEach(function(It){if(ae(It,ce))throw new TypeError('Conflicting signatures "'+v(It)+'" and "'+v(ce)+'".')}),_.push(ce);const Ue=x.length;x.push(C[j]);const Mu=ce.map(b);let Ut;for(Ut of te(Mu)){const It=v(Ut);O.push({params:Ut,name:It,fn:Ue}),Ut.every(Su=>!Su.hasConversion)&&(z[It]=Ue)}}O.sort(q);const U=se(x,z,xt);let H;for(H in z)Object.prototype.hasOwnProperty.call(z,H)&&(z[H]=U[z[H]]);const $=[],he=new Map;for(H of O)he.has(H.name)||(H.fn=U[H.fn],$.push(H),he.set(H.name,H));const pe=$[0]&&$[0].params.length<=2&&!m($[0].params),_e=$[1]&&$[1].params.length<=2&&!m($[1].params),$e=$[2]&&$[2].params.length<=2&&!m($[2].params),qe=$[3]&&$[3].params.length<=2&&!m($[3].params),Ye=$[4]&&$[4].params.length<=2&&!m($[4].params),Ge=$[5]&&$[5].params.length<=2&&!m($[5].params),yt=pe&&_e&&$e&&qe&&Ye&&Ge;for(let ce=0;ce<$.length;++ce)$[ce].test=A($[ce].params);const $t=pe?p($[0].params[0]):je,tu=_e?p($[1].params[0]):je,ru=$e?p($[2].params[0]):je,nu=qe?p($[3].params[0]):je,uu=Ye?p($[4].params[0]):je,iu=Ge?p($[5].params[0]):je,ou=pe?p($[0].params[1]):je,au=_e?p($[1].params[1]):je,su=$e?p($[2].params[1]):je,fu=qe?p($[3].params[1]):je,cu=Ye?p($[4].params[1]):je,lu=Ge?p($[5].params[1]):je;for(let ce=0;ce<$.length;++ce)$[ce].implementation=J($[ce].params,$[ce].fn);const hu=pe?$[0].implementation:Et,Du=_e?$[1].implementation:Et,du=$e?$[2].implementation:Et,pu=qe?$[3].implementation:Et,vu=Ye?$[4].implementation:Et,mu=Ge?$[5].implementation:Et,gu=pe?$[0].params.length:-1,Fu=_e?$[1].params.length:-1,wu=$e?$[2].params.length:-1,yu=qe?$[3].params.length:-1,Eu=Ye?$[4].params.length:-1,Cu=Ge?$[5].params.length:-1,Au=yt?6:0,Bu=$.length,bu=$.map(ce=>ce.test),_u=$.map(ce=>ce.implementation),Nu=function(){for(let Ue=Au;Ue<Bu;Ue++)if(bu[Ue](arguments))return _u[Ue].apply(this,arguments);return o.onMismatch(d,arguments,$)};function xt(ce,Ue){return arguments.length===gu&&$t(ce)&&ou(Ue)?hu.apply(this,arguments):arguments.length===Fu&&tu(ce)&&au(Ue)?Du.apply(this,arguments):arguments.length===wu&&ru(ce)&&su(Ue)?du.apply(this,arguments):arguments.length===yu&&nu(ce)&&fu(Ue)?pu.apply(this,arguments):arguments.length===Eu&&uu(ce)&&cu(Ue)?vu.apply(this,arguments):arguments.length===Cu&&iu(ce)&&lu(Ue)?mu.apply(this,arguments):Nu.apply(this,arguments)}try{Object.defineProperty(xt,"name",{value:d})}catch{}return xt.signatures=z,xt._typedFunctionData={signatures:$,signatureMap:he},xt}function le(d,C,_){throw T(d,C,_)}function G(d){return ne(d,0,d.length-1)}function Y(d){return d[d.length-1]}function ne(d,C,_){return Array.prototype.slice.call(d,C,_)}function Ce(d,C){for(let _=0;_<d.length;_++)if(C(d[_]))return d[_]}function Fe(d,C){return Array.prototype.concat.apply([],d.map(C))}function De(){const d=G(arguments).map(_=>v(N(_))),C=Y(arguments);if(typeof C!="function")throw new TypeError("Callback function expected as last argument");return Ie(d,C)}function Ie(d,C){return{referTo:{references:d,callback:C}}}function Ve(d){if(typeof d!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:d}}}function et(d){return d&&typeof d.referTo=="object"&&Array.isArray(d.referTo.references)&&typeof d.referTo.callback=="function"}function tt(d){return d&&typeof d.referToSelf=="object"&&typeof d.referToSelf.callback=="function"}function Ft(d,C){if(!d)return C;if(C&&C!==d){const _=new Error("Function names do not match (expected: "+d+", actual: "+C+")");throw _.data={actual:C,expected:d},_}return d}function wt(d){let C;for(const _ in d)Object.prototype.hasOwnProperty.call(d,_)&&(D(d[_])||typeof d[_].signature=="string")&&(C=Ft(C,d[_].name));return C}function fr(d,C){let _;for(_ in C)if(Object.prototype.hasOwnProperty.call(C,_)){if(_ in d&&C[_]!==d[_]){const x=new Error('Signature "'+_+'" is defined twice');throw x.data={signature:_,sourceFunction:C[_],destFunction:d[_]},x}d[_]=C[_]}}const eu=o;o=function(d){const C=typeof d=="string",_=C?1:0;let x=C?d:"";const z={};for(let O=_;O<arguments.length;++O){const j=arguments[O];let U={},H;if(typeof j=="function"?(H=j.name,typeof j.signature=="string"?U[j.signature]=j:D(j)&&(U=j.signatures)):e(j)&&(U=j,C||(H=wt(j))),Object.keys(U).length===0){const $=new TypeError("Argument to 'typed' at index "+O+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw $.data={index:O,argument:j},$}C||(x=Ft(x,H)),fr(z,U)}return me(x||"",z)},o.create=Fn,o.createCount=eu.createCount,o.onMismatch=le,o.throwMismatchError=le,o.createError=T,o.clear=l,o.clearConversions=s,o.addTypes=c,o._findType=a,o.referTo=De,o.referToSelf=Ve,o.convert=f,o.findSignature=F,o.find=y,o.isTypedFunction=D,o.warnAgainstDeprecatedThis=!0,o.addType=function(d,C){let _="any";C!==!1&&n.has("Object")&&(_="Object"),o.addTypes([d],_)};function zr(d){if(!d||typeof d.from!="string"||typeof d.to!="string"||typeof d.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(d.to===d.from)throw new SyntaxError('Illegal to define conversion from "'+d.from+'" to itself.')}return o.addConversion=function(d){let C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};zr(d);const _=a(d.to),x=_.conversionsTo.find(z=>z.from===d.from);if(x)if(C&&C.override)o.removeConversion({from:x.from,to:d.to,convert:x.convert});else throw new Error('There is already a conversion from "'+d.from+'" to "'+_.name+'"');_.conversionsTo.push({from:d.from,convert:d.convert,index:i++})},o.addConversions=function(d,C){d.forEach(_=>o.addConversion(_,C))},o.removeConversion=function(d){zr(d);const C=a(d.to),_=Ce(C.conversionsTo,z=>z.from===d.from);if(!_)throw new Error("Attempt to remove nonexistent conversion from "+d.from+" to "+d.to);if(_.convert!==d.convert)throw new Error("Conversion to remove does not match existing conversion");const x=C.conversionsTo.indexOf(_);C.conversionsTo.splice(x,1)},o.resolve=function(d,C){if(!D(d))throw new TypeError(qr);const _=d._typedFunctionData.signatures;for(let x=0;x<_.length;++x)if(_[x].test(C))return _[x];return null},o}const Jt=Fn();function fe(e,t,r,n){function u(i){var o=gi(i,t.map(Ci));return yi(e,t,i),r(o)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),n&&(u.meta=n),u}function yi(e,t,r){var n=t.filter(i=>!Ei(i)).every(i=>r[i]!==void 0);if(!n){var u=t.filter(i=>r[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function Ei(e){return e&&e[0]==="?"}function Ci(e){return e&&e[0]==="?"?e.slice(1):e}function Te(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function lr(e,t,r){var n={2:"0b",8:"0o",16:"0x"},u=n[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Te(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Te(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),i="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(u).concat(e.toString(t)).concat(i)}function vr(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:u}=wn(t);switch(r){case"fixed":return Bi(e,n);case"exponential":return yn(e,n);case"engineering":return Ai(e,n);case"bin":return lr(e,2,u);case"oct":return lr(e,8,u);case"hex":return lr(e,16,u);case"auto":return bi(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],o=arguments[4];return i!=="."?i+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function wn(e){var t="auto",r,n;if(e!==void 0)if(ge(e))r=e;else if(Me(e))r=e.toNumber();else if(Br(e))e.precision!==void 0&&(r=$r(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=$r(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function nr(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],u=parseFloat(t[4]||"0"),i=n.indexOf(".");u+=i!==-1?i-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(a){return u-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return o.length===0&&(o.push(0),u++),{sign:r,coefficients:o,exponent:u}}function Ai(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nr(e),n=ur(r,t),u=n.exponent,i=n.coefficients,o=u%3===0?u:u<0?u-3-u%3:u-u%3;if(ge(t))for(;t>i.length||u-o+1>i.length;)i.push(0);else for(var a=Math.abs(u-o)-(i.length-1),c=0;c<a;c++)i.push(0);for(var l=Math.abs(u-o),s=1;l>0;)s++,l--;var h=i.slice(s).join(""),D=ge(t)&&h.length||h.match(/[1-9]/)?"."+h:"",F=i.slice(0,s).join("")+D+"e"+(u>=0?"+":"")+o.toString();return n.sign+F}function Bi(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nr(e),n=typeof t=="number"?ur(r,r.exponent+1+t):r,u=n.coefficients,i=n.exponent+1,o=i+(t||0);return u.length<o&&(u=u.concat(bt(o-u.length))),i<0&&(u=bt(-i+1).concat(u),i=1),i<u.length&&u.splice(i,0,i===0?"0.":"."),n.sign+u.join("")}function yn(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=nr(e),n=t?ur(r,t):r,u=n.coefficients,i=n.exponent;u.length<t&&(u=u.concat(bt(t-u.length)));var o=u.shift();return n.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(i>=0?"+":"")+i}function bi(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=Ur(r==null?void 0:r.lowerExp,-3),u=Ur(r==null?void 0:r.upperExp,5),i=nr(e),o=t?ur(i,t):i;if(o.exponent<n||o.exponent>=u)return yn(e,t);var a=o.coefficients,c=o.exponent;a.length<t&&(a=a.concat(bt(t-a.length))),a=a.concat(bt(c-a.length+1+(a.length<t?t-a.length:0))),a=bt(-c).concat(a);var l=c>0?c:0;return l<a.length-1&&a.splice(l+1,0,"."),o.sign+a.join("")}function ur(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var u=n.splice(t,n.length-t);if(u[0]>=5){var i=t-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}}return r}function bt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function _i(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function Xt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function $r(e,t){if(ge(e))return e;if(Me(e))return e.toNumber();t()}function Ur(e,t){return ge(e)?e:Me(e)?e.toNumber():t}var En=function(){return En=Jt.create,Jt},Ni=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Mi=fe("typed",Ni,function(t){var{BigNumber:r,Complex:n,DenseMatrix:u,Fraction:i}=t,o=En();return o.clear(),o.addTypes([{name:"number",test:ge},{name:"Complex",test:vn},{name:"BigNumber",test:Me},{name:"bigint",test:Lu},{name:"Fraction",test:mn},{name:"Unit",test:gn},{name:"identifier",test:a=>/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:ut},{name:"Chain",test:vi},{name:"Array",test:Ne},{name:"Matrix",test:xe},{name:"DenseMatrix",test:ku},{name:"SparseMatrix",test:Zu},{name:"Range",test:Vu},{name:"Index",test:Ar},{name:"boolean",test:ju},{name:"ResultSet",test:Hu},{name:"Help",test:Wu},{name:"function",test:Yu},{name:"Date",test:Gu},{name:"RegExp",test:Ju},{name:"null",test:Ku},{name:"undefined",test:Qu},{name:"AccessorNode",test:ei},{name:"ArrayNode",test:ti},{name:"AssignmentNode",test:ri},{name:"BlockNode",test:ni},{name:"ConditionalNode",test:ui},{name:"ConstantNode",test:ii},{name:"FunctionNode",test:ai},{name:"FunctionAssignmentNode",test:oi},{name:"IndexNode",test:si},{name:"Node",test:fi},{name:"ObjectNode",test:ci},{name:"OperatorNode",test:li},{name:"ParenthesisNode",test:hi},{name:"RangeNode",test:Di},{name:"RelationalNode",test:di},{name:"SymbolNode",test:pi},{name:"Map",test:Xu},{name:"Object",test:Br}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(c){if(r||Lt(c),_i(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new r(c)}},{from:"number",to:"Complex",convert:function(c){return n||kt(c),new n(c,0)}},{from:"BigNumber",to:"Complex",convert:function(c){return n||kt(c),new n(c.toNumber(),0)}},{from:"bigint",to:"number",convert:function(c){if(c>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+c+")");return Number(c)}},{from:"bigint",to:"BigNumber",convert:function(c){return r||Lt(c),new r(c.toString())}},{from:"bigint",to:"Fraction",convert:function(c){return i||Zt(c),new i(c)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return n||kt(c),new n(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){i||Zt(c);var l=new i(c);if(l.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return l}},{from:"string",to:"number",convert:function(c){var l=Number(c);if(isNaN(l))throw new Error('Cannot convert "'+c+'" to a number');return l}},{from:"string",to:"BigNumber",convert:function(c){r||Lt(c);try{return new r(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(c){try{return BigInt(c)}catch{throw new Error('Cannot convert "'+c+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(c){i||Zt(c);try{return new i(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){n||kt(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return r||Lt(c),new r(+c)}},{from:"boolean",to:"bigint",convert:function(c){return BigInt(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return i||Zt(c),new i(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return u||Si(),new u(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}]),o.onMismatch=(a,c,l)=>{var s=o.createError(a,c,l);if(["wrongType","mismatch"].includes(s.data.category)&&c.length===1&&Yt(c[0])&&l.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=s.data,h}throw s},o.onMismatch=(a,c,l)=>{var s=o.createError(a,c,l);if(["wrongType","mismatch"].includes(s.data.category)&&c.length===1&&Yt(c[0])&&l.some(D=>!D.params.includes(","))){var h=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw h.data=s.data,h}throw s},o});function Lt(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function kt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Si(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Zt(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Bt=9e15,Dt=1e9,mr="0123456789abcdef",Kt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Qt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",gr={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Bt,maxE:Bt,crypto:!1},Cn,it,ue=!0,ir="[DecimalError] ",ht=ir+"Invalid argument: ",An=ir+"Precision limit exceeded",Bn=ir+"crypto unavailable",bn="[object Decimal]",Pe=Math.floor,Se=Math.pow,Ti=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,xi=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ii=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,_n=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xe=1e7,re=7,Oi=9007199254740991,Ri=Kt.length-1,Fr=Qt.length-1,R={toStringTag:bn};R.absoluteValue=R.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Q(e)};R.ceil=function(){return Q(new this.constructor(this),this.e+1,2)};R.clampedTo=R.clamp=function(e,t){var r,n=this,u=n.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(ht+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new u(n)};R.comparedTo=R.cmp=function(e){var t,r,n,u,i=this,o=i.d,a=(e=new i.constructor(e)).d,c=i.s,l=e.s;if(!o||!a)return!c||!l?NaN:c!==l?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-l:0;if(c!==l)return c;if(i.e!==e.e)return i.e>e.e^c<0?1:-1;for(n=o.length,u=a.length,t=0,r=n<u?n:u;t<r;++t)if(o[t]!==a[t])return o[t]>a[t]^c<0?1:-1;return n===u?0:n>u^c<0?1:-1};R.cosine=R.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+re,n.rounding=1,r=zi(n,xn(n,r)),n.precision=e,n.rounding=t,Q(it==2||it==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};R.cubeRoot=R.cbrt=function(){var e,t,r,n,u,i,o,a,c,l,s=this,h=s.constructor;if(!s.isFinite()||s.isZero())return new h(s);for(ue=!1,i=s.s*Se(s.s*s,1/3),!i||Math.abs(i)==1/0?(r=Re(s.d),e=s.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=Se(r,1/3),e=Pe((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new h(r),n.s=s.s):n=new h(i.toString()),o=(e=h.precision)+3;;)if(a=n,c=a.times(a).times(a),l=c.plus(s),n=de(l.plus(s).times(a),l.plus(c),o+2,1),Re(a.d).slice(0,o)===(r=Re(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!u&&r=="4999"){if(!u&&(Q(a,e+1,0),a.times(a).times(a).eq(s))){n=a;break}o+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Q(n,e+1,1),t=!n.times(n).times(n).eq(s));break}return ue=!0,Q(n,e,h.rounding,t)};R.decimalPlaces=R.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Pe(this.e/re))*re,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};R.dividedBy=R.div=function(e){return de(this,new this.constructor(e))};R.dividedToIntegerBy=R.divToInt=function(e){var t=this,r=t.constructor;return Q(de(t,new r(e),0,1,1),r.precision,r.rounding)};R.equals=R.eq=function(e){return this.cmp(e)===0};R.floor=function(){return Q(new this.constructor(this),this.e+1,3)};R.greaterThan=R.gt=function(e){return this.cmp(e)>0};R.greaterThanOrEqualTo=R.gte=function(e){var t=this.cmp(e);return t==1||t===0};R.hyperbolicCosine=R.cosh=function(){var e,t,r,n,u,i=this,o=i.constructor,a=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return a;r=o.precision,n=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,u=i.d.length,u<32?(e=Math.ceil(u/3),t=(1/ar(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=Mt(o,1,i.times(t),new o(1),!0);for(var c,l=e,s=new o(8);l--;)c=i.times(i),i=a.minus(c.times(s.minus(c.times(s))));return Q(i,o.precision=r,o.rounding=n,!0)};R.hyperbolicSine=R.sinh=function(){var e,t,r,n,u=this,i=u.constructor;if(!u.isFinite()||u.isZero())return new i(u);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(u.e,u.sd())+4,i.rounding=1,n=u.d.length,n<3)u=Mt(i,2,u,u,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,u=u.times(1/ar(5,e)),u=Mt(i,2,u,u,!0);for(var o,a=new i(5),c=new i(16),l=new i(20);e--;)o=u.times(u),u=u.times(a.plus(o.times(c.times(o).plus(l))))}return i.precision=t,i.rounding=r,Q(u,t,r,!0)};R.hyperbolicTangent=R.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,de(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};R.inverseCosine=R.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,u=t.rounding;return r!==-1?r===0?e.isNeg()?Ke(t,n,u):new t(0):new t(NaN):e.isZero()?Ke(t,n+4,u).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=u,e.times(2))};R.inverseHyperbolicCosine=R.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,ue=!1,r=r.times(r).minus(1).sqrt().plus(r),ue=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};R.inverseHyperbolicSine=R.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,ue=!1,r=r.times(r).plus(1).sqrt().plus(r),ue=!0,n.precision=e,n.rounding=t,r.ln())};R.inverseHyperbolicTangent=R.atanh=function(){var e,t,r,n,u=this,i=u.constructor;return u.isFinite()?u.e>=0?new i(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=i.precision,t=i.rounding,n=u.sd(),Math.max(n,e)<2*-u.e-1?Q(new i(u),e,t,!0):(i.precision=r=n-u.e,u=de(u.plus(1),new i(1).minus(u),r+e,1),i.precision=e+4,i.rounding=1,u=u.ln(),i.precision=e,i.rounding=t,u.times(.5))):new i(NaN)};R.inverseSine=R.asin=function(){var e,t,r,n,u=this,i=u.constructor;return u.isZero()?new i(u):(t=u.abs().cmp(1),r=i.precision,n=i.rounding,t!==-1?t===0?(e=Ke(i,r+4,n).times(.5),e.s=u.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,u=u.div(new i(1).minus(u.times(u)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,u.times(2)))};R.inverseTangent=R.atan=function(){var e,t,r,n,u,i,o,a,c,l=this,s=l.constructor,h=s.precision,D=s.rounding;if(l.isFinite()){if(l.isZero())return new s(l);if(l.abs().eq(1)&&h+4<=Fr)return o=Ke(s,h+4,D).times(.25),o.s=l.s,o}else{if(!l.s)return new s(NaN);if(h+4<=Fr)return o=Ke(s,h+4,D).times(.5),o.s=l.s,o}for(s.precision=a=h+10,s.rounding=1,r=Math.min(28,a/re+2|0),e=r;e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(ue=!1,t=Math.ceil(a/re),n=1,c=l.times(l),o=new s(l),u=l;e!==-1;)if(u=u.times(c),i=o.minus(u.div(n+=2)),u=u.times(c),o=i.plus(u.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===i.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),ue=!0,Q(o,s.precision=h,s.rounding=D,!0)};R.isFinite=function(){return!!this.d};R.isInteger=R.isInt=function(){return!!this.d&&Pe(this.e/re)>this.d.length-2};R.isNaN=function(){return!this.s};R.isNegative=R.isNeg=function(){return this.s<0};R.isPositive=R.isPos=function(){return this.s>0};R.isZero=function(){return!!this.d&&this.d[0]===0};R.lessThan=R.lt=function(e){return this.cmp(e)<0};R.lessThanOrEqualTo=R.lte=function(e){return this.cmp(e)<1};R.logarithm=R.log=function(e){var t,r,n,u,i,o,a,c,l=this,s=l.constructor,h=s.precision,D=s.rounding,F=5;if(e==null)e=new s(10),t=!0;else{if(e=new s(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new s(NaN);t=e.eq(10)}if(r=l.d,l.s<0||!r||!r[0]||l.eq(1))return new s(r&&!r[0]?-1/0:l.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(u=r[0];u%10===0;)u/=10;i=u!==1}if(ue=!1,a=h+F,o=ct(l,a),n=t?er(s,a+10):ct(e,a),c=de(o,n,a,1),zt(c.d,u=h,D))do if(a+=10,o=ct(l,a),n=t?er(s,a+10):ct(e,a),c=de(o,n,a,1),!i){+Re(c.d).slice(u+1,u+15)+1==1e14&&(c=Q(c,h+1,0));break}while(zt(c.d,u+=10,D));return ue=!0,Q(c,h,D)};R.minus=R.sub=function(e){var t,r,n,u,i,o,a,c,l,s,h,D,F=this,y=F.constructor;if(e=new y(e),!F.d||!e.d)return!F.s||!e.s?e=new y(NaN):F.d?e.s=-e.s:e=new y(e.d||F.s!==e.s?F:NaN),e;if(F.s!=e.s)return e.s=-e.s,F.plus(e);if(l=F.d,D=e.d,a=y.precision,c=y.rounding,!l[0]||!D[0]){if(D[0])e.s=-e.s;else if(l[0])e=new y(F);else return new y(c===3?-0:0);return ue?Q(e,a,c):e}if(r=Pe(e.e/re),s=Pe(F.e/re),l=l.slice(),i=s-r,i){for(h=i<0,h?(t=l,i=-i,o=D.length):(t=D,r=s,o=l.length),n=Math.max(Math.ceil(a/re),o)+2,i>n&&(i=n,t.length=1),t.reverse(),n=i;n--;)t.push(0);t.reverse()}else{for(n=l.length,o=D.length,h=n<o,h&&(o=n),n=0;n<o;n++)if(l[n]!=D[n]){h=l[n]<D[n];break}i=0}for(h&&(t=l,l=D,D=t,e.s=-e.s),o=l.length,n=D.length-o;n>0;--n)l[o++]=0;for(n=D.length;n>i;){if(l[--n]<D[n]){for(u=n;u&&l[--u]===0;)l[u]=Xe-1;--l[u],l[n]+=Xe}l[n]-=D[n]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=or(l,r),ue?Q(e,a,c):e):new y(c===3?-0:0)};R.modulo=R.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?Q(new n(r),n.precision,n.rounding):(ue=!1,n.modulo==9?(t=de(r,e.abs(),0,3,1),t.s*=e.s):t=de(r,e,0,n.modulo,1),t=t.times(e),ue=!0,r.minus(t))};R.naturalExponential=R.exp=function(){return wr(this)};R.naturalLogarithm=R.ln=function(){return ct(this)};R.negated=R.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Q(e)};R.plus=R.add=function(e){var t,r,n,u,i,o,a,c,l,s,h=this,D=h.constructor;if(e=new D(e),!h.d||!e.d)return!h.s||!e.s?e=new D(NaN):h.d||(e=new D(e.d||h.s===e.s?h:NaN)),e;if(h.s!=e.s)return e.s=-e.s,h.minus(e);if(l=h.d,s=e.d,a=D.precision,c=D.rounding,!l[0]||!s[0])return s[0]||(e=new D(h)),ue?Q(e,a,c):e;if(i=Pe(h.e/re),n=Pe(e.e/re),l=l.slice(),u=i-n,u){for(u<0?(r=l,u=-u,o=s.length):(r=s,n=i,o=l.length),i=Math.ceil(a/re),o=i>o?i+1:o+1,u>o&&(u=o,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(o=l.length,u=s.length,o-u<0&&(u=o,r=s,s=l,l=r),t=0;u;)t=(l[--u]=l[u]+s[u]+t)/Xe|0,l[u]%=Xe;for(t&&(l.unshift(t),++n),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=or(l,n),ue?Q(e,a,c):e};R.precision=R.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ht+e);return r.d?(t=Nn(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};R.round=function(){var e=this,t=e.constructor;return Q(new t(e),e.e+1,t.rounding)};R.sine=R.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+re,n.rounding=1,r=qi(n,xn(n,r)),n.precision=e,n.rounding=t,Q(it>2?r.neg():r,e,t,!0)):new n(NaN)};R.squareRoot=R.sqrt=function(){var e,t,r,n,u,i,o=this,a=o.d,c=o.e,l=o.s,s=o.constructor;if(l!==1||!a||!a[0])return new s(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(ue=!1,l=Math.sqrt(+o),l==0||l==1/0?(t=Re(a),(t.length+c)%2==0&&(t+="0"),l=Math.sqrt(t),c=Pe((c+1)/2)-(c<0||c%2),l==1/0?t="5e"+c:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),n=new s(t)):n=new s(l.toString()),r=(c=s.precision)+3;;)if(i=n,n=i.plus(de(o,i,r+2,1)).times(.5),Re(i.d).slice(0,r)===(t=Re(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(Q(i,c+1,0),i.times(i).eq(o))){n=i;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Q(n,c+1,1),e=!n.times(n).eq(o));break}return ue=!0,Q(n,c,s.rounding,e)};R.tangent=R.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=de(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,Q(it==2||it==4?r.neg():r,e,t,!0)):new n(NaN)};R.times=R.mul=function(e){var t,r,n,u,i,o,a,c,l,s=this,h=s.constructor,D=s.d,F=(e=new h(e)).d;if(e.s*=s.s,!D||!D[0]||!F||!F[0])return new h(!e.s||D&&!D[0]&&!F||F&&!F[0]&&!D?NaN:!D||!F?e.s/0:e.s*0);for(r=Pe(s.e/re)+Pe(e.e/re),c=D.length,l=F.length,c<l&&(i=D,D=F,F=i,o=c,c=l,l=o),i=[],o=c+l,n=o;n--;)i.push(0);for(n=l;--n>=0;){for(t=0,u=c+n;u>n;)a=i[u]+F[n]*D[u-n-1]+t,i[u--]=a%Xe|0,t=a/Xe|0;i[u]=(i[u]+t)%Xe|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=or(i,r),ue?Q(e,h.precision,h.rounding):e};R.toBinary=function(e,t){return br(this,2,e,t)};R.toDecimalPlaces=R.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ze(e,0,Dt),t===void 0?t=n.rounding:Ze(t,0,8),Q(r,e+r.e+1,t))};R.toExponential=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=Qe(n,!0):(Ze(e,0,Dt),t===void 0?t=u.rounding:Ze(t,0,8),n=Q(new u(n),e+1,t),r=Qe(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};R.toFixed=function(e,t){var r,n,u=this,i=u.constructor;return e===void 0?r=Qe(u):(Ze(e,0,Dt),t===void 0?t=i.rounding:Ze(t,0,8),n=Q(new i(u),e+u.e+1,t),r=Qe(n,!1,e+n.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};R.toFraction=function(e){var t,r,n,u,i,o,a,c,l,s,h,D,F=this,y=F.d,f=F.constructor;if(!y)return new f(F);if(l=r=new f(1),n=c=new f(0),t=new f(n),i=t.e=Nn(y)-F.e-1,o=i%re,t.d[0]=Se(10,o<0?re+o:o),e==null)e=i>0?t:l;else{if(a=new f(e),!a.isInt()||a.lt(l))throw Error(ht+a);e=a.gt(t)?i>0?t:l:a}for(ue=!1,a=new f(Re(y)),s=f.precision,f.precision=i=y.length*re*2;h=de(a,t,0,1,1),u=r.plus(h.times(n)),u.cmp(e)!=1;)r=n,n=u,u=l,l=c.plus(h.times(u)),c=u,u=t,t=a.minus(h.times(u)),a=u;return u=de(e.minus(r),n,0,1,1),c=c.plus(u.times(l)),r=r.plus(u.times(n)),c.s=l.s=F.s,D=de(l,n,i,1).minus(F).abs().cmp(de(c,r,i,1).minus(F).abs())<1?[l,n]:[c,r],f.precision=s,ue=!0,D};R.toHexadecimal=R.toHex=function(e,t){return br(this,16,e,t)};R.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Ze(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(ue=!1,r=de(r,e,0,t,1).times(e),ue=!0,Q(r)):(e.s=r.s,r=e),r};R.toNumber=function(){return+this};R.toOctal=function(e,t){return br(this,8,e,t)};R.toPower=R.pow=function(e){var t,r,n,u,i,o,a=this,c=a.constructor,l=+(e=new c(e));if(!a.d||!e.d||!a.d[0]||!e.d[0])return new c(Se(+a,l));if(a=new c(a),a.eq(1))return a;if(n=c.precision,i=c.rounding,e.eq(1))return Q(a,n,i);if(t=Pe(e.e/re),t>=e.d.length-1&&(r=l<0?-l:l)<=Oi)return u=Mn(c,a,r,n),e.s<0?new c(1).div(u):Q(u,n,i);if(o=a.s,o<0){if(t<e.d.length-1)return new c(NaN);if(e.d[t]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return r=Se(+a,l),t=r==0||!isFinite(r)?Pe(l*(Math.log("0."+Re(a.d))/Math.LN10+a.e+1)):new c(r+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(ue=!1,c.rounding=a.s=1,r=Math.min(12,(t+"").length),u=wr(e.times(ct(a,n+r)),n),u.d&&(u=Q(u,n+5,1),zt(u.d,n,i)&&(t=n+10,u=Q(wr(e.times(ct(a,t+r)),t),t+5,1),+Re(u.d).slice(n+1,n+15)+1==1e14&&(u=Q(u,n+1,0)))),u.s=o,ue=!0,c.rounding=i,Q(u,n,i))};R.toPrecision=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=Qe(n,n.e<=u.toExpNeg||n.e>=u.toExpPos):(Ze(e,1,Dt),t===void 0?t=u.rounding:Ze(t,0,8),n=Q(new u(n),e,t),r=Qe(n,e<=n.e||n.e<=u.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};R.toSignificantDigits=R.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ze(e,1,Dt),t===void 0?t=n.rounding:Ze(t,0,8)),Q(new n(r),e,t)};R.toString=function(){var e=this,t=e.constructor,r=Qe(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};R.truncated=R.trunc=function(){return Q(new this.constructor(this),this.e+1,1)};R.valueOf=R.toJSON=function(){var e=this,t=e.constructor,r=Qe(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Re(e){var t,r,n,u=e.length-1,i="",o=e[0];if(u>0){for(i+=o,t=1;t<u;t++)n=e[t]+"",r=re-n.length,r&&(i+=ft(r)),i+=n;o=e[t],n=o+"",r=re-n.length,r&&(i+=ft(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function Ze(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ht+e)}function zt(e,t,r,n){var u,i,o,a;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=re,u=0):(u=Math.ceil((t+1)/re),t%=re),i=Se(10,re-t),a=e[u]%i|0,n==null?t<3?(t==0?a=a/100|0:t==1&&(a=a/10|0),o=r<4&&a==99999||r>3&&a==49999||a==5e4||a==0):o=(r<4&&a+1==i||r>3&&a+1==i/2)&&(e[u+1]/i/100|0)==Se(10,t-2)-1||(a==i/2||a==0)&&(e[u+1]/i/100|0)==0:t<4?(t==0?a=a/1e3|0:t==1?a=a/100|0:t==2&&(a=a/10|0),o=(n||r<4)&&a==9999||!n&&r>3&&a==4999):o=((n||r<4)&&a+1==i||!n&&r>3&&a+1==i/2)&&(e[u+1]/i/1e3|0)==Se(10,t-3)-1,o}function jt(e,t,r){for(var n,u=[0],i,o=0,a=e.length;o<a;){for(i=u.length;i--;)u[i]*=t;for(u[0]+=mr.indexOf(e.charAt(o++)),n=0;n<u.length;n++)u[n]>r-1&&(u[n+1]===void 0&&(u[n+1]=0),u[n+1]+=u[n]/r|0,u[n]%=r)}return u.reverse()}function zi(e,t){var r,n,u;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),u=(1/ar(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=Mt(e,1,t.times(u),new e(1));for(var i=r;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var de=function(){function e(n,u,i){var o,a=0,c=n.length;for(n=n.slice();c--;)o=n[c]*u+a,n[c]=o%i|0,a=o/i|0;return a&&n.unshift(a),n}function t(n,u,i,o){var a,c;if(i!=o)c=i>o?1:-1;else for(a=c=0;a<i;a++)if(n[a]!=u[a]){c=n[a]>u[a]?1:-1;break}return c}function r(n,u,i,o){for(var a=0;i--;)n[i]-=a,a=n[i]<u[i]?1:0,n[i]=a*o+n[i]-u[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,u,i,o,a,c){var l,s,h,D,F,y,f,v,w,b,g,N,m,p,A,E,B,I,M,T,L=n.constructor,k=n.s==u.s?1:-1,V=n.d,q=u.d;if(!V||!V[0]||!q||!q[0])return new L(!n.s||!u.s||(V?q&&V[0]==q[0]:!q)?NaN:V&&V[0]==0||!q?k*0:k/0);for(c?(F=1,s=n.e-u.e):(c=Xe,F=re,s=Pe(n.e/F)-Pe(u.e/F)),M=q.length,B=V.length,w=new L(k),b=w.d=[],h=0;q[h]==(V[h]||0);h++);if(q[h]>(V[h]||0)&&s--,i==null?(p=i=L.precision,o=L.rounding):a?p=i+(n.e-u.e)+1:p=i,p<0)b.push(1),y=!0;else{if(p=p/F+2|0,h=0,M==1){for(D=0,q=q[0],p++;(h<B||D)&&p--;h++)A=D*c+(V[h]||0),b[h]=A/q|0,D=A%q|0;y=D||h<B}else{for(D=c/(q[0]+1)|0,D>1&&(q=e(q,D,c),V=e(V,D,c),M=q.length,B=V.length),E=M,g=V.slice(0,M),N=g.length;N<M;)g[N++]=0;T=q.slice(),T.unshift(0),I=q[0],q[1]>=c/2&&++I;do D=0,l=t(q,g,M,N),l<0?(m=g[0],M!=N&&(m=m*c+(g[1]||0)),D=m/I|0,D>1?(D>=c&&(D=c-1),f=e(q,D,c),v=f.length,N=g.length,l=t(f,g,v,N),l==1&&(D--,r(f,M<v?T:q,v,c))):(D==0&&(l=D=1),f=q.slice()),v=f.length,v<N&&f.unshift(0),r(g,f,N,c),l==-1&&(N=g.length,l=t(q,g,M,N),l<1&&(D++,r(g,M<N?T:q,N,c))),N=g.length):l===0&&(D++,g=[0]),b[h++]=D,l&&g[0]?g[N++]=V[E]||0:(g=[V[E]],N=1);while((E++<B||g[0]!==void 0)&&p--);y=g[0]!==void 0}b[0]||b.shift()}if(F==1)w.e=s,Cn=y;else{for(h=1,D=b[0];D>=10;D/=10)h++;w.e=h+s*F-1,Q(w,a?i+w.e+1:i,o,y)}return w}}();function Q(e,t,r,n){var u,i,o,a,c,l,s,h,D,F=e.constructor;e:if(t!=null){if(h=e.d,!h)return e;for(u=1,a=h[0];a>=10;a/=10)u++;if(i=t-u,i<0)i+=re,o=t,s=h[D=0],c=s/Se(10,u-o-1)%10|0;else if(D=Math.ceil((i+1)/re),a=h.length,D>=a)if(n){for(;a++<=D;)h.push(0);s=c=0,u=1,i%=re,o=i-re+1}else break e;else{for(s=a=h[D],u=1;a>=10;a/=10)u++;i%=re,o=i-re+u,c=o<0?0:s/Se(10,u-o-1)%10|0}if(n=n||t<0||h[D+1]!==void 0||(o<0?s:s%Se(10,u-o-1)),l=r<4?(c||n)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(i>0?o>0?s/Se(10,u-o):0:h[D-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,l?(t-=e.e+1,h[0]=Se(10,(re-t%re)%re),e.e=-t||0):h[0]=e.e=0,e;if(i==0?(h.length=D,a=1,D--):(h.length=D+1,a=Se(10,re-i),h[D]=o>0?(s/Se(10,u-o)%Se(10,o)|0)*a:0),l)for(;;)if(D==0){for(i=1,o=h[0];o>=10;o/=10)i++;for(o=h[0]+=a,a=1;o>=10;o/=10)a++;i!=a&&(e.e++,h[0]==Xe&&(h[0]=1));break}else{if(h[D]+=a,h[D]!=Xe)break;h[D--]=0,a=1}for(i=h.length;h[--i]===0;)h.pop()}return ue&&(e.e>F.maxE?(e.d=null,e.e=NaN):e.e<F.minE&&(e.e=0,e.d=[0])),e}function Qe(e,t,r){if(!e.isFinite())return Tn(e);var n,u=e.e,i=Re(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ft(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):u<0?(i="0."+ft(-u-1)+i,r&&(n=r-o)>0&&(i+=ft(n))):u>=o?(i+=ft(u+1-o),r&&(n=r-u-1)>0&&(i=i+"."+ft(n))):((n=u+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(u+1===o&&(i+="."),i+=ft(n))),i}function or(e,t){var r=e[0];for(t*=re;r>=10;r/=10)t++;return t}function er(e,t,r){if(t>Ri)throw ue=!0,r&&(e.precision=r),Error(An);return Q(new e(Kt),t,1,!0)}function Ke(e,t,r){if(t>Fr)throw Error(An);return Q(new e(Qt),t,r,!0)}function Nn(e){var t=e.length-1,r=t*re+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function ft(e){for(var t="";e--;)t+="0";return t}function Mn(e,t,r,n){var u,i=new e(1),o=Math.ceil(n/re+4);for(ue=!1;;){if(r%2&&(i=i.times(t),kr(i.d,o)&&(u=!0)),r=Pe(r/2),r===0){r=i.d.length-1,u&&i.d[r]===0&&++i.d[r];break}t=t.times(t),kr(t.d,o)}return ue=!0,i}function Lr(e){return e.d[e.d.length-1]&1}function Sn(e,t,r){for(var n,u,i=new e(t[0]),o=0;++o<t.length;){if(u=new e(t[o]),!u.s){i=u;break}n=i.cmp(u),(n===r||n===0&&i.s===r)&&(i=u)}return i}function wr(e,t){var r,n,u,i,o,a,c,l=0,s=0,h=0,D=e.constructor,F=D.rounding,y=D.precision;if(!e.d||!e.d[0]||e.e>17)return new D(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(ue=!1,c=y):c=t,a=new D(.03125);e.e>-2;)e=e.times(a),h+=5;for(n=Math.log(Se(2,h))/Math.LN10*2+5|0,c+=n,r=i=o=new D(1),D.precision=c;;){if(i=Q(i.times(e),c,1),r=r.times(++s),a=o.plus(de(i,r,c,1)),Re(a.d).slice(0,c)===Re(o.d).slice(0,c)){for(u=h;u--;)o=Q(o.times(o),c,1);if(t==null)if(l<3&&zt(o.d,c-n,F,l))D.precision=c+=10,r=i=a=new D(1),s=0,l++;else return Q(o,D.precision=y,F,ue=!0);else return D.precision=y,o}o=a}}function ct(e,t){var r,n,u,i,o,a,c,l,s,h,D,F=1,y=10,f=e,v=f.d,w=f.constructor,b=w.rounding,g=w.precision;if(f.s<0||!v||!v[0]||!f.e&&v[0]==1&&v.length==1)return new w(v&&!v[0]?-1/0:f.s!=1?NaN:v?0:f);if(t==null?(ue=!1,s=g):s=t,w.precision=s+=y,r=Re(v),n=r.charAt(0),Math.abs(i=f.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=Re(f.d),n=r.charAt(0),F++;i=f.e,n>1?(f=new w("0."+r),i++):f=new w(n+"."+r.slice(1))}else return l=er(w,s+2,g).times(i+""),f=ct(new w(n+"."+r.slice(1)),s-y).plus(l),w.precision=g,t==null?Q(f,g,b,ue=!0):f;for(h=f,c=o=f=de(f.minus(1),f.plus(1),s,1),D=Q(f.times(f),s,1),u=3;;){if(o=Q(o.times(D),s,1),l=c.plus(de(o,new w(u),s,1)),Re(l.d).slice(0,s)===Re(c.d).slice(0,s))if(c=c.times(2),i!==0&&(c=c.plus(er(w,s+2,g).times(i+""))),c=de(c,new w(F),s,1),t==null)if(zt(c.d,s-y,b,a))w.precision=s+=y,l=o=f=de(h.minus(1),h.plus(1),s,1),D=Q(f.times(f),s,1),u=a=1;else return Q(c,w.precision=g,b,ue=!0);else return w.precision=g,c;c=l,u+=2}}function Tn(e){return String(e.s*e.s/0)}function Ht(e,t){var r,n,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(n,u),t){if(u-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%re,r<0&&(n+=re),n<u){for(n&&e.d.push(+t.slice(0,n)),u-=re;n<u;)e.d.push(+t.slice(n,n+=re));t=t.slice(n),n=re-t.length}else n-=u;for(;n--;)t+="0";e.d.push(+t),ue&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Pi(e,t){var r,n,u,i,o,a,c,l,s;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),_n.test(t))return Ht(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(xi.test(t))r=16,t=t.toLowerCase();else if(Ti.test(t))r=2;else if(Ii.test(t))r=8;else throw Error(ht+t);for(i=t.search(/p/i),i>0?(c=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),o=i>=0,n=e.constructor,o&&(t=t.replace(".",""),a=t.length,i=a-i,u=Mn(n,new n(r),i,i*2)),l=jt(t,r,Xe),s=l.length-1,i=s;l[i]===0;--i)l.pop();return i<0?new n(e.s*0):(e.e=or(l,s),e.d=l,ue=!1,o&&(e=de(e,u,a*4)),c&&(e=e.times(Math.abs(c)<54?Se(2,c):St.pow(2,c))),ue=!0,e)}function qi(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:Mt(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/ar(5,r)),t=Mt(e,2,t,t);for(var u,i=new e(5),o=new e(16),a=new e(20);r--;)u=t.times(t),t=t.times(i.plus(u.times(o.times(u).minus(a))));return t}function Mt(e,t,r,n,u){var i,o,a,c,l=e.precision,s=Math.ceil(l/re);for(ue=!1,c=r.times(r),a=new e(n);;){if(o=de(a.times(c),new e(t++*t++),l,1),a=u?n.plus(o):n.minus(o),n=de(o.times(c),new e(t++*t++),l,1),o=a.plus(n),o.d[s]!==void 0){for(i=s;o.d[i]===a.d[i]&&i--;);if(i==-1)break}i=a,a=n,n=o,o=i}return ue=!0,o.d.length=s+1,o}function ar(e,t){for(var r=e;--t;)r*=e;return r}function xn(e,t){var r,n=t.s<0,u=Ke(e,e.precision,1),i=u.times(.5);if(t=t.abs(),t.lte(i))return it=n?4:1,t;if(r=t.divToInt(u),r.isZero())it=n?3:2;else{if(t=t.minus(r.times(u)),t.lte(i))return it=Lr(r)?n?2:3:n?4:1,t;it=Lr(r)?n?1:4:n?3:2}return t.minus(u).abs()}function br(e,t,r,n){var u,i,o,a,c,l,s,h,D,F=e.constructor,y=r!==void 0;if(y?(Ze(r,1,Dt),n===void 0?n=F.rounding:Ze(n,0,8)):(r=F.precision,n=F.rounding),!e.isFinite())s=Tn(e);else{for(s=Qe(e),o=s.indexOf("."),y?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,o>=0&&(s=s.replace(".",""),D=new F(1),D.e=s.length-o,D.d=jt(Qe(D),10,u),D.e=D.d.length),h=jt(s,10,u),i=c=h.length;h[--c]==0;)h.pop();if(!h[0])s=y?"0p+0":"0";else{if(o<0?i--:(e=new F(e),e.d=h,e.e=i,e=de(e,D,r,n,0,u),h=e.d,i=e.e,l=Cn),o=h[r],a=u/2,l=l||h[r+1]!==void 0,l=n<4?(o!==void 0||l)&&(n===0||n===(e.s<0?3:2)):o>a||o===a&&(n===4||l||n===6&&h[r-1]&1||n===(e.s<0?8:7)),h.length=r,l)for(;++h[--r]>u-1;)h[r]=0,r||(++i,h.unshift(1));for(c=h.length;!h[c-1];--c);for(o=0,s="";o<c;o++)s+=mr.charAt(h[o]);if(y){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)s+="0";for(h=jt(s,u,t),c=h.length;!h[c-1];--c);for(o=1,s="1.";o<c;o++)s+=mr.charAt(h[o])}else s=s.charAt(0)+"."+s.slice(1);s=s+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)s="0"+s;s="0."+s}else if(++i>c)for(i-=c;i--;)s+="0";else i<c&&(s=s.slice(0,i)+"."+s.slice(i))}s=(t==16?"0x":t==2?"0b":t==8?"0o":"")+s}return e.s<0?"-"+s:s}function kr(e,t){if(e.length>t)return e.length=t,!0}function $i(e){return new this(e).abs()}function Ui(e){return new this(e).acos()}function Li(e){return new this(e).acosh()}function ki(e,t){return new this(e).plus(t)}function Zi(e){return new this(e).asin()}function Vi(e){return new this(e).asinh()}function ji(e){return new this(e).atan()}function Hi(e){return new this(e).atanh()}function Wi(e,t){e=new this(e),t=new this(t);var r,n=this.precision,u=this.rounding,i=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Ke(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Ke(this,n,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Ke(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(de(e,t,i,1)),t=Ke(this,i,1),this.precision=n,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(de(e,t,i,1)),r}function Yi(e){return new this(e).cbrt()}function Gi(e){return Q(e=new this(e),e.e+1,2)}function Ji(e,t,r){return new this(e).clamp(t,r)}function Xi(e){if(!e||typeof e!="object")throw Error(ir+"Object expected");var t,r,n,u=e.defaults===!0,i=["precision",1,Dt,"rounding",0,8,"toExpNeg",-Bt,0,"toExpPos",0,Bt,"maxE",0,Bt,"minE",-Bt,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],u&&(this[r]=gr[r]),(n=e[r])!==void 0)if(Pe(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ht+r+": "+n);if(r="crypto",u&&(this[r]=gr[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Bn);else this[r]=!1;else throw Error(ht+r+": "+n);return this}function Ki(e){return new this(e).cos()}function Qi(e){return new this(e).cosh()}function In(e){var t,r,n;function u(i){var o,a,c,l=this;if(!(l instanceof u))return new u(i);if(l.constructor=u,Zr(i)){l.s=i.s,ue?!i.d||i.e>u.maxE?(l.e=NaN,l.d=null):i.e<u.minE?(l.e=0,l.d=[0]):(l.e=i.e,l.d=i.d.slice()):(l.e=i.e,l.d=i.d?i.d.slice():i.d);return}if(c=typeof i,c==="number"){if(i===0){l.s=1/i<0?-1:1,l.e=0,l.d=[0];return}if(i<0?(i=-i,l.s=-1):l.s=1,i===~~i&&i<1e7){for(o=0,a=i;a>=10;a/=10)o++;ue?o>u.maxE?(l.e=NaN,l.d=null):o<u.minE?(l.e=0,l.d=[0]):(l.e=o,l.d=[i]):(l.e=o,l.d=[i]);return}if(i*0!==0){i||(l.s=NaN),l.e=NaN,l.d=null;return}return Ht(l,i.toString())}if(c==="string")return(a=i.charCodeAt(0))===45?(i=i.slice(1),l.s=-1):(a===43&&(i=i.slice(1)),l.s=1),_n.test(i)?Ht(l,i):Pi(l,i);if(c==="bigint")return i<0?(i=-i,l.s=-1):l.s=1,Ht(l,i.toString());throw Error(ht+i)}if(u.prototype=R,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=Xi,u.clone=In,u.isDecimal=Zr,u.abs=$i,u.acos=Ui,u.acosh=Li,u.add=ki,u.asin=Zi,u.asinh=Vi,u.atan=ji,u.atanh=Hi,u.atan2=Wi,u.cbrt=Yi,u.ceil=Gi,u.clamp=Ji,u.cos=Ki,u.cosh=Qi,u.div=eo,u.exp=to,u.floor=ro,u.hypot=no,u.ln=uo,u.log=io,u.log10=ao,u.log2=oo,u.max=so,u.min=fo,u.mod=co,u.mul=lo,u.pow=ho,u.random=Do,u.round=po,u.sign=vo,u.sin=mo,u.sinh=go,u.sqrt=Fo,u.sub=wo,u.sum=yo,u.tan=Eo,u.tanh=Co,u.trunc=Ao,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return u.config(e),u}function eo(e,t){return new this(e).div(t)}function to(e){return new this(e).exp()}function ro(e){return Q(e=new this(e),e.e+1,3)}function no(){var e,t,r=new this(0);for(ue=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return ue=!0,new this(1/0);r=t}return ue=!0,r.sqrt()}function Zr(e){return e instanceof St||e&&e.toStringTag===bn||!1}function uo(e){return new this(e).ln()}function io(e,t){return new this(e).log(t)}function oo(e){return new this(e).log(2)}function ao(e){return new this(e).log(10)}function so(){return Sn(this,arguments,-1)}function fo(){return Sn(this,arguments,1)}function co(e,t){return new this(e).mod(t)}function lo(e,t){return new this(e).mul(t)}function ho(e,t){return new this(e).pow(t)}function Do(e){var t,r,n,u,i=0,o=new this(1),a=[];if(e===void 0?e=this.precision:Ze(e,1,Dt),n=Math.ceil(e/re),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));i<n;)u=t[i],u>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:a[i++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);i<n;)u=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,i):(a.push(u%1e7),i+=4);i=n/4}else throw Error(Bn);else for(;i<n;)a[i++]=Math.random()*1e7|0;for(n=a[--i],e%=re,n&&e&&(u=Se(10,re-e),a[i]=(n/u|0)*u);a[i]===0;i--)a.pop();if(i<0)r=0,a=[0];else{for(r=-1;a[0]===0;r-=re)a.shift();for(n=1,u=a[0];u>=10;u/=10)n++;n<re&&(r-=re-n)}return o.e=r,o.d=a,o}function po(e){return Q(e=new this(e),e.e+1,this.rounding)}function vo(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function mo(e){return new this(e).sin()}function go(e){return new this(e).sinh()}function Fo(e){return new this(e).sqrt()}function wo(e,t){return new this(e).sub(t)}function yo(){var e=0,t=arguments,r=new this(t[e]);for(ue=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return ue=!0,Q(r,this.precision,this.rounding)}function Eo(e){return new this(e).tan()}function Co(e){return new this(e).tanh()}function Ao(e){return Q(e=new this(e),e.e+1,1)}R[Symbol.for("nodejs.util.inspect.custom")]=R.toString;R[Symbol.toStringTag]="Decimal";var St=R.constructor=In(gr);Kt=new St(Kt);Qt=new St(Qt);var Bo="BigNumber",bo=["?on","config"],_o=fe(Bo,bo,e=>{var{on:t,config:r}=e,n=St.clone({precision:r.precision,modulo:St.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},t&&t("config",function(u,i){u.precision!==i.precision&&n.config({precision:u.precision})}),n},{isClass:!0});const ze=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},He=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},No=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},hr=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},Ct=function(){throw SyntaxError("Invalid Param")};function Dr(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const Mo={re:0,im:0},mt=function(e,t){const r=Mo;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return S.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return S.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):Ct();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let u=1,i=0;n===null&&Ct();for(let o=0;o<n.length;o++){const a=n[o];a===" "||a==="	"||a===`
`||(a==="+"?u++:a==="-"?i++:a==="i"||a==="I"?(u+i===0&&Ct(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((i%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((i%2?"-":"")+"1"),u=i=0):((u+i===0||isNaN(a))&&Ct(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((i%2?"-":"")+a),o++):r.re+=parseFloat((i%2?"-":"")+a),u=i=0))}u+i>0&&Ct();break;case"number":r.im=0,r.re=e;break;default:Ct()}return isNaN(r.re)||isNaN(r.im),r};function S(e,t){if(!(this instanceof S))return new S(e,t);const r=mt(e,t);this.re=r.re,this.im=r.im}S.prototype={re:0,im:0,sign:function(){const e=hr(this.re,this.im);return new S(this.re/e,this.im/e)},add:function(e,t){const r=mt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?S.NAN:S.INFINITY:new S(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=mt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?S.NAN:S.INFINITY:new S(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=mt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||u&&i?S.NAN:n||u?S.INFINITY:r.im===0&&this.im===0?new S(this.re*r.re,0):new S(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=mt(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(i&&o||n&&u)return S.NAN;if(o||n)return S.INFINITY;if(i||u)return S.ZERO;if(r.im===0)return new S(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const a=r.re/r.im,c=r.re*a+r.im;return new S((this.re*a+this.im)/c,(this.im*a-this.re)/c)}else{const a=r.im/r.re,c=r.im*a+r.re;return new S((this.re+this.im*a)/c,(this.im-this.re*a)/c)}},pow:function(e,t){const r=mt(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return S.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new S(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new S(Math.pow(this.im,r.re),0);case 1:return new S(0,Math.pow(this.im,r.re));case 2:return new S(-Math.pow(this.im,r.re),0);case 3:return new S(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return S.ZERO;const i=Math.atan2(this.im,this.re),o=Dr(this.re,this.im);let a=Math.exp(r.re*o-r.im*i),c=r.im*o+r.re*i;return new S(a*Math.cos(c),a*Math.sin(c))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new S(Math.sqrt(e),0):new S(0,Math.sqrt(-e));const r=hr(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),u=Math.abs(t)/(2*n);return e>=0?new S(n,t<0?-u:u):new S(u,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new S(e,0):new S(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new S(Math.expm1(e)*Math.cos(t)+No(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new S(Math.log(e),0):new S(Dr(e,t),Math.atan2(t,e))},abs:function(){return hr(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new S(Math.sin(e)*ze(t),Math.cos(e)*He(t))},cos:function(){const e=this.re,t=this.im;return new S(Math.cos(e)*ze(t),-Math.sin(e)*He(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+ze(t);return new S(Math.sin(e)/r,He(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-ze(t);return new S(-Math.sin(e)/r,He(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*ze(2*t)+.5*Math.cos(2*e);return new S(Math.cos(e)*ze(t)/r,Math.sin(e)*He(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*ze(2*t)-.5*Math.cos(2*e);return new S(Math.sin(e)*ze(t)/r,-Math.cos(e)*He(t)/r)},asin:function(){const e=this.re,t=this.im,r=new S(t*t-e*e+1,-2*e*t).sqrt(),n=new S(r.re-t,r.im+e).log();return new S(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new S(t*t-e*e+1,-2*e*t).sqrt(),n=new S(r.re-t,r.im+e).log();return new S(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new S(0,1/0);if(t===-1)return new S(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new S((1-t*t-e*e)/r,-2*e/r).log();return new S(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new S(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).atan():new S(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(0,1/0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).acos():new S(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).asin():new S(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new S(He(e)*Math.cos(t),ze(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new S(ze(e)*Math.cos(t),He(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=ze(e)+Math.cos(t);return new S(He(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=ze(e)-Math.cos(t);return new S(He(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-ze(2*e);return new S(-2*He(e)*Math.cos(t)/r,2*ze(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+ze(2*e);return new S(2*ze(e)*Math.cos(t)/r,-2*He(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,u=1+e,i=n*n+t*t,o=i!==0?new S((u*n-t*t)/i,(t*n+u*t)/i):new S(e!==-1?e/0:0,t!==0?t/0:0),a=o.re;return o.re=Dr(o.re,o.im)/2,o.im=Math.atan2(o.im,a)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new S(0,Math.PI/2);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).atanh():new S(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new S(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new S(e/r,-t/r).asinh():new S(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return S.INFINITY;const r=e*e+t*t;return r!==0?new S(e/r,-t/r).acosh():new S(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return S.INFINITY;if(this.isInfinite())return S.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new S(e/r,-t/r)},conjugate:function(){return new S(this.re,-this.im)},neg:function(){return new S(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new S(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new S(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new S(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=mt(e,t);return Math.abs(r.re-this.re)<=S.EPSILON&&Math.abs(r.im-this.im)<=S.EPSILON},clone:function(){return new S(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<S.EPSILON&&(e=0),Math.abs(t)<S.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};S.ZERO=new S(0,0);S.ONE=new S(1,0);S.I=new S(0,1);S.PI=new S(Math.PI,0);S.E=new S(Math.E,0);S.INFINITY=new S(1/0,1/0);S.NAN=new S(NaN,NaN);S.EPSILON=1e-15;var So="Complex",To=[],xo=fe(So,To,()=>(Object.defineProperty(S,"name",{value:"Complex"}),S.prototype.constructor=S,S.prototype.type="Complex",S.prototype.isComplex=!0,S.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},S.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},S.prototype.format=function(e){var t="",r=this.im,n=this.re,u=vr(this.re,e),i=vr(this.im,e),o=ge(e)?e:e?e.precision:null;if(o!==null){var a=Math.pow(10,-o);Math.abs(n/r)<a&&(n=0),Math.abs(r/n)<a&&(r=0)}return r===0?t=u:n===0?r===1?t="i":r===-1?t="-i":t=i+"i":r<0?r===-1?t=u+" - i":t=u+" - "+i.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+i+"i",t},S.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return S(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(ge(r)){if(gn(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),ge(n))return new S({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},S.prototype.valueOf=S.prototype.toString,S.fromJSON=function(e){return new S(e)},S.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},S),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const K=BigInt(0),ie=BigInt(1),Pt=BigInt(2),yr=BigInt(5),Le=BigInt(10),Io=2e3,Z={s:ie,n:K,d:ie};function rt(e,t){try{e=BigInt(e)}catch{throw st()}return e*t}function Je(e){return typeof e=="bigint"?e:Math.floor(e)}function we(e,t){if(t===K)throw _r();const r=Object.create(We.prototype);r.s=e<K?-ie:ie,e=e<K?-e:e;const n=gt(e,t);return r.n=e/n,r.d=t/n,r}function At(e){const t={};let r=e,n=Pt,u=yr-ie;for(;u<=r;){for(;r%n===K;)r/=n,t[n]=(t[n]||K)+ie;u+=ie+Pt*n++}return r!==e?r>1&&(t[r]=(t[r]||K)+ie):t[e]=(t[e]||K)+ie,t}const Oe=function(e,t){let r=K,n=ie,u=ie;if(e!=null)if(t!==void 0){if(typeof e=="bigint")r=e;else{if(isNaN(e))throw st();if(e%1!==0)throw Vr();r=BigInt(e)}if(typeof t=="bigint")n=t;else{if(isNaN(t))throw st();if(t%1!==0)throw Vr();n=BigInt(t)}u=r*n}else if(typeof e=="object"){if("d"in e&&"n"in e)r=BigInt(e.n),n=BigInt(e.d),"s"in e&&(r*=BigInt(e.s));else if(0 in e)r=BigInt(e[0]),1 in e&&(n=BigInt(e[1]));else if(typeof e=="bigint")r=e;else throw st();u=r*n}else if(typeof e=="number"){if(isNaN(e))throw st();if(e<0&&(u=-ie,e=-e),e%1===0)r=BigInt(e);else if(e>0){let i=1,o=0,a=1,c=1,l=1,s=1e7;for(e>=1&&(i=10**Math.floor(1+Math.log10(e)),e/=i);a<=s&&l<=s;){let h=(o+c)/(a+l);if(e===h){a+l<=s?(r=o+c,n=a+l):l>a?(r=c,n=l):(r=o,n=a);break}else e>h?(o+=c,a+=l):(c+=o,l+=a),a>s?(r=c,n=l):(r=o,n=a)}r=BigInt(r)*BigInt(i),n=BigInt(n)}}else if(typeof e=="string"){let i=0,o=K,a=K,c=K,l=ie,s=ie,h=e.replace(/_/g,"").match(/\d+|./g);if(h===null)throw st();if(h[i]==="-"?(u=-ie,i++):h[i]==="+"&&i++,h.length===i+1?a=rt(h[i++],u):h[i+1]==="."||h[i]==="."?(h[i]!=="."&&(o=rt(h[i++],u)),i++,(i+1===h.length||h[i+1]==="("&&h[i+3]===")"||h[i+1]==="'"&&h[i+3]==="'")&&(a=rt(h[i],u),l=Le**BigInt(h[i].length),i++),(h[i]==="("&&h[i+2]===")"||h[i]==="'"&&h[i+2]==="'")&&(c=rt(h[i+1],u),s=Le**BigInt(h[i+1].length)-ie,i+=3)):h[i+1]==="/"||h[i+1]===":"?(a=rt(h[i],u),l=rt(h[i+2],ie),i+=3):h[i+3]==="/"&&h[i+1]===" "&&(o=rt(h[i],u),a=rt(h[i+2],u),l=rt(h[i+4],ie),i+=5),h.length<=i)n=l*s,u=r=c+n*o+s*a;else throw st()}else if(typeof e=="bigint")r=e,u=e,n=ie;else throw st();if(n===K)throw _r();Z.s=u<K?-ie:ie,Z.n=r<K?-r:r,Z.d=n<K?-n:n};function Oo(e,t,r){let n=ie;for(;t>K;e=e*e%r,t>>=ie)t&ie&&(n=n*e%r);return n}function Ro(e,t){for(;t%Pt===K;t/=Pt);for(;t%yr===K;t/=yr);if(t===ie)return K;let r=Le%t,n=1;for(;r!==ie;n++)if(r=r*Le%t,n>Io)return K;return BigInt(n)}function zo(e,t,r){let n=ie,u=Oo(Le,r,t);for(let i=0;i<300;i++){if(n===u)return BigInt(i);n=n*Le%t,u=u*Le%t}return 0}function gt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function We(e,t){if(Oe(e,t),this instanceof We)e=gt(Z.d,Z.n),this.s=Z.s,this.n=Z.n/e,this.d=Z.d/e;else return we(Z.s*Z.n,Z.d)}var _r=function(){return new Error("Division by Zero")},st=function(){return new Error("Invalid argument")},Vr=function(){return new Error("Parameters must be integer")};We.prototype={s:ie,n:K,d:ie,abs:function(){return we(this.n,this.d)},neg:function(){return we(-this.s*this.n,this.d)},add:function(e,t){return Oe(e,t),we(this.s*this.n*Z.d+Z.s*this.d*Z.n,this.d*Z.d)},sub:function(e,t){return Oe(e,t),we(this.s*this.n*Z.d-Z.s*this.d*Z.n,this.d*Z.d)},mul:function(e,t){return Oe(e,t),we(this.s*Z.s*this.n*Z.n,this.d*Z.d)},div:function(e,t){return Oe(e,t),we(this.s*Z.s*this.n*Z.d,this.d*Z.n)},clone:function(){return we(this.s*this.n,this.d)},mod:function(e,t){if(e===void 0)return we(this.s*this.n%this.d,ie);if(Oe(e,t),K===Z.n*this.d)throw _r();return we(this.s*(Z.d*this.n)%(Z.n*this.d),Z.d*this.d)},gcd:function(e,t){return Oe(e,t),we(gt(Z.n,this.n)*gt(Z.d,this.d),Z.d*this.d)},lcm:function(e,t){return Oe(e,t),Z.n===K&&this.n===K?we(K,ie):we(Z.n*this.n,gt(Z.n,this.n)*gt(Z.d,this.d))},inverse:function(){return we(this.s*this.d,this.n)},pow:function(e,t){if(Oe(e,t),Z.d===ie)return Z.s<K?we((this.s*this.d)**Z.n,this.n**Z.n):we((this.s*this.n)**Z.n,this.d**Z.n);if(this.s<K)return null;let r=At(this.n),n=At(this.d),u=ie,i=ie;for(let o in r)if(o!=="1"){if(o==="0"){u=K;break}if(r[o]*=Z.n,r[o]%Z.d===K)r[o]/=Z.d;else return null;u*=BigInt(o)**r[o]}for(let o in n)if(o!=="1"){if(n[o]*=Z.n,n[o]%Z.d===K)n[o]/=Z.d;else return null;i*=BigInt(o)**n[o]}return Z.s<K?we(i,u):we(u,i)},log:function(e,t){if(Oe(e,t),this.s<=K||Z.s<=K)return null;const r={},n=At(Z.n),u=At(Z.d),i=At(this.n),o=At(this.d);for(const l in u)n[l]=(n[l]||K)-u[l];for(const l in o)i[l]=(i[l]||K)-o[l];for(const l in n)l!=="1"&&(r[l]=!0);for(const l in i)l!=="1"&&(r[l]=!0);let a=null,c=null;for(const l in r){const s=n[l]||K,h=i[l]||K;if(s===K){if(h!==K)return null;continue}let D=h,F=s;const y=gt(D,F);if(D/=y,F/=y,a===null&&c===null)a=D,c=F;else if(D*c!==a*F)return null}return a!==null&&c!==null?we(a,c):null},equals:function(e,t){return Oe(e,t),this.s*this.n*Z.d===Z.s*Z.n*this.d},lt:function(e,t){return Oe(e,t),this.s*this.n*Z.d<Z.s*Z.n*this.d},lte:function(e,t){return Oe(e,t),this.s*this.n*Z.d<=Z.s*Z.n*this.d},gt:function(e,t){return Oe(e,t),this.s*this.n*Z.d>Z.s*Z.n*this.d},gte:function(e,t){return Oe(e,t),this.s*this.n*Z.d>=Z.s*Z.n*this.d},compare:function(e,t){Oe(e,t);let r=this.s*this.n*Z.d-Z.s*Z.n*this.d;return(K<r)-(r<K)},ceil:function(e){return e=Le**BigInt(e||0),we(Je(this.s*e*this.n/this.d)+(e*this.n%this.d>K&&this.s>=K?ie:K),e)},floor:function(e){return e=Le**BigInt(e||0),we(Je(this.s*e*this.n/this.d)-(e*this.n%this.d>K&&this.s<K?ie:K),e)},round:function(e){return e=Le**BigInt(e||0),we(Je(this.s*e*this.n/this.d)+this.s*((this.s>=K?ie:K)+Pt*(e*this.n%this.d)>this.d?ie:K),e)},roundTo:function(e,t){Oe(e,t);const r=this.n*Z.d,n=this.d*Z.n,u=r%n;let i=Je(r/n);return u+u>=n&&i++,we(this.s*i*Z.n,Z.d)},divisible:function(e,t){return Oe(e,t),!(!(Z.n*this.d)||this.n*Z.d%(Z.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;let n=Ro(t,r),u=zo(t,r,n),i=this.s<K?"-":"";if(i+=Je(t/r),t%=r,t*=Le,t&&(i+="."),n){for(let o=u;o--;)i+=Je(t/r),t%=r,t*=Le;i+="(";for(let o=n;o--;)i+=Je(t/r),t%=r,t*=Le;i+=")"}else for(let o=e;t&&o--;)i+=Je(t/r),t%=r,t*=Le;return i},toFraction:function(e){let t=this.n,r=this.d,n=this.s<K?"-":"";if(r===ie)n+=t;else{let u=Je(t/r);e&&u>K&&(n+=u,n+=" ",t%=r),n+=t,n+="/",n+=r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<K?"-":"";if(r===ie)n+=t;else{let u=Je(t/r);e&&u>K&&(n+=u,t%=r),n+="\\frac{",n+=t,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(Je(e/t));let n=e%t;e=t,t=n}while(e!==ie);return r},simplify:function(e){const t=BigInt(1/(e||.001)|0),r=this.abs(),n=r.toContinued();for(let u=1;u<n.length;u++){let i=we(n[u-1],ie);for(let a=u-2;a>=0;a--)i=i.inverse().add(n[a]);let o=i.sub(r);if(o.n*t<o.d)return i.mul(this.s)}return this}};var Po="Fraction",qo=[],$o=fe(Po,qo,()=>(Object.defineProperty(We,"name",{value:"Fraction"}),We.prototype.constructor=We,We.prototype.type="Fraction",We.prototype.isFraction=!0,We.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},We.fromJSON=function(e){return new We(e)},We),{isClass:!0}),Uo="Matrix",Lo=[],ko=fe(Uo,Lo,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function dr(e,t,r){var n=e.constructor,u=new n(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Te(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function Zo(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:u}=wn(t);switch(r){case"fixed":return jo(e,n);case"exponential":return jr(e,n);case"engineering":return Vo(e,n);case"bin":return dr(e,2,u);case"oct":return dr(e,8,u);case"hex":return dr(e,16,u);case"auto":{var i=Hr(t==null?void 0:t.lowerExp,-3),o=Hr(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var a,c=e.toSignificantDigits(n),l=c.e;return l>=i&&l<o?a=c.toFixed():a=jr(e,n),a.replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],h=arguments[4];return s!=="."?s+h:h})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Vo(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-n)),i=u.toPrecision(t);if(i.includes("e")){var o=e.constructor;i=new o(i).toFixed()}return i+"e"+(r>=0?"+":"")+n.toString()}function jr(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function jo(e,t){return e.toFixed(t)}function Hr(e,t){return ge(e)?e:Me(e)?e.toNumber():t}function Be(e,t){var r=Ho(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function Ho(e,t){if(typeof e=="number")return vr(e,t);if(Me(e))return Zo(e,t);if(Wo(e))return!t||t.fraction!=="decimal"?"".concat(e.s*e.n,"/").concat(e.d):e.toString();if(Array.isArray(e))return On(e,t);if(ut(e))return Wr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>Wr(n)+": "+Be(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function Wr(e){for(var t=String(e),r="",n=0;n<t.length;){var u=t.charAt(n);r+=u in Yr?Yr[u]:u,n++}return'"'+r+'"'}var Yr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function On(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,u=0;u<n;u++)u!==0&&(r+=", "),r+=On(e[u],t);return r+="]",r}else return Be(e,t)}function Wo(e){return e&&typeof e=="object"&&typeof e.s=="bigint"&&typeof e.n=="bigint"&&typeof e.d=="bigint"||!1}function Ee(e,t,r){if(!(this instanceof Ee))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Ee.prototype=new RangeError;Ee.prototype.constructor=RangeError;Ee.prototype.name="DimensionError";Ee.prototype.isDimensionError=!0;function Tt(e,t,r){if(!(this instanceof Tt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Tt.prototype=new RangeError;Tt.prototype.constructor=RangeError;Tt.prototype.name="IndexError";Tt.prototype.isIndexError=!0;function ke(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function Rn(e,t,r){var n,u=e.length;if(u!==t[r])throw new Ee(u,t[r]);if(r<t.length-1){var i=r+1;for(n=0;n<u;n++){var o=e[n];if(!Array.isArray(o))throw new Ee(t.length-1,t.length,"<");Rn(e[n],t,i)}}else for(n=0;n<u;n++)if(Array.isArray(e[n]))throw new Ee(t.length+1,t.length,">")}function Gr(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new Ee(e.length,0)}else Rn(e,t,0)}function Ae(e,t){if(e!==void 0){if(!ge(e)||!Te(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Tt(e,t)}}function Er(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!ge(u)||!Te(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Be(t)+")")}),(ge(e)||Me(e))&&(e=[e]);var n=r!==void 0?r:0;return Cr(e,t,0,n),e}function Cr(e,t,r,n){var u,i,o=e.length,a=t[r],c=Math.min(o,a);if(e.length=a,r<t.length-1){var l=r+1;for(u=0;u<c;u++)i=e[u],Array.isArray(i)||(i=[i],e[u]=i),Cr(i,t,l,n);for(u=c;u<a;u++)i=[],e[u]=i,Cr(i,t,l,n)}else{for(u=0;u<c;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=c;u<a;u++)e[u]=n}}function zn(e,t){var r=Go(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Ee(0,n,"!=");t=Nr(t,n);var u=Pn(t);if(n!==u)throw new Ee(u,n,"!=");try{return Yo(r,t)}catch(i){throw i instanceof Ee?new Ee(u,n,"!="):i}}function Nr(e,t){var r=Pn(e),n=e.slice(),u=-1,i=e.indexOf(u),o=e.indexOf(u,i+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var a=i>=0,c=t%r===0;if(a)if(c)n[i]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function Pn(e){return e.reduce((t,r)=>t*r,1)}function Yo(e,t){for(var r=e,n,u=t.length-1;u>0;u--){var i=t[u];n=[];for(var o=r.length/i,a=0;a<o;a++)n.push(r.slice(a*i,(a+1)*i));r=n}return r}function qn(e,t,r,n){var u=n||ke(e);if(r)for(var i=0;i<r;i++)e=[e],u.unshift(1);for(e=$n(e,t,0);u.length<t;)u.push(1);return e}function $n(e,t,r){var n,u;if(Array.isArray(e)){var i=r+1;for(n=0,u=e.length;n<u;n++)e[n]=$n(e[n],t,i)}else for(var o=r;o<t;o++)e=[e];return e}function Go(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function Mr(e,t){for(var r,n=0,u=0;u<e.length;u++){var i=e[u],o=Array.isArray(i);if(u===0&&o&&(n=i.length),o&&i.length!==n)return;var a=o?Mr(i,t):t(i);if(r===void 0)r=a;else if(r!==a)return"mixed"}return r}function Un(e,t,r,n){if(n<r){if(e.length!==t.length)throw new Ee(e.length,t.length);for(var u=[],i=0;i<e.length;i++)u[i]=Un(e[i],t[i],r,n+1);return u}else return e.concat(t)}function Jo(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return Un(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Xo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(D=>D.length),u=Math.max(...n),i=new Array(u).fill(null),o=0;o<t.length;o++)for(var a=t[o],c=n[o],l=0;l<c;l++){var s=u-c+l;a[l]>i[s]&&(i[s]=a[l])}for(var h=0;h<t.length;h++)Ln(t[h],i);return i}function Ln(e,t){for(var r=t.length,n=e.length,u=0;u<n;u++){var i=r-n+u;if(e[u]<t[i]&&e[u]>1||e[u]>t[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[u]," to size ").concat(t[i]))}}function Jr(e,t){var r=ke(e);if(Nt(r,t))return e;Ln(r,t);var n=Xo(r,t),u=n.length,i=[...Array(u-r.length).fill(1),...r],o=Qo(e);r.length<u&&(o=zn(o,i),r=ke(o));for(var a=0;a<u;a++)r[a]<n[a]&&(o=Ko(o,n[a],a),r=ke(o));return o}function Ko(e,t,r){return Jo(...Array(t).fill(e),r)}function kn(e,t){if(!Array.isArray(e))throw new Error("Array expected");var r=ke(e);if(t.length!==r.length)throw new Ee(t.length,r.length);for(var n=0;n<t.length;n++)Ae(t[n],r[n]);return t.reduce((u,i)=>u[i],e)}function Qo(e){return dn([],e)}function tr(e,t,r){if(Jt.isTypedFunction(e)){var n=(t.isMatrix?t.size():ke(t)).map(()=>0),u=t.isMatrix?t.get(n):kn(t,n),i=Object.keys(e.signatures).length===1,o=ea(e,u,n,t),a=i?Object.values(e.signatures)[0]:e;return o>=1&&o<=3?function(){for(var c=arguments.length,l=new Array(c),s=0;s<c;s++)l[s]=arguments[s];return Xr(a,l.slice(0,o),r,e.name)}:function(){for(var c=arguments.length,l=new Array(c),s=0;s<c;s++)l[s]=arguments[s];return Xr(a,l,r,e.name)}}return e}function ea(e,t,r,n){for(var u=[t,r,n],i=3;i>0;i--){var o=u.slice(0,i);if(Jt.resolve(e,o)!==null)return i}}function Xr(e,t,r,n){try{return e(...t)}catch(u){ta(u,t,r,n)}}function ta(e,t,r,n){var u;if(e instanceof TypeError&&((u=e.data)===null||u===void 0?void 0:u.category)==="wrongType"){var i=[];throw i.push("value: ".concat(lt(t[0]))),t.length>=2&&i.push("index: ".concat(lt(t[1]))),t.length>=3&&i.push("array: ".concat(lt(t[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(t[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(e.message))}var ra="DenseMatrix",na=["Matrix"],ua=fe(ra,na,e=>{var{Matrix:t}=e;function r(s,h){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!ut(h))throw new Error("Invalid datatype: "+h);if(xe(s))s.type==="DenseMatrix"?(this._data=ye(s._data),this._size=ye(s._size),this._datatype=h||s._datatype):(this._data=s.toArray(),this._size=s.size(),this._datatype=h||s._datatype);else if(s&&Ne(s.data)&&Ne(s.size))this._data=s.data,this._size=s.size,Gr(this._data,this._size),this._datatype=h||s.datatype;else if(Ne(s))this._data=l(s),this._size=ke(this._data),Gr(this._data,this._size),this._datatype=h;else{if(s)throw new TypeError("Unsupported type of data ("+lt(s)+")");this._data=[],this._size=[0],this._datatype=h}}r.prototype=new t,r.prototype.createDenseMatrix=function(s,h){return new r(s,h)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Mr(this._data,lt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(s,h){return new r(s,h)},r.prototype.subset=function(s,h,D){switch(arguments.length){case 1:return n(this,s);case 2:case 3:return i(this,s,h,D);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(s){return kn(this._data,s)},r.prototype.set=function(s,h,D){if(!Ne(s))throw new TypeError("Array expected");if(s.length<this._size.length)throw new Ee(s.length,this._size.length,"<");var F,y,f,v=s.map(function(b){return b+1});c(this,v,D);var w=this._data;for(F=0,y=s.length-1;F<y;F++)f=s[F],Ae(f,w.length),w=w[f];return f=s[s.length-1],Ae(f,w.length),w[f]=h,this};function n(s,h){if(!Ar(h))throw new TypeError("Invalid index");var D=h.isScalar();if(D)return s.get(h.min());var F=h.size();if(F.length!==s._size.length)throw new Ee(F.length,s._size.length);for(var y=h.min(),f=h.max(),v=0,w=s._size.length;v<w;v++)Ae(y[v],s._size[v]),Ae(f[v],s._size[v]);return new r(u(s._data,h,F.length,0),s._datatype)}function u(s,h,D,F){var y=F===D-1,f=h.dimension(F);return y?f.map(function(v){return Ae(v,s.length),s[v]}).valueOf():f.map(function(v){Ae(v,s.length);var w=s[v];return u(w,h,D,F+1)}).valueOf()}function i(s,h,D,F){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var y=h.size(),f=h.isScalar(),v;if(xe(D)?(v=D.size(),D=D.valueOf()):v=ke(D),f){if(v.length!==0)throw new TypeError("Scalar expected");s.set(h.min(),D,F)}else{if(!Nt(v,y))try{v.length===0?D=Jr([D],y):D=Jr(D,y),v=ke(D)}catch{}if(y.length<s._size.length)throw new Ee(y.length,s._size.length,"<");if(v.length<y.length){for(var w=0,b=0;y[w]===1&&v[w]===1;)w++;for(;y[w]===1;)b++,w++;D=qn(D,y.length,b,v)}if(!Nt(y,v))throw new Ee(y,v,">");var g=h.max().map(function(p){return p+1});c(s,g,F);var N=y.length,m=0;o(s._data,h,D,N,m)}return s}function o(s,h,D,F,y){var f=y===F-1,v=h.dimension(y);f?v.forEach(function(w,b){Ae(w),s[w]=D[b[0]]}):v.forEach(function(w,b){Ae(w),o(s[w],h,D[b[0]],F,y+1)})}r.prototype.resize=function(s,h,D){if(!Yt(s))throw new TypeError("Array or Matrix expected");var F=s.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),y=D?this.clone():this;return a(y,F,h)};function a(s,h,D){if(h.length===0){for(var F=s._data;Ne(F);)F=F[0];return F}return s._size=h.slice(0),s._data=Er(s._data,s._size,D),s}r.prototype.reshape=function(s,h){var D=h?this.clone():this;D._data=zn(D._data,s);var F=D._size.reduce((y,f)=>y*f);return D._size=Nr(s,F),D};function c(s,h,D){for(var F=s._size.slice(0),y=!1;F.length<h.length;)F.push(0),y=!0;for(var f=0,v=h.length;f<v;f++)h[f]>F[f]&&(F[f]=h[f],y=!0);y&&a(s,F,D)}r.prototype.clone=function(){var s=new r({data:ye(this._data),size:ye(this._size),datatype:this._datatype});return s},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(s){var h=this,D=h.size();if(D.length===1){for(var F=0;F<D[0];F++)s(h._data,F,[F]);return}var y=Array(D.length).fill(0),f=Array(D.length-1),v=f.length-1;f[0]=h._data[0];for(var w=0;w<v;w++)f[w+1]=f[w][0];for(y[v]=-1;;){var b=void 0;for(b=v;b>=0;b--){if(y[b]++,y[b]===D[b]){y[b]=0;continue}f[b]=b===0?h._data[y[b]]:f[b-1][y[b]];for(var g=b;g<v;g++)f[g+1]=f[g][0];for(var N=0;N<D[f.length];N++)y[f.length]=N,s(f[v],N,y.slice(0));break}if(b===-1)break}},r.prototype.map=function(s){var h=this,D=new r(h),F=tr(s,h._data,"map");return D._forEach(function(y,f,v){y[f]=F(y[f],v,h)}),D},r.prototype.forEach=function(s){var h=this,D=tr(s,h._data,"map");h._forEach(function(F,y,f){D(F[y],f,h)})},r.prototype[Symbol.iterator]=function*(){var s=function*(D,F){if(Ne(D))for(var y=0;y<D.length;y++)yield*s(D[y],F.concat(y));else yield{value:D,index:F}};yield*s(this._data,[])},r.prototype.rows=function(){var s=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var F of D)s.push(new r([F],this._datatype));return s},r.prototype.columns=function(){var s=this,h=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var F=this._data,y=function(w){var b=F.map(g=>[g[w]]);h.push(new r(b,s._datatype))},f=0;f<D[1];f++)y(f);return h},r.prototype.toArray=function(){return ye(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(s){return Be(this._data,s)},r.prototype.toString=function(){return Be(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(s){if(s){if(Me(s)&&(s=s.toNumber()),!ge(s)||!Te(s))throw new TypeError("The parameter k must be an integer number")}else s=0;for(var h=s>0?s:0,D=s<0?-s:0,F=this._size[0],y=this._size[1],f=Math.min(F-D,y-h),v=[],w=0;w<f;w++)v[w]=this._data[w+D][w+h];return new r({data:v,size:[f],datatype:this._datatype})},r.diagonal=function(s,h,D,F){if(!Ne(s))throw new TypeError("Array expected, size parameter");if(s.length!==2)throw new Error("Only two dimensions matrix are supported");if(s=s.map(function(A){if(Me(A)&&(A=A.toNumber()),!ge(A)||!Te(A)||A<1)throw new Error("Size values must be positive integers");return A}),D){if(Me(D)&&(D=D.toNumber()),!ge(D)||!Te(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var y=D>0?D:0,f=D<0?-D:0,v=s[0],w=s[1],b=Math.min(v-f,w-y),g;if(Ne(h)){if(h.length!==b)throw new Error("Invalid value array length");g=function(E){return h[E]}}else if(xe(h)){var N=h.size();if(N.length!==1||N[0]!==b)throw new Error("Invalid matrix length");g=function(E){return h.get([E])}}else g=function(){return h};F||(F=Me(g(0))?g(0).mul(0):0);var m=[];if(s.length>0){m=Er(m,s,F);for(var p=0;p<b;p++)m[p+f][p+y]=g(p)}return new r({data:m,size:[v,w]})},r.fromJSON=function(s){return new r(s)},r.prototype.swapRows=function(s,h){if(!ge(s)||!Te(s)||!ge(h)||!Te(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ae(s,this._size[0]),Ae(h,this._size[0]),r._swapRows(s,h,this._data),this},r._swapRows=function(s,h,D){var F=D[s];D[s]=D[h],D[h]=F};function l(s){return xe(s)?l(s.valueOf()):Ne(s)?s.map(l):s}return r},{isClass:!0});function dt(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return dt(n,t)}):t(e)}var Zn="number",Sr="number, number";function Vn(e){return Math.abs(e)}Vn.signature=Zn;function jn(e,t){return e+t}jn.signature=Sr;function Hn(e,t){return e-t}Hn.signature=Sr;function Wn(e,t){return e*t}Wn.signature=Sr;function Yn(e){return-e}Yn.signature=Zn;function ia(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var Kr="isZero",oa=["typed","equalScalar"],aa=fe(Kr,oa,e=>{var{typed:t,equalScalar:r}=e;return t(Kr,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>u=>t.find(n,u.valueType())(u.value)),"Array | Matrix":t.referToSelf(n=>u=>dt(u,n))})});function sa(e,t,r,n){return Xt(e.re,t.re,r,n)&&Xt(e.im,t.im,r,n)}var fa=fe("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),u.valueType()])(n.value,u.value)})}}),rr="equalScalar",ca=["typed","config"],la=fe(rr,ca,e=>{var{typed:t,config:r}=e,n=fa({typed:t});return t(rr,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return Xt(i,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||ia(i,o,r.relTol,r.absTol)},"bigint, bigint":function(i,o){return i===o},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return sa(i,o,r.relTol,r.absTol)}},n)});fe(rr,["typed","config"],e=>{var{typed:t,config:r}=e;return t(rr,{"number, number":function(u,i){return Xt(u,i,r.relTol,r.absTol)}})});var ha="SparseMatrix",Da=["typed","equalScalar","Matrix"],da=fe(ha,Da,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function u(f,v){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!ut(v))throw new Error("Invalid datatype: "+v);if(xe(f))i(this,f,v);else if(f&&Ne(f.index)&&Ne(f.ptr)&&Ne(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=v||f.datatype;else if(Ne(f))o(this,f,v);else{if(f)throw new TypeError("Unsupported type of data ("+lt(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function i(f,v,w){v.type==="SparseMatrix"?(f._values=v._values?ye(v._values):void 0,f._index=ye(v._index),f._ptr=ye(v._ptr),f._size=ye(v._size),f._datatype=w||v._datatype):o(f,v.valueOf(),w||v._datatype)}function o(f,v,w){f._values=[],f._index=[],f._ptr=[],f._datatype=w;var b=v.length,g=0,N=r,m=0;if(ut(w)&&(N=t.find(r,[w,w])||r,m=t.convert(0,w)),b>0){var p=0;do{f._ptr.push(f._index.length);for(var A=0;A<b;A++){var E=v[A];if(Ne(E)){if(p===0&&g<E.length&&(g=E.length),p<E.length){var B=E[p];N(B,m)||(f._values.push(B),f._index.push(A))}}else p===0&&g<1&&(g=1),N(E,m)||(f._values.push(E),f._index.push(A))}p++}while(p<g)}f._ptr.push(f._index.length),f._size=[b,g]}u.prototype=new n,u.prototype.createSparseMatrix=function(f,v){return new u(f,v)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return Mr(this._values,lt)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(f,v){return new u(f,v)},u.prototype.density=function(){var f=this._size[0],v=this._size[1];return f!==0&&v!==0?this._index.length/(f*v):0},u.prototype.subset=function(f,v,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return a(this,f);case 2:case 3:return c(this,f,v,w);default:throw new SyntaxError("Wrong number of arguments")}};function a(f,v){if(!Ar(v))throw new TypeError("Invalid index");var w=v.isScalar();if(w)return f.get(v.min());var b=v.size();if(b.length!==f._size.length)throw new Ee(b.length,f._size.length);var g,N,m,p,A=v.min(),E=v.max();for(g=0,N=f._size.length;g<N;g++)Ae(A[g],f._size[g]),Ae(E[g],f._size[g]);var B=f._values,I=f._index,M=f._ptr,T=v.dimension(0),L=v.dimension(1),k=[],V=[];T.forEach(function(ee,te){V[ee]=te[0],k[ee]=!0});var q=B?[]:void 0,X=[],J=[];return L.forEach(function(ee){for(J.push(X.length),m=M[ee],p=M[ee+1];m<p;m++)g=I[m],k[g]===!0&&(X.push(V[g]),q&&q.push(B[m]))}),J.push(X.length),new u({values:q,index:X,ptr:J,size:b,datatype:f._datatype})}function c(f,v,w,b){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var g=v.size(),N=v.isScalar(),m;if(xe(w)?(m=w.size(),w=w.toArray()):m=ke(w),N){if(m.length!==0)throw new TypeError("Scalar expected");f.set(v.min(),w,b)}else{if(g.length!==1&&g.length!==2)throw new Ee(g.length,f._size.length,"<");if(m.length<g.length){for(var p=0,A=0;g[p]===1&&m[p]===1;)p++;for(;g[p]===1;)A++,p++;w=qn(w,g.length,A,m)}if(!Nt(g,m))throw new Ee(g,m,">");if(g.length===1){var E=v.dimension(0);E.forEach(function(M,T){Ae(M),f.set([M,0],w[T[0]],b)})}else{var B=v.dimension(0),I=v.dimension(1);B.forEach(function(M,T){Ae(M),I.forEach(function(L,k){Ae(L),f.set([M,L],w[T[0]][k[0]],b)})})}}return f}u.prototype.get=function(f){if(!Ne(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Ee(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=f[0],w=f[1];Ae(v,this._size[0]),Ae(w,this._size[1]);var b=l(v,this._ptr[w],this._ptr[w+1],this._index);return b<this._ptr[w+1]&&this._index[b]===v?this._values[b]:0},u.prototype.set=function(f,v,w){if(!Ne(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Ee(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var b=f[0],g=f[1],N=this._size[0],m=this._size[1],p=r,A=0;ut(this._datatype)&&(p=t.find(r,[this._datatype,this._datatype])||r,A=t.convert(0,this._datatype)),(b>N-1||g>m-1)&&(D(this,Math.max(b+1,N),Math.max(g+1,m),w),N=this._size[0],m=this._size[1]),Ae(b,N),Ae(g,m);var E=l(b,this._ptr[g],this._ptr[g+1],this._index);return E<this._ptr[g+1]&&this._index[E]===b?p(v,A)?s(E,g,this._values,this._index,this._ptr):this._values[E]=v:p(v,A)||h(E,b,g,v,this._values,this._index,this._ptr),this};function l(f,v,w,b){if(w-v===0)return w;for(var g=v;g<w;g++)if(b[g]===f)return g;return v}function s(f,v,w,b,g){w.splice(f,1),b.splice(f,1);for(var N=v+1;N<g.length;N++)g[N]--}function h(f,v,w,b,g,N,m){g.splice(f,0,b),N.splice(f,0,v);for(var p=w+1;p<m.length;p++)m[p]++}u.prototype.resize=function(f,v,w){if(!Yt(f))throw new TypeError("Array or Matrix expected");var b=f.valueOf().map(N=>Array.isArray(N)&&N.length===1?N[0]:N);if(b.length!==2)throw new Error("Only two dimensions matrix are supported");b.forEach(function(N){if(!ge(N)||!Te(N)||N<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Be(b)+")")});var g=w?this.clone():this;return D(g,b[0],b[1],v)};function D(f,v,w,b){var g=b||0,N=r,m=0;ut(f._datatype)&&(N=t.find(r,[f._datatype,f._datatype])||r,m=t.convert(0,f._datatype),g=t.convert(g,f._datatype));var p=!N(g,m),A=f._size[0],E=f._size[1],B,I,M;if(w>E){for(I=E;I<w;I++)if(f._ptr[I]=f._values.length,p)for(B=0;B<A;B++)f._values.push(g),f._index.push(B);f._ptr[w]=f._values.length}else w<E&&(f._ptr.splice(w+1,E-w),f._values.splice(f._ptr[w],f._values.length),f._index.splice(f._ptr[w],f._index.length));if(E=w,v>A){if(p){var T=0;for(I=0;I<E;I++){f._ptr[I]=f._ptr[I]+T,M=f._ptr[I+1]+T;var L=0;for(B=A;B<v;B++,L++)f._values.splice(M+L,0,g),f._index.splice(M+L,0,B),T++}f._ptr[E]=f._values.length}}else if(v<A){var k=0;for(I=0;I<E;I++){f._ptr[I]=f._ptr[I]-k;var V=f._ptr[I],q=f._ptr[I+1]-k;for(M=V;M<q;M++)B=f._index[M],B>v-1&&(f._values.splice(M,1),f._index.splice(M,1),k++)}f._ptr[I]=f._values.length}return f._size[0]=v,f._size[1]=w,f}u.prototype.reshape=function(f,v){if(!Ne(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(ee){if(!ge(ee)||!Te(ee)||ee<=-2||ee===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Be(f)+")")});var w=this._size[0]*this._size[1];f=Nr(f,w);var b=f[0]*f[1];if(w!==b)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=v?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return g;for(var N=[],m=0;m<g._ptr.length;m++)for(var p=0;p<g._ptr[m+1]-g._ptr[m];p++)N.push(m);for(var A=g._values.slice(),E=g._index.slice(),B=0;B<g._index.length;B++){var I=E[B],M=N[B],T=I*g._size[1]+M;N[B]=T%f[1],E[B]=Math.floor(T/f[1])}g._values.length=0,g._index.length=0,g._ptr.length=f[1]+1,g._size=f.slice();for(var L=0;L<g._ptr.length;L++)g._ptr[L]=0;for(var k=0;k<A.length;k++){var V=E[k],q=N[k],X=A[k],J=l(V,g._ptr[q],g._ptr[q+1],g._index);h(J,V,q,X,g._values,g._index,g._ptr)}return g},u.prototype.clone=function(){var f=new u({values:this._values?ye(this._values):void 0,index:ye(this._index),ptr:ye(this._ptr),size:ye(this._size),datatype:this._datatype});return f},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(f,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,b=this._size[0],g=this._size[1],N=tr(f,w,"map"),m=function(A,E,B){return N(A,[E,B],w)};return F(this,0,b-1,0,g-1,m,v)};function F(f,v,w,b,g,N,m){var p=[],A=[],E=[],B=r,I=0;ut(f._datatype)&&(B=t.find(r,[f._datatype,f._datatype])||r,I=t.convert(0,f._datatype));for(var M=function(oe,se,ve){var me=N(oe,se,ve);B(me,I)||(p.push(me),A.push(se))},T=b;T<=g;T++){E.push(p.length);var L=f._ptr[T],k=f._ptr[T+1];if(m)for(var V=L;V<k;V++){var q=f._index[V];q>=v&&q<=w&&M(f._values[V],q-v,T-b)}else{for(var X={},J=L;J<k;J++){var ee=f._index[J];X[ee]=f._values[J]}for(var te=v;te<=w;te++){var ae=te in X?X[te]:0;M(ae,te-v,T-b)}}}return E.push(p.length),new u({values:p,index:A,ptr:E,size:[w-v+1,g-b+1]})}u.prototype.forEach=function(f,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,b=this._size[0],g=this._size[1],N=tr(f,w,"forEach"),m=0;m<g;m++){var p=this._ptr[m],A=this._ptr[m+1];if(v)for(var E=p;E<A;E++){var B=this._index[E];N(this._values[E],[B,m],w)}else{for(var I={},M=p;M<A;M++){var T=this._index[M];I[T]=this._values[M]}for(var L=0;L<b;L++){var k=L in I?I[L]:0;N(k,[L,m],w)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],v=0;v<f;v++)for(var w=this._ptr[v],b=this._ptr[v+1],g=w;g<b;g++){var N=this._index[g];yield{value:this._values[g],index:[N,v]}}},u.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(f,v,w,b,g){var N=b[0],m=b[1],p=[],A,E;for(A=0;A<N;A++)for(p[A]=[],E=0;E<m;E++)p[A][E]=0;for(E=0;E<m;E++)for(var B=w[E],I=w[E+1],M=B;M<I;M++)A=v[M],p[A][E]=f?g?ye(f[M]):f[M]:1;return p}return u.prototype.format=function(f){for(var v=this._size[0],w=this._size[1],b=this.density(),g="Sparse Matrix ["+Be(v,f)+" x "+Be(w,f)+"] density: "+Be(b,f)+`
`,N=0;N<w;N++)for(var m=this._ptr[N],p=this._ptr[N+1],A=m;A<p;A++){var E=this._index[A];g+=`
    (`+Be(E,f)+", "+Be(N,f)+") ==> "+(this._values?Be(this._values[A],f):"X")}return g},u.prototype.toString=function(){return Be(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(f){if(f){if(Me(f)&&(f=f.toNumber()),!ge(f)||!Te(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var v=f>0?f:0,w=f<0?-f:0,b=this._size[0],g=this._size[1],N=Math.min(b-w,g-v),m=[],p=[],A=[];A[0]=0;for(var E=v;E<g&&m.length<N;E++)for(var B=this._ptr[E],I=this._ptr[E+1],M=B;M<I;M++){var T=this._index[M];if(T===E-v+w){m.push(this._values[M]),p[m.length-1]=T-w;break}}return A.push(m.length),new u({values:m,index:p,ptr:A,size:[N,1]})},u.fromJSON=function(f){return new u(f)},u.diagonal=function(f,v,w,b,g){if(!Ne(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(ee){if(Me(ee)&&(ee=ee.toNumber()),!ge(ee)||!Te(ee)||ee<1)throw new Error("Size values must be positive integers");return ee}),w){if(Me(w)&&(w=w.toNumber()),!ge(w)||!Te(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var N=r,m=0;ut(g)&&(N=t.find(r,[g,g])||r,m=t.convert(0,g));var p=w>0?w:0,A=w<0?-w:0,E=f[0],B=f[1],I=Math.min(E-A,B-p),M;if(Ne(v)){if(v.length!==I)throw new Error("Invalid value array length");M=function(te){return v[te]}}else if(xe(v)){var T=v.size();if(T.length!==1||T[0]!==I)throw new Error("Invalid matrix length");M=function(te){return v.get([te])}}else M=function(){return v};for(var L=[],k=[],V=[],q=0;q<B;q++){V.push(L.length);var X=q-p;if(X>=0&&X<I){var J=M(X);N(J,m)||(k.push(X+A),L.push(J))}}return V.push(L.length),new u({values:L,index:k,ptr:V,size:[E,B]})},u.prototype.swapRows=function(f,v){if(!ge(f)||!Te(f)||!ge(v)||!Te(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ae(f,this._size[0]),Ae(v,this._size[0]),u._swapRows(f,v,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(f,v,w,b,g){for(var N=b[f],m=b[f+1],p=N;p<m;p++)g(w[p],v[p])},u._swapRows=function(f,v,w,b,g,N){for(var m=0;m<w;m++){var p=N[m],A=N[m+1],E=l(f,p,A,g),B=l(v,p,A,g);if(E<A&&B<A&&g[E]===f&&g[B]===v){if(b){var I=b[E];b[E]=b[B],b[B]=I}continue}if(E<A&&g[E]===f&&(B>=A||g[B]!==v)){var M=b?b[E]:void 0;g.splice(B,0,v),b&&b.splice(B,0,M),g.splice(B<=E?E+1:E,1),b&&b.splice(B<=E?E+1:E,1);continue}if(B<A&&g[B]===v&&(E>=A||g[E]!==f)){var T=b?b[B]:void 0;g.splice(E,0,f),b&&b.splice(E,0,T),g.splice(E<=B?B+1:B,1),b&&b.splice(E<=B?B+1:B,1)}}},u},{isClass:!0}),pa="number",va=["typed"];function ma(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],u=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:u}}else return null}function ga(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var u=parseInt(e.fractionalPart[n],e.radix);r+=u/Math.pow(e.radix,n+1)}var i=t+r;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}var Fa=fe(pa,va,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(u){return u},string:function(u){if(u==="NaN")return NaN;var i=ma(u);if(i)return ga(i);var o=0,a=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),u=a[1]);var c=Number(u);if(isNaN(c))throw new SyntaxError('String "'+u+'" is not a valid number');if(a){if(c>2**o-1)throw new SyntaxError('String "'.concat(u,'" is out of range'));c>=2**(o-1)&&(c=c-2**o)}return c},BigNumber:function(u){return u.toNumber()},bigint:function(u){return Number(u)},Fraction:function(u){return u.valueOf()},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),null:function(u){return 0},"Unit, string | Unit":function(u,i){return u.toNumber(i)},"Array | Matrix":t.referToSelf(n=>u=>dt(u,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),wa="bignumber",ya=["typed","BigNumber"],Ea=fe(wa,ya,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(u){return new r(u+"")},string:function(u){var i=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var o=i[2],a=r(i[1]),c=new r(2).pow(Number(o));if(a.gt(c.sub(1)))throw new SyntaxError('String "'.concat(u,'" is out of range'));var l=new r(2).pow(Number(o)-1);return a.gte(l)?a.sub(c):a}return new r(u)},BigNumber:function(u){return u},bigint:function(u){return new r(u.toString())},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Fraction:function(u){return new r(String(u.n)).div(String(u.d)).times(String(u.s))},null:function(u){return new r(0)},"Array | Matrix":t.referToSelf(n=>u=>dt(u,n))})}),Ca="fraction",Aa=["typed","Fraction"],Ba=fe(Ca,Aa,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(u){if(!isFinite(u)||isNaN(u))throw new Error(u+" cannot be represented as a fraction");return new r(u)},string:function(u){return new r(u)},"number, number":function(u,i){return new r(u,i)},"bigint, bigint":function(u,i){return new r(u,i)},null:function(u){return new r(0)},BigNumber:function(u){return new r(u.toString())},bigint:function(u){return new r(u.toString())},Fraction:function(u){return u},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Object:function(u){return new r(u)},"Array | Matrix":t.referToSelf(n=>u=>dt(u,n))})}),Qr="matrix",ba=["typed","Matrix","DenseMatrix","SparseMatrix"],_a=fe(Qr,ba,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:u}=e;return t(Qr,{"":function(){return i([])},string:function(a){return i([],a)},"string, string":function(a,c){return i([],a,c)},Array:function(a){return i(a)},Matrix:function(a){return i(a,a.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(o,a,c){if(a==="dense"||a==="default"||a===void 0)return new n(o,c);if(a==="sparse")return new u(o,c);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),en="unaryMinus",Na=["typed"],Ma=fe(en,Na,e=>{var{typed:t}=e;return t(en,{number:Yn,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var u=n.clone();return u.value=t.find(r,u.valueType())(n.value),u}),"Array | Matrix":t.referToSelf(r=>n=>dt(n,r))})}),tn="abs",Sa=["typed"],Ta=fe(tn,Sa,e=>{var{typed:t}=e;return t(tn,{number:Vn,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>dt(n,r))})}),rn="addScalar",xa=["typed"],Ia=fe(rn,xa,e=>{var{typed:t}=e;return t(rn,{"number, number":jn,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"bigint, bigint":function(n,u){return n+u},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),nn="subtractScalar",Oa=["typed"],Ra=fe(nn,Oa,e=>{var{typed:t}=e;return t(nn,{"number, number":Hn,"Complex, Complex":function(n,u){return n.sub(u)},"BigNumber, BigNumber":function(n,u){return n.minus(u)},"bigint, bigint":function(n,u){return n-u},"Fraction, Fraction":function(n,u){return n.sub(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),za="matAlgo11xS0s",Pa=["typed","equalScalar"],qa=fe(za,Pa,e=>{var{typed:t,equalScalar:r}=e;return function(u,i,o,a){var c=u._values,l=u._index,s=u._ptr,h=u._size,D=u._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var F=h[0],y=h[1],f,v=r,w=0,b=o;typeof D=="string"&&(f=D,v=t.find(r,[f,f]),w=t.convert(0,f),i=t.convert(i,f),b=t.find(o,[f,f]));for(var g=[],N=[],m=[],p=0;p<y;p++){m[p]=N.length;for(var A=s[p],E=s[p+1],B=A;B<E;B++){var I=l[B],M=a?b(i,c[B]):b(c[B],i);v(M,w)||(N.push(I),g.push(M))}}return m[y]=N.length,u.createSparseMatrix({values:g,index:N,ptr:m,size:[F,y],datatype:f})}}),$a="matAlgo14xDs",Ua=["typed"],La=fe($a,Ua,e=>{var{typed:t}=e;return function(u,i,o,a){var c=u._data,l=u._size,s=u._datatype,h,D=o;typeof s=="string"&&(h=s,i=t.convert(i,h),D=t.find(o,[h,h]));var F=l.length>0?r(D,0,l,l[0],c,i,a):[];return u.createDenseMatrix({data:F,size:ye(l),datatype:h})};function r(n,u,i,o,a,c,l){var s=[];if(u===i.length-1)for(var h=0;h<o;h++)s[h]=l?n(c,a[h]):n(a[h],c);else for(var D=0;D<o;D++)s[D]=r(n,u+1,i,i[u+1],a[D],c,l);return s}}),ka="multiplyScalar",Za=["typed"],Va=fe(ka,Za,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":Wn,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"bigint, bigint":function(n,u){return n*u},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),un="multiply",ja=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Ha=fe(un,ja,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:u,equalScalar:i,dot:o}=e,a=qa({typed:t,equalScalar:i}),c=La({typed:t});function l(m,p){switch(m.length){case 1:switch(p.length){case 1:if(m[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(m[0]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+m[0]+") must match Matrix rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;case 2:switch(p.length){case 1:if(m[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+m[1]+") must match Vector length ("+p[0]+")");break;case 2:if(m[1]!==p[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+m[1]+") must match Matrix B rows ("+p[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+p.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+m.length+" dimensions)")}}function s(m,p,A){if(A===0)throw new Error("Cannot multiply two empty vectors");return o(m,p)}function h(m,p){if(p.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return D(m,p)}function D(m,p){var A=m._data,E=m._size,B=m._datatype||m.getDataType(),I=p._data,M=p._size,T=p._datatype||p.getDataType(),L=E[0],k=M[1],V,q=n,X=u;B&&T&&B===T&&typeof B=="string"&&B!=="mixed"&&(V=B,q=t.find(n,[V,V]),X=t.find(u,[V,V]));for(var J=[],ee=0;ee<k;ee++){for(var te=X(A[0],I[0][ee]),ae=1;ae<L;ae++)te=q(te,X(A[ae],I[ae][ee]));J[ee]=te}return m.createDenseMatrix({data:J,size:[k],datatype:B===m._datatype&&T===p._datatype?V:void 0})}var F=t("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":b}),y=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":N});function f(m,p){var A=m._data,E=m._size,B=m._datatype||m.getDataType(),I=p._data,M=p._datatype||p.getDataType(),T=E[0],L=E[1],k,V=n,q=u;B&&M&&B===M&&typeof B=="string"&&B!=="mixed"&&(k=B,V=t.find(n,[k,k]),q=t.find(u,[k,k]));for(var X=[],J=0;J<T;J++){for(var ee=A[J],te=q(ee[0],I[0]),ae=1;ae<L;ae++)te=V(te,q(ee[ae],I[ae]));X[J]=te}return m.createDenseMatrix({data:X,size:[T],datatype:B===m._datatype&&M===p._datatype?k:void 0})}function v(m,p){var A=m._data,E=m._size,B=m._datatype||m.getDataType(),I=p._data,M=p._size,T=p._datatype||p.getDataType(),L=E[0],k=E[1],V=M[1],q,X=n,J=u;B&&T&&B===T&&typeof B=="string"&&B!=="mixed"&&B!=="mixed"&&(q=B,X=t.find(n,[q,q]),J=t.find(u,[q,q]));for(var ee=[],te=0;te<L;te++){var ae=A[te];ee[te]=[];for(var W=0;W<V;W++){for(var oe=J(ae[0],I[0][W]),se=1;se<k;se++)oe=X(oe,J(ae[se],I[se][W]));ee[te][W]=oe}}return m.createDenseMatrix({data:ee,size:[L,V],datatype:B===m._datatype&&T===p._datatype?q:void 0})}function w(m,p){var A=m._data,E=m._size,B=m._datatype||m.getDataType(),I=p._values,M=p._index,T=p._ptr,L=p._size,k=p._datatype||p._data===void 0?p._datatype:p.getDataType();if(!I)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=E[0],q=L[1],X,J=n,ee=u,te=i,ae=0;B&&k&&B===k&&typeof B=="string"&&B!=="mixed"&&(X=B,J=t.find(n,[X,X]),ee=t.find(u,[X,X]),te=t.find(i,[X,X]),ae=t.convert(0,X));for(var W=[],oe=[],se=[],ve=p.createSparseMatrix({values:W,index:oe,ptr:se,size:[V,q],datatype:B===m._datatype&&k===p._datatype?X:void 0}),me=0;me<q;me++){se[me]=oe.length;var le=T[me],G=T[me+1];if(G>le)for(var Y=0,ne=0;ne<V;ne++){for(var Ce=ne+1,Fe=void 0,De=le;De<G;De++){var Ie=M[De];Y!==Ce?(Fe=ee(A[ne][Ie],I[De]),Y=Ce):Fe=J(Fe,ee(A[ne][Ie],I[De]))}Y===Ce&&!te(Fe,ae)&&(oe.push(ne),W.push(Fe))}}return se[q]=oe.length,ve}function b(m,p){var A=m._values,E=m._index,B=m._ptr,I=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=p._data,T=p._datatype||p.getDataType(),L=m._size[0],k=p._size[0],V=[],q=[],X=[],J,ee=n,te=u,ae=i,W=0;I&&T&&I===T&&typeof I=="string"&&I!=="mixed"&&(J=I,ee=t.find(n,[J,J]),te=t.find(u,[J,J]),ae=t.find(i,[J,J]),W=t.convert(0,J));var oe=[],se=[];X[0]=0;for(var ve=0;ve<k;ve++){var me=M[ve];if(!ae(me,W))for(var le=B[ve],G=B[ve+1],Y=le;Y<G;Y++){var ne=E[Y];se[ne]?oe[ne]=ee(oe[ne],te(me,A[Y])):(se[ne]=!0,q.push(ne),oe[ne]=te(me,A[Y]))}}for(var Ce=q.length,Fe=0;Fe<Ce;Fe++){var De=q[Fe];V[Fe]=oe[De]}return X[1]=q.length,m.createSparseMatrix({values:V,index:q,ptr:X,size:[L,1],datatype:I===m._datatype&&T===p._datatype?J:void 0})}function g(m,p){var A=m._values,E=m._index,B=m._ptr,I=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!A)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=p._data,T=p._datatype||p.getDataType(),L=m._size[0],k=p._size[0],V=p._size[1],q,X=n,J=u,ee=i,te=0;I&&T&&I===T&&typeof I=="string"&&I!=="mixed"&&(q=I,X=t.find(n,[q,q]),J=t.find(u,[q,q]),ee=t.find(i,[q,q]),te=t.convert(0,q));for(var ae=[],W=[],oe=[],se=m.createSparseMatrix({values:ae,index:W,ptr:oe,size:[L,V],datatype:I===m._datatype&&T===p._datatype?q:void 0}),ve=[],me=[],le=0;le<V;le++){oe[le]=W.length;for(var G=le+1,Y=0;Y<k;Y++){var ne=M[Y][le];if(!ee(ne,te))for(var Ce=B[Y],Fe=B[Y+1],De=Ce;De<Fe;De++){var Ie=E[De];me[Ie]!==G?(me[Ie]=G,W.push(Ie),ve[Ie]=J(ne,A[De])):ve[Ie]=X(ve[Ie],J(ne,A[De]))}}for(var Ve=oe[le],et=W.length,tt=Ve;tt<et;tt++){var Ft=W[tt];ae[tt]=ve[Ft]}}return oe[V]=W.length,se}function N(m,p){var A=m._values,E=m._index,B=m._ptr,I=m._datatype||m._data===void 0?m._datatype:m.getDataType(),M=p._values,T=p._index,L=p._ptr,k=p._datatype||p._data===void 0?p._datatype:p.getDataType(),V=m._size[0],q=p._size[1],X=A&&M,J,ee=n,te=u;I&&k&&I===k&&typeof I=="string"&&I!=="mixed"&&(J=I,ee=t.find(n,[J,J]),te=t.find(u,[J,J]));for(var ae=X?[]:void 0,W=[],oe=[],se=m.createSparseMatrix({values:ae,index:W,ptr:oe,size:[V,q],datatype:I===m._datatype&&k===p._datatype?J:void 0}),ve=X?[]:void 0,me=[],le,G,Y,ne,Ce,Fe,De,Ie,Ve=0;Ve<q;Ve++){oe[Ve]=W.length;var et=Ve+1;for(Ce=L[Ve],Fe=L[Ve+1],ne=Ce;ne<Fe;ne++)if(Ie=T[ne],X)for(G=B[Ie],Y=B[Ie+1],le=G;le<Y;le++)De=E[le],me[De]!==et?(me[De]=et,W.push(De),ve[De]=te(M[ne],A[le])):ve[De]=ee(ve[De],te(M[ne],A[le]));else for(G=B[Ie],Y=B[Ie+1],le=G;le<Y;le++)De=E[le],me[De]!==et&&(me[De]=et,W.push(De));if(X)for(var tt=oe[Ve],Ft=W.length,wt=tt;wt<Ft;wt++){var fr=W[wt];ae[wt]=ve[fr]}}return oe[q]=W.length,se}return t(un,u,{"Array, Array":t.referTo("Matrix, Matrix",m=>(p,A)=>{l(ke(p),ke(A));var E=m(r(p),r(A));return xe(E)?E.valueOf():E}),"Matrix, Matrix":function(p,A){var E=p.size(),B=A.size();return l(E,B),E.length===1?B.length===1?s(p,A,E[0]):h(p,A):B.length===1?F(p,A):y(p,A)},"Matrix, Array":t.referTo("Matrix,Matrix",m=>(p,A)=>m(p,r(A))),"Array, Matrix":t.referToSelf(m=>(p,A)=>m(r(p,A.storage()),A)),"SparseMatrix, any":function(p,A){return a(p,A,u,!1)},"DenseMatrix, any":function(p,A){return c(p,A,u,!1)},"any, SparseMatrix":function(p,A){return a(A,p,u,!0)},"any, DenseMatrix":function(p,A){return c(A,p,u,!0)},"Array, any":function(p,A){return c(r(p),A,u,!1).valueOf()},"any, Array":function(p,A){return c(r(A),p,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(m=>(p,A,E)=>{for(var B=m(p,A),I=0;I<E.length;I++)B=m(B,E[I]);return B})})}),on="conj",Wa=["typed"],Ya=fe(on,Wa,e=>{var{typed:t}=e;return t(on,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>dt(n,r))})}),an="identity",Ga=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Ja=fe(an,Ga,e=>{var{typed:t,config:r,matrix:n,BigNumber:u,DenseMatrix:i,SparseMatrix:o}=e;return t(an,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(s){return n(s)},"number | BigNumber":function(s){return c(s,s,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(s,h){return c(s,s,h)},"number | BigNumber, number | BigNumber":function(s,h){return c(s,h,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(s,h,D){return c(s,h,D)},Array:function(s){return a(s)},"Array, string":function(s,h){return a(s,h)},Matrix:function(s){return a(s.valueOf(),s.storage())},"Matrix, string":function(s,h){return a(s.valueOf(),h)}});function a(l,s){switch(l.length){case 0:return s?n(s):[];case 1:return c(l[0],l[0],s);case 2:return c(l[0],l[1],s);default:throw new Error("Vector containing two values expected")}}function c(l,s,h){var D=Me(l)||Me(s)?u:null;if(Me(l)&&(l=l.toNumber()),Me(s)&&(s=s.toNumber()),!Te(l)||l<1)throw new Error("Parameters in function identity must be positive integers");if(!Te(s)||s<1)throw new Error("Parameters in function identity must be positive integers");var F=D?new u(1):1,y=D?new D(0):0,f=[l,s];if(h){if(h==="sparse")return o.diagonal(f,F,0,y);if(h==="dense")return i.diagonal(f,F,0,y);throw new TypeError('Unknown matrix type "'.concat(h,'"'))}for(var v=Er([],f,y),w=l<s?l:s,b=0;b<w;b++)v[b][b]=F;return v}});function Xa(){throw new Error('No "bignumber" implementation available')}function Ka(){throw new Error('No "fraction" implementation available')}function Qa(){throw new Error('No "matrix" implementation available')}var sn="size",es=["typed","config","?matrix"],ts=fe(sn,es,e=>{var{typed:t,config:r,matrix:n}=e;return t(sn,{Matrix:function(i){return i.create(i.size(),"number")},Array:ke,string:function(i){return r.matrix==="Array"?[i.length]:n([i.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(i){return r.matrix==="Array"?[]:n?n([],"dense","number"):Qa()}})}),fn="transpose",rs=["typed","matrix"],ns=fe(fn,rs,e=>{var{typed:t,matrix:r}=e;return t(fn,{Array:o=>n(r(o)).valueOf(),Matrix:n,any:ye});function n(o){var a=o.size(),c;switch(a.length){case 1:c=o.clone();break;case 2:{var l=a[0],s=a[1];if(s===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Be(a)+")");switch(o.storage()){case"dense":c=u(o,l,s);break;case"sparse":c=i(o,l,s);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Be(a)+")")}return c}function u(o,a,c){for(var l=o._data,s=[],h,D=0;D<c;D++){h=s[D]=[];for(var F=0;F<a;F++)h[F]=ye(l[F][D])}return o.createDenseMatrix({data:s,size:[c,a],datatype:o._datatype})}function i(o,a,c){for(var l=o._values,s=o._index,h=o._ptr,D=l?[]:void 0,F=[],y=[],f=[],v=0;v<a;v++)f[v]=0;var w,b,g;for(w=0,b=s.length;w<b;w++)f[s[w]]++;for(var N=0,m=0;m<a;m++)y.push(N),N+=f[m],f[m]=y[m];for(y.push(N),g=0;g<c;g++)for(var p=h[g],A=h[g+1],E=p;E<A;E++){var B=f[s[E]]++;F[B]=g,l&&(D[B]=ye(l[E]))}return o.createSparseMatrix({values:D,index:F,ptr:y,size:[c,a],datatype:o._datatype})}}),us="numeric",is=["number","?bignumber","?fraction"],os=fe(us,is,e=>{var{number:t,bignumber:r,fraction:n}=e,u={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:o=>t(o),BigNumber:r?o=>r(o):Xa,bigint:o=>BigInt(o),Fraction:n?o=>n(o):Ka};return function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",l=arguments.length>2?arguments[2]:void 0;if(l!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var s=lt(a);if(!(s in u))throw new TypeError("Cannot convert "+a+' of type "'+s+'"; valid input types are '+Object.keys(u).join(", "));if(!(c in i))throw new TypeError("Cannot convert "+a+' to type "'+c+'"; valid output types are '+Object.keys(i).join(", "));return c===s?a:i[c](a)}}),cn="divideScalar",as=["typed","numeric"],ss=fe(cn,as,e=>{var{typed:t,numeric:r}=e;return t(cn,{"number, number":function(u,i){return u/i},"Complex, Complex":function(u,i){return u.div(i)},"BigNumber, BigNumber":function(u,i){return u.div(i)},"bigint, bigint":function(u,i){return u/i},"Fraction, Fraction":function(u,i){return u.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,u)=>n.divide(u),"number | Fraction | Complex | BigNumber, Unit":(n,u)=>u.divideInto(n)})}),ln="dot",fs=["typed","addScalar","multiplyScalar","conj","size"],cs=fe(ln,fs,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:u,size:i}=e;return t(ln,{"Array | DenseMatrix, Array | DenseMatrix":a,"SparseMatrix, SparseMatrix":c});function o(s,h){var D=l(s),F=l(h),y,f;if(D.length===1)y=D[0];else if(D.length===2&&D[1]===1)y=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(F.length===1)f=F[0];else if(F.length===2&&F[1]===1)f=F[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+F.join(", ")+")");if(y!==f)throw new RangeError("Vectors must have equal length ("+y+" != "+f+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function a(s,h){var D=o(s,h),F=xe(s)?s._data:s,y=xe(s)?s._datatype||s.getDataType():void 0,f=xe(h)?h._data:h,v=xe(h)?h._datatype||h.getDataType():void 0,w=l(s).length===2,b=l(h).length===2,g=r,N=n;if(y&&v&&y===v&&typeof y=="string"&&y!=="mixed"){var m=y;g=t.find(r,[m,m]),N=t.find(n,[m,m])}if(!w&&!b){for(var p=N(u(F[0]),f[0]),A=1;A<D;A++)p=g(p,N(u(F[A]),f[A]));return p}if(!w&&b){for(var E=N(u(F[0]),f[0][0]),B=1;B<D;B++)E=g(E,N(u(F[B]),f[B][0]));return E}if(w&&!b){for(var I=N(u(F[0][0]),f[0]),M=1;M<D;M++)I=g(I,N(u(F[M][0]),f[M]));return I}if(w&&b){for(var T=N(u(F[0][0]),f[0][0]),L=1;L<D;L++)T=g(T,N(u(F[L][0]),f[L][0]));return T}}function c(s,h){o(s,h);for(var D=s._index,F=s._values,y=h._index,f=h._values,v=0,w=r,b=n,g=0,N=0;g<D.length&&N<y.length;){var m=D[g],p=y[N];if(m<p){g++;continue}if(m>p){N++;continue}m===p&&(v=w(v,b(F[g],f[N])),g++,N++)}return v}function l(s){return xe(s)?s.size():i(s)}}),hn="det",ls=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],hs=fe(hn,ls,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:u,divideScalar:i,isZero:o,unaryMinus:a}=e;return t(hn,{any:function(s){return ye(s)},"Array | Matrix":function(s){var h;switch(xe(s)?h=s.size():Array.isArray(s)?(s=r(s),h=s.size()):h=[],h.length){case 0:return ye(s);case 1:if(h[0]===1)return ye(s.valueOf()[0]);if(h[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Be(h)+")");case 2:{var D=h[0],F=h[1];if(D===F)return c(s.clone().valueOf(),D);if(F===0)return 1;throw new RangeError("Matrix must be square (size: "+Be(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Be(h)+")")}}});function c(l,s,h){if(s===1)return ye(l[0][0]);if(s===2)return n(u(l[0][0],l[1][1]),u(l[1][0],l[0][1]));for(var D=!1,F=new Array(s).fill(0).map((A,E)=>E),y=0;y<s;y++){var f=F[y];if(o(l[f][y])){var v=void 0;for(v=y+1;v<s;v++)if(!o(l[F[v]][y])){f=F[v],F[v]=F[y],F[y]=f,D=!D;break}if(v===s)return l[f][y]}for(var w=l[f][y],b=y===0?1:l[F[y-1]][y-1],g=y+1;g<s;g++)for(var N=F[g],m=y+1;m<s;m++)l[N][m]=i(n(u(l[N][m],w),u(l[N][y],l[f][m])),b)}var p=l[F[s-1]][s-1];return D?a(p):p}}),Dn="inv",Ds=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],ds=fe(Dn,Ds,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:u,multiply:i,unaryMinus:o,det:a,identity:c,abs:l}=e;return t(Dn,{"Array | Matrix":function(D){var F=xe(D)?D.size():ke(D);switch(F.length){case 1:if(F[0]===1)return xe(D)?r([n(1,D.valueOf()[0])]):[n(1,D[0])];throw new RangeError("Matrix must be square (size: "+Be(F)+")");case 2:{var y=F[0],f=F[1];if(y===f)return xe(D)?r(s(D.valueOf(),y,f),D.storage()):s(D,y,f);throw new RangeError("Matrix must be square (size: "+Be(F)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Be(F)+")")}},any:function(D){return n(1,D)}});function s(h,D,F){var y,f,v,w,b;if(D===1){if(w=h[0][0],w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,w)]]}else if(D===2){var g=a(h);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(h[1][1],g),n(o(h[0][1]),g)],[n(o(h[1][0]),g),n(h[0][0],g)]]}else{var N=h.concat();for(y=0;y<D;y++)N[y]=N[y].concat();for(var m=c(D).valueOf(),p=0;p<F;p++){var A=l(N[p][p]),E=p;for(y=p+1;y<D;)l(N[y][p])>A&&(A=l(N[y][p]),E=y),y++;if(A===0)throw Error("Cannot calculate inverse, determinant is zero");y=E,y!==p&&(b=N[p],N[p]=N[y],N[y]=b,b=m[p],m[p]=m[y],m[y]=b);var B=N[p],I=m[p];for(y=0;y<D;y++){var M=N[y],T=m[y];if(y!==p){if(M[p]!==0){for(v=n(o(M[p]),B[p]),f=p;f<F;f++)M[f]=u(M[f],i(v,B[f]));for(f=0;f<F;f++)T[f]=u(T[f],i(v,I[f]))}}else{for(v=B[p],f=p;f<F;f++)M[f]=n(M[f],v);for(f=0;f<F;f++)T[f]=n(T[f],v)}}}return m}}}),Tr=_o({config:qt}),ps=xo({}),Gn=$o({}),xr=ko({}),Ir=ua({Matrix:xr}),be=Mi({BigNumber:Tr,Complex:ps,DenseMatrix:Ir,Fraction:Gn}),vs=Ta({typed:be}),Or=Ia({typed:be}),ms=Ya({typed:be}),Rr=la({config:qt,typed:be}),gs=aa({equalScalar:Rr,typed:be}),Jn=Va({typed:be}),Fs=Fa({typed:be}),Xn=da({Matrix:xr,equalScalar:Rr,typed:be}),ws=Ra({typed:be}),ys=Ea({BigNumber:Tr,typed:be}),ot=_a({DenseMatrix:Ir,Matrix:xr,SparseMatrix:Xn,typed:be}),Es=ns({matrix:ot,typed:be}),Cs=Ba({Fraction:Gn,typed:be}),As=Ja({BigNumber:Tr,DenseMatrix:Ir,SparseMatrix:Xn,config:qt,matrix:ot,typed:be}),Bs=os({bignumber:ys,fraction:Cs,number:Fs}),bs=ts({matrix:ot,config:qt,typed:be}),Kn=Ma({typed:be}),Qn=ss({numeric:Bs,typed:be}),_s=cs({addScalar:Or,conj:ms,multiplyScalar:Jn,size:bs,typed:be}),Rt=Ha({addScalar:Or,dot:_s,equalScalar:Rr,matrix:ot,multiplyScalar:Jn,typed:be}),Ns=hs({divideScalar:Qn,isZero:gs,matrix:ot,multiply:Rt,subtractScalar:ws,typed:be,unaryMinus:Kn}),Ms=ds({abs:vs,addScalar:Or,det:Ns,divideScalar:Qn,identity:As,matrix:ot,multiply:Rt,typed:be,unaryMinus:Kn});const Ss=["0nwgp558","2lg135el","wlekw94l","6njy11vn","wl3d19v8"],Ts={"9qj3rrgl":"Set Seed",jq6dmm71:"Random Seed","5lm5yy4q":"Breakfast","81wygg5q":"Burgers","139xem31":"Cakes",q752kvp1:"Coffee","0q53pe71":"Dumplings",zqo40021:"Fish","013g003l":"Hot Dogs",rqv877w1:"Pies","5lejooz1":"Pizza","0q5r66n1":"Salad",q8kenokq:"Spaghetti","4lxnzzr1":"Steak","814zjjjl":"Stir Fry",qyz46g41:"Tacos",jqz3yeg1:"Turkey",z19n33kq:"Solo",p127nnkq:"Duo","81p9jjkq":"Trio",xqkvddyl:"Quad",lx5gv6r1:"Pre 1.1.6b","14o95wjq":"1.1.6b ",q8k48jgq:"1.1.7-1.1.9",q5v5kj2l:"1.2.0+",qvvx3vrq:"Normal","139x39r1":"Autumn","192x6ykq":"Turbo",q5v4kv7l:"Lake",le2nd2ml:"North Pole",qoxjdx5q:"Halloween"},vt=({run:e})=>P(nt,{children:[P("a",{href:e.weblink,children:e.primary})," by"," ",e.players.map(t=>t.weblink?P(nt,{children:[P("a",{href:t.weblink,children:t.name})," "]}):P(nt,{children:[t.name," "]})),"(",e.category[0],")"]});function xs(e){const t=e.category.slice(1);let r=[[]];for(let i=t[0]==="Set Seed"?1:0;i<t.length-1;i++)r=r.flatMap(o=>[o,[...o,t[i]]]);const n=e.category[4],u=[];switch(n){case"Tacos":case"Cakes":case"Coffee":break;default:u.push("Plated");break}return u.push(n),r=r.flatMap(i=>{let o=u.map(a=>[...i,a]);return[i,...o]}),r[0]=["All Runs"],r}const qs=()=>P(sr,{viewType:0}),$s=()=>P(sr,{viewType:1}),Us=()=>P(sr,{viewType:2}),Ls=()=>P(sr,{viewType:3}),sr=({viewType:e=2})=>{var b,g,N,m,p;const t=cr("","OPPORTUNITY_OLDEST_UNVERIFIED_ID"),r=cr([],"OPPORTUNITY_RUNS_CACHE"),n=pt({}),u=pt({}),i=pt("Pre 1.1.6b"),o=pt(!1),a=pt(!1);Tu(()=>{var B,I;if(Object.keys(n.peek()).length)return;let A=Object.assign({},n.peek()),E=Object.assign({},u.peek());for(const M of r.value){const T=at(M),L=pr(M);for(const k of[T,...L])M.primary_t<(((B=E[k])==null?void 0:B.primary_t)??1/0)&&(E[k]=M);if(M.status!=="new")for(const k of[T,...L])M.primary_t<(((I=A[k])==null?void 0:I.primary_t)??1/0)&&(A[k]=M)}n.value=A,u.value=E});const c=cr([],"SRC_VIEWS_BEATEN_RUNS"),l=Ot(()=>{const A=t.value,E=Object.assign({},n.value),B=Object.assign({},n.value),I=r.value;return()=>{a.value=!0,Is(A).then(M=>{var q,X,J,ee,te,ae;let T="";for(const W of M){if(W.status==="rejected")continue;const oe=at(W);if(W.primary_t<(((q=B[oe])==null?void 0:q.primary_t)??1/0)){B[oe]=W;for(const se of pr(W))W.primary_t<(((X=B[se])==null?void 0:X.primary_t)??1/0)&&(B[se]=W)}if(W.status==="verified"&&W.primary_t<(((J=E[oe])==null?void 0:J.primary_t)??1/0)){E[oe]=W;for(const se of pr(W))W.primary_t<(((ee=E[se])==null?void 0:ee.primary_t)??1/0)&&(E[se]=W)}}const L=[],k={};for(const W of M){const oe=at(W);W.status==="new"&&(T=W.id);const se=W.status==="new"?B:E;W.primary_t<=(((te=se[oe])==null?void 0:te.primary_t)??1/0)&&(L.push(W),k[W.id]=!0)}const V=[];for(const W of I){if(k[W.id])continue;const oe=at(W),se=W.status==="new"?B:E;W.primary_t<=(((ae=se[oe])==null?void 0:ae.primary_t)??1/0)?L.push(W):V.push(W)}r.value=L,c.value=V,n.value=E,u.value=B,t.value=T,a.value=!1})}}),s=Ot(()=>{var M;let A=[],E=0;const B=[],I={"Set Seed":{},"Random Seed":{}};for(const T of r.value){if(T.status==="rejected"||T.status!=="verified"&&o.value||!Vt(T.category[0],i.value))continue;const L=T.category.slice(2).join(" "),k=T.category[1];T.primary_t<(((M=I[k][L])==null?void 0:M.primary_t)??1/0)&&(I[k][L]=T)}for(const T of Object.keys(I["Random Seed"])){const L=I["Set Seed"][T],k=I["Random Seed"][T];if(((L==null?void 0:L.primary_t)??1/0)<k.primary_t){E++;continue}let V="../normal-seed-searcher.html";T.includes(" Lake ")?V="https://steamcommunity.com/sharedfiles/filedetails/?id=2932253817":T.includes(" Turbo ")&&(V="../turbo-seed-searcher.html");const q=L?L.primary_t/k.primary_t:k.primary_t;B.push(T),A.push([P("tr",{id:T,children:[P("td",{children:[T," ",P(xu,{to:V,children:"Searcher"})]}),P("td",{children:L?" "+(q*100).toFixed(2)+"%":""}),P("td",{children:L?P(vt,{run:L}):"No Set Seed Run"}),P("td",{children:P(vt,{run:k})})]}),q])}return[A.sort((T,L)=>-L[1]+T[1]).map(T=>T[0]),B,E]}),h=Ot(()=>{var I;const A={};for(const M of r.value){if(M.status==="rejected"||M.status!=="verified"&&o.value||!Vt(M.category[0],i.value))continue;const T=xs(M);for(const L of T){const k=L.join(" ");(!A[k]||M.primary_t<A[k].primary_t)&&(A[k]=M)}}const E=new Map;for(const[M,T]of Object.entries(A))E.has(T)||E.set(T,[]),(I=E.get(T))==null||I.push(M);const B=Array.from(E.entries()).map(([M,T])=>{let L=T.length;for(;L--&&T[L].includes(M.category.slice(2).join(" "));)T.pop();return[T.join(", "),M]});return B.sort((M,T)=>M[1].primary_t-T[1].primary_t),[B.map(([M,T])=>P("tr",{id:T.category.slice(1).join(" "),children:[P("td",{children:T.category.slice(1).join(" ")}),P("td",{children:P(vt,{run:T})}),P("td",{children:M})]}))]}),D=pt(!0),F=Ot(()=>{var le;if(!r.value.length)return;const E=G=>D.value?Math.log(G):G,B=G=>D.value?Math.exp(G):G;let I=[new Set,new Set,new Set,new Set,new Set],M={};for(const G of r.value)if(G.status!=="rejected"&&!(G.status!=="verified"&&o.value)&&Vt(G.category[0],i.value))for(let Y=1;Y<G.category.length;Y++){let ne=G.category[Y];Y===0&&(ne+=` ${G.category[Y+1]}`,Y++),I[Y].add(ne),M[ne]||(M[ne]=0),M[ne]++}const T=I.flatMap(G=>Array.from(G)),L=[],k=[],V={};for(const G of r.value){if(G.status==="rejected"||G.status!=="verified"&&o.value||!Vt(G.category[0],i.value))continue;const Y=G.category.slice(1).join(" ");(!V[Y]||G.primary_t<V[Y].primary_t)&&(V[Y]=G)}let q=0;for(const G of Object.values(V)){q+=G.primary_t;const Y=[];for(const ne of T)G.category.includes(ne)?Y.push(1):Y.push(0);Y.push(1),L.push(Y),k.push([E(G.primary_t)])}q/=Object.values(V).length;for(const G of I){const Y=Array.from(new Set(G));if(!Y.length)continue;const ne=[];for(let Ce=0;Ce<T.length;Ce++)if(Y.includes(T[Ce])){const Fe=M[T[Ce]];ne.push(Fe)}else ne.push(0);ne.push(0),L.push(ne),k.push([0])}const X=Es(ot(L)),J=Rt(X,ot(L)),te=Rt(Ms(J),Rt(X,ot(k))).valueOf().map(G=>G[0]);console.log({matrixAt:X,matrixA:L,normalizedA:J,r:te});const ae={};let W="";const oe=D.value?"%":" seconds",se=D.value?100:1;for(let G=0;G<te.length;G++){const Y=T[G]??"Average";if(T[G]){const ne=B(te[G]);ne>1?ae[Y]=`+${((ne-1)*se).toFixed(2)}${oe}`:ae[Y]=`${((ne-1)*se).toFixed(2)}${oe}`}else{const ne=B(te[G]);W=((le=new Date(ne*1e3).toUTCString().match(/\b(\d\d:\d\d:\d\d) GMT$/))==null?void 0:le[1])??"Error"}}console.log(JSON.stringify({humanR:ae},null,1));const ve=[];let me=0;for(const[G,Y]of Object.entries(V)){let ne=te.at(-1);for(let Fe=0;Fe<T.length;Fe++)Y.category.includes(T[Fe])&&(ne+=te[Fe]);const Ce=B(ne);me+=(Y.primary_t-Ce)**1,ve.push([P("tr",{children:[P("td",{children:G}),P("td",{children:P(vt,{run:Y})}),P("td",{children:[(Y.primary_t/Ce*100).toFixed(2),"%"]})]}),Y.primary_t/Ce,Y])}return console.log({totalErrorSquares:me}),ve.sort((G,Y)=>G[1]-Y[1]),{info:ve.map(G=>G[0]),humanR:ae,averageRunTime:W}}),y=pt(""),f=Ot(()=>()=>{y.value=s.value[1][Math.floor(Math.random()*s.value[1].length)]});let v,w;switch(e){case 0:w=P(nt,{children:"Set seed opportunities (i.e. leaderboards where there is no set seed run, or the random seed record is faster than the set seed record)"}),v=P(nt,{children:[P("div",{children:[P("button",{onClick:f.value,children:"Pick Random Category"})," ",y.value&&P("a",{href:"",onClick:E=>{var B;E.preventDefault(),(B=document.getElementById(y.value))==null||B.scrollIntoView()},children:[P("br",{}),y]})]}),P("div",{children:[(g=(b=s==null?void 0:s.value)==null?void 0:b[1])==null?void 0:g.length," potential categories"," ",P("br",{}),s.value[2]," categories where set seed is already faster not shown"]}),P("table",{children:[P("thead",{children:P("tr",{children:[P("th",{children:"Category"}),P("th",{children:"Ratio"}),P("th",{children:"Fastest Seeded Run"}),P("th",{children:"Fastest Unseeded Run"})]})}),P("tbody",{children:s.value[0]})]})]});break;case 1:w=P(nt,{children:"View records of merged leaderboards (i.e. fastest Stir Fry run across all player counts and restaurant settings, or fastest PlateUp! run regardless of leaderboard category)"}),v=P("table",{children:[P("thead",{children:P("tr",{children:[P("th",{children:"Category"}),P("th",{children:"Record Run"}),P("th",{children:"Also the record run in these merged categories:"})]})}),P("tbody",{children:h.value[0]})]});break;case 2:w=P(nt,{children:['View leaderboard records sorted by how "surprising" they are. ',P("br",{})," ",'Predicts the record in a leaderboard by its individual components (i.e. Turbo runs tend to be X times longer than Normal Runs; Duo runs tend to be X times shorter than Quad Runs), then sorts by the ratio between the actual record time and the predicted time. Due to the way the record times are predicted, records which use a strategy which is only available at the intersection of multiple categories will tend to be more "surprising". (for example: Coffee Turbo ice cream display/specials terminals strat, or Autumn Turkey/Dumplings flower shops)',P("br",{}),"Records which have a high ratio versus the expected time may deal with the converse, where the combination of categories makes it a particularly difficult run."," ","Or... maybe there's just room for improvement?"]}),v=P(nt,{children:[P("div",{children:[P("label",{for:"logTransform",children:"Log Transform?"}),P("input",{type:"checkbox",id:"logTransform",checked:D,onChange:E=>D.value=E.target.checked})]}),P("div",{style:{float:"right",marginLeft:"10px"},children:["Base Run Time: ",(N=F.value)==null?void 0:N.averageRunTime,Object.entries(((m=F.value)==null?void 0:m.humanR)??{}).map(([E,B])=>P("div",{children:[E,": ",B]}))]}),P("table",{children:[P("thead",{children:P("tr",{children:[P("th",{children:"Category"}),P("th",{children:"Record Run"}),P("th",{children:"Actual/Predicted Ratio"})]})}),P("tbody",{children:(p=F.value)==null?void 0:p.info})]})]});break;case 3:w="Records in the previous data pull which have been beaten. If you've never pulled SRC data using one of the Leaderboard View tools before, this will show nothing.";const A=o.value?n.value:u.value;if(!Object.keys(A).length)break;v=P("table",{children:[P("thead",{children:P("tr",{children:[P("th",{children:"Category"}),P("td",{children:"Beaten Run"}),P("td",{children:"New Record"})]})}),P("tbody",{children:c.value.filter(E=>{var B;return(((B=A[at(E)])==null?void 0:B.primary_t)??1/0)<E.primary_t}).map(E=>{if(!A[at(E)]){console.log({beatenCat:at(E)});debugger}return P("tr",{children:[P("td",{children:E.category.slice(1).join(" ")}),P("td",{children:P(vt,{run:E})}),P("td",{children:P(vt,{run:A[at(E)]})})]})})})]}),c.value.map(E=>P(nt,{children:[P(vt,{run:E}),P("br",{})]}));break}return P("div",{children:[P("style",{children:`[id="${y.value}"] {border: rgb(var(--color)) 3px solid;}`}),P("div",{children:w}),P("pre",{children:"// TODO: autofill starting cards in searcher link: dish + Autumn-Community & North Pole-Christmas Rush"}),P("button",{onClick:l.value,disabled:a,children:a.value?"Fetching Data...":r.value.length?"Update Run Data":"Fetch All Runs"}),P("br",{}),P("label",{for:"version",children:"Include runs dating back to:"}),P("select",{id:"version",value:i,onChange:A=>{i.value=A.target.value},children:_t.map(A=>P("option",{value:A,children:A}))}),P("br",{}),P("label",{for:"verifiedOnly",children:"Verified Runs Only"}),P("input",{type:"checkbox",id:"verifiedOnly",checked:o,onChange:A=>{o.value=A.target.checked}}),v]})};function at(e){return e.category.join(",")}function pr(e){let t=[];for(let r=_t.indexOf(e.category[0])+1;r<_t.length;r++)t.push([_t[r],...e.category.slice(1)].join(","));return t}const _t=["Pre 1.1.6b","1.1.6b","1.1.7-1.1.9","1.2.0+"];function Vt(e,t){return _t.indexOf(e)>=_t.indexOf(t)}async function Is(e){let t=[],r=0;e:for(;;){const u=await(await fetch(`https://www.speedrun.com/api/v1/runs?orderby=submitted&direction=desc&game=yd4kq3k6&category=z275n0gk&max=200&embed=players&offset=${r}`)).json(),i=u.data;for(let o=0;o<i.length;o++)if(t.push(i[o]),i[o].id===e)break e;if(!u.pagination.links.some(o=>o.rel==="next"))break;await new Promise(o=>{setTimeout(()=>{o(!0)},60*1e3/100)}),r+=200}return t.map(n=>Os(n))}function Os(e){const t={id:e.id,category:Ss.map(r=>Ts[e.values[r]]),weblink:e.weblink,primary:Rs(e),primary_t:e.times.primary_t,players:e.players.data.map(r=>r.rel==="guest"?{name:r.name}:{name:r.names.international,weblink:r.weblink}),status:e.status.status};return t.category[3]===void 0&&(t.category[3]="Normal"),t.category.some(r=>r===void 0)&&alert("go tell ambersz to actually pull the variable data from the API instead of hardcoding it..."),t}function Rs(e){const t=e.times.primary.split(/[a-z.]+/i).filter(n=>n).map((n,u)=>u?n.padStart(2,"0"):n);let r=t[0];for(let n=1;n<t.length;n++)t[n].length===3?r+=".":r+=":",r+=t[n];return r}export{Ls as BeatenRuns,$s as MergedRecords,qs as Opportunities,Us as RecordsAnalysis};
