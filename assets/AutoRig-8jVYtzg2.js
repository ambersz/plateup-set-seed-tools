import{A as b,d as C}from"./branchingRerolls-H78UGWF3.js";import{U as S}from"./UnlockSelect-Ck6Yko2N.js";import{T as v,_ as R,p as w,u as e}from"./main-MYuVMOb3.js";import{u as m}from"./usePersistentState-bGvTj-wR.js";import"./GhostBlueprints-1aHcp5xZ.js";function y(i,r){i.postMessage(r)}const P=({})=>{const[i,r]=m(C,"BRANCH_CONFIG",t=>{if(typeof t.simpleBPSettings=="boolean"){debugger;return{...t,simpleBPSettings:t.simpleBPSettings?"insideOnly":"full"}}return t}),[u,p]=m([[]],"RIG_TIERS"),[c,h]=m("","RIG_RESULT"),g=v(t=>{h(t.data)},[]),l=R();w(()=>{l.current===void 0&&(l.current=new Worker(new URL("/plateup-set-seed-tools/assets/autoRigWorker-Re9JWStW.js",import.meta.url),{type:"module"})),l.current.onmessage=g},[]);function f(t){y(l.current,{config:i,tiers:t})}return e("div",{children:[e(k,{onConfigChange:r,config:i}),u.map((t,s)=>e(b,{shopModifiersOnly:!1,appliances:t,allowDupes:!0,onSelectionChange:n=>{p(a=>{const o=[...a];o.splice(s,1,n);let d=o.length;for(;d--&&!o[d].length;)o.pop();return o.push([]),o})}})),e("button",{onClick:()=>{const t=u.map(s=>{let n={};for(const o of s)n[o.Name]||(n[o.Name]=0),n[o.Name]++;let a=[];for(const[o,d]of Object.entries(n))a.push({goal:o,substitutes:[],number:d});return a});f(t)},children:"Route Rig"}),e("div",{children:c.split(`
`).map(t=>e("div",{children:t}))})]})},k=({onConfigChange:i,config:r})=>{const{seed:u,blueprintCount:p,solo:c,cards:h,searchDepth:g,simpleBPSettings:l=!1}=r,f=s=>{let n={...r};s.target.checked?(n.blueprintCount=7,n.baseUpgradeChance=.25):(n.blueprintCount=5,n.baseUpgradeChance=0),i(n)},t=(s,n)=>{let a={...r};a[s]=n,i(a)};return e("div",{children:[e("div",{children:[e("div",{children:"Run Config:"}),e("label",{for:"solo",children:"Solo:"}),e("input",{type:"checkbox",id:"solo",checked:c,onChange:()=>{t("solo",!c)}}),e("span",{style:"margin:0 20px",children:[e("label",{for:"simpleRerollSettings",children:"Spawn setting configs: "}),e("select",{value:l===!0?"insideOnly":l===!1?"full":l,onChange:s=>{var n;t("simpleBPSettings",((n=s.target)==null?void 0:n.value)??"full")},children:[e("option",{value:"full",children:"All spawn settings"}),e("option",{value:"insideOnly",children:"Spawn Inside only"}),e("option",{value:"noSwitching",children:"Don't switch bp settings after spawn"})]})]}),e("div",{children:[e("label",{for:"searchDepth",children:"Number of Rerolls"})," ",e("input",{id:"searchDepth",type:"number",value:g,onChange:s=>{t("searchDepth",Number(s.target.value))}})]}),e("label",{for:"seed",value:u,children:["Seed:"," "]}),e("input",{type:"text",id:"seed",value:u,disabled:!0,onChange:s=>{t("seed",s.target.value)}}),e("label",{for:"setting",children:" Turbo?"}),e("input",{id:"setting",type:"checkbox",disabled:!0,checked:p===7,onChange:f})]}),e("div",{children:e(S,{id:"cardSchedule",onSelectionChange:()=>{},showSelectionMode:!1,cards:h,include:!0,modes:["themes","dishes","customerCards"]})})]})};export{P as default};
