import{u as c,m as r,h as S,p as u,T as f}from"./main-Cyodgag4.js";const m=(n,e,a)=>{const o=c(n);return r(()=>{console.log("loading persistentsignal for:",{defaultState:n,ID:e});const s=localStorage.getItem(e);s===null||(o.value=JSON.parse(s))}),r(()=>{console.log("saving persistentsignal state"),localStorage.setItem(e,JSON.stringify(o.value))}),o},J=(n,e,a)=>{const[o,s]=S();u(()=>{const t=localStorage.getItem(e);t===null||s(a?a(JSON.parse(t)):JSON.parse(t))},[n,e]);const i=f(t=>{typeof t=="function"?s(g=>{const l=t(g??n);return localStorage.setItem(e,JSON.stringify(l)),l}):(s(t),localStorage.setItem(e,JSON.stringify(t)))},[e,s]);return[o??n,i]};export{m as a,J as u};
