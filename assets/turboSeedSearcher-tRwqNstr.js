import{q as P,u as a,g as A}from"./jsxRuntime.module-wfZfYPmn.js";import{U as u,R as _,h as D,p as M,a as d,D as R}from"./unlocks-Gx_wR1Yr.js";import{U as v}from"./UnlockSelect-8NUdvTgn.js";import{u as p}from"./usePersistentState-R_WhJCF8.js";import"./compat.module-qsrks2fs.js";u.filter(s=>s.Name==="Cakes")[0];const g=[],U=1;for(let s=0;s<U;s++)g.push(new Worker(new URL("/plateup-set-seed-tools/assets/seedSearchWorker-vmBblPfk.js",import.meta.url),{type:"module"}));function f(s){for(const r of g)r.postMessage(s)}const m=[{include:!0,cards:[_.filter(s=>s.Name==="Turbo")[0]]}],G={include:!0,cards:["Ice Cream","Instant Service","All You Can Eat","Victorian Standards","Sedate Atmosphere","Roast Potato","Broccoli","Bamboo","Mashed Potato","Chips","Corn on the Cob","Onion Rings"].flatMap(s=>u.filter(r=>r.Name===s))},L={include:!1,cards:["Apple Pie","Cherry","Pumpkin","Leisurely","Mandarin","Bread","Closing Time","Picky","Medium","Advertising","Cheese ","Soup"].flatMap(s=>u.filter(r=>r.Name.includes(s)))};{let s=1;for(;s<=9;s++)m[s]=s===5?{include:!0,cards:u.filter(r=>r.Name==="Affordable")}:G;for(;s<=14;s++)m[s]=L}const j=()=>{const[s,r]=D(0),[S,C]=p([],"SEED_SEARCHER_RESULTS"),[b,h]=D(!1),[o,k]=p([1,2,3,4],"SEED_SEARCHER_ALLOWED_TABLES"),B=[1,2,3,4];M(()=>{console.log("useEffect registering message done");const e=t=>{const l=t;switch(l.data.type){case"error":break;case"result":const i=l.data.data;C(c=>(c.length>=1/0&&(f({type:"stop"}),h(!1)),[...c,i]));break;case"progress":r(l.data.data);break}};for(const t of g)t.onmessage=e},[]);const y=[];for(let e=1;e<=14;e++)y.push(e);const T=()=>{if(b)f({type:"stop"}),h(!1);else{if(n[0].cards.length<2){alert("No starting dish selected.");return}else n[0].cards.length>2;const e=[];for(let t=1;t<15;t++)(!n[t]||n[t].include&&n[t].cards.length===0)&&e.push(t);if(e.length){e.length>1&&(e[e.length-1]="and "+e[e.length-1]),alert(`Empty card configurations for day${e.length>1?"s":""} `+e.join(e.length>2?", ":" ")+". Add cards, or switch to exclude cards mode.");return}f({type:"start",data:{mapSizes:o,goalCards:n,goalAppliances:I}}),h(!0)}},[n,w]=p(m,"SEED_SEARCHER_CARDS_BY_DAY"),E=e=>t=>{w(l=>{var c;const i=[...l];return e===0&&((c=t.cards[0])==null?void 0:c.Name)!=="Turbo"&&t.cards.splice(0,0,i[e].cards[0]),i[e]=t,i})},N=e=>()=>{o.includes(e)?k(o.filter(t=>t!==e)):k([...o,e])};return a("div",{class:"search-container",children:[a("div",{class:"search-config",children:[a("div",{style:"min-width:fit-content;",children:[a("label",{children:"Starting Tables: "}),B.map(e=>{const t=e+"-table";return a(A,{children:[a("label",{for:t,children:e}),a("input",{id:t,type:"checkbox",onChange:N(e),checked:o.includes(e)})]})})]}),a(A,{children:[a(v,{onSelectionChange:E(0),showSelectionMode:!1,label:"Starting Cards",...n[0],unlockGroupFilter:[d.Dish],dishTypeFilter:[R.Null,R.Base]}),y.map(e=>a(v,{onSelectionChange:E(e),label:"After Day "+e,...n[e]??{},unlockGroupFilter:e===5?[d.PrimaryTheme]:[d.Generic,d.Dish]}))]})]}),a("div",{class:"search-results",children:[a("div",{children:[s," seeds checked"]}),a("button",{onClick:T,children:[b?"Stop":"Start"," Search"]}),a("div",{class:"results",children:[S.length?a("button",{onClick:()=>C([]),children:"Clear Previous Results"}):"",S.map(e=>a("div",{children:[e.seed,e.mapSize&&` (${e.mapSize})`,":"," ",a("div",{children:e.cards.join(", ")}),e.blueprints.map(t=>t.Name).join(", ")]}))]})]})]})};P(a(j,{}),document.getElementById("app"));const I=[];
