import{h as b,p as S,U as _,q as B,u as s,g as f,a as d,D as y,R as M}from"./jsxRuntime.module-l0uvQyNz.js";import{U as E}from"./UnlockSelect-gJEJILwp.js";const h=(t,o)=>{const[a,l]=b(t);return S(()=>{const n=localStorage.getItem(o);n!==null&&l(JSON.parse(n))},[]),S(()=>{localStorage.getItem(o)!==null&&a===t||localStorage.setItem(o,JSON.stringify(a))},[a]),[a,l]},v=_.filter(t=>t.Name==="Cakes")[0],R=new Worker(new URL("/plateup-set-seed-tools/assets/seedSearchWorker-Eg8K9M7p.js",import.meta.url),{type:"module"}),D=new Worker(new URL("/plateup-set-seed-tools/assets/seedSearchWorker-Eg8K9M7p.js",import.meta.url),{type:"module"}),w=new Worker(new URL("/plateup-set-seed-tools/assets/seedSearchWorker-Eg8K9M7p.js",import.meta.url),{type:"module"});function g(t){return w.postMessage(t),D.postMessage(t),R.postMessage(t)}const C=[{include:!0,cards:[M[0],v]}],L=()=>{const[t,o]=h([],"SEED_SEARCHER_RESULTS"),[a,l]=b(!1);S(()=>{console.log("useEffect registering message done");const e=r=>{const c=r;switch(c.data.type){case"error":break;case"result":o(i=>(i.length>=10&&(g({type:"stop"}),l(!1)),[...i,c.data.data]));break}console.log({e:c})};R.onmessage=e,D.onmessage=e,w.onmessage=e},[]);const n=[];for(let e=1;e<=14;e++)n.push(e);const A=()=>{a?(g({type:"stop"}),l(!1)):(g({type:"start",data:{mapSizes:[1],goalCards:u,goalAppliances:j}}),l(!0))},[u,T]=h(C,"SEED_SEARCHER_CARDS_BY_DAY"),m=e=>r=>{T(c=>{const i=[...c];return i[e]=r,i})},[p,k]=h([1,2,3,4],"SEED_SEARCHER_ALLOWED_TABLES"),W=[1,2,3,4],U=e=>()=>{p.includes(e)?k(p.filter(r=>r!==e)):k([...p,e])};return s("div",{class:"search-container",children:[s("div",{class:"search-config",children:[s("label",{children:"Starting Tables: "}),W.map(e=>{const r=e+"-table";return s(f,{children:[s("label",{for:r,children:e}),s("input",{id:r,type:"checkbox",onChange:U(e),checked:p.includes(e)})]})}),u!==C&&s(f,{children:[s(E,{onSelectionChange:m(0),showSelectionMode:!1,label:"Starting Cards",...u[0],unlockGroupFilter:[d.Dish,d.Special],dishTypeFilter:[y.Null,y.Base]}),n.map(e=>s(E,{onSelectionChange:m(e),label:"After Day "+e,...u[e]??{},unlockGroupFilter:e===5?[d.PrimaryTheme]:[d.Generic,d.Dish]}))]})]}),s("div",{class:"search-results",children:[s("button",{onClick:A,children:[a?"Stop":"Start"," Search"]}),s("div",{class:"results",children:[t.length?s("button",{onClick:()=>o([]),children:"Clear Previous Results"}):"",t.map(e=>s("div",{children:[e.seed,": ",s("div",{children:e.cards.join(", ")}),e.blueprints.map(r=>r.Name).join(", ")]}))]})]})]})};B(s(L,{}),document.getElementById("app"));const j=[];
