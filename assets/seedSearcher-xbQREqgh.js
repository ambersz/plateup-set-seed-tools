import{q as M,u as r,g as D}from"./jsxRuntime.module-wfZfYPmn.js";import{h as C,p as y,a as g,R as P,U as f,D as T}from"./unlocks-3e_N4jc9.js";import{U as B}from"./UnlockSelect-yP_wi2_e.js";const m=(t,a)=>{const[o,l]=C(t);return y(()=>{const c=localStorage.getItem(a);c!==null&&l(JSON.parse(c))},[]),y(()=>{localStorage.getItem(a)!==null&&o===t||localStorage.setItem(a,JSON.stringify(o))},[o]),[o,l]};g.filter(t=>t.Name==="Cakes")[0];const k=[],U=1;for(let t=0;t<U;t++)k.push(new Worker(new URL("/plateup-set-seed-tools/assets/seedSearchWorker-aCywICBK.js",import.meta.url),{type:"module"}));function S(t){for(const a of k)a.postMessage(t)}const b=[{include:!0,cards:[P.filter(t=>t.Name==="Turbo")[0]]}],G={include:!0,cards:["Ice Cream","Instant Service","All You Can Eat","Victorian Standards","Sedate Atmosphere","Roast Potato","Broccoli","Bamboo","Mashed Potato","Chips","Corn on the Cob","Onion Rings"].flatMap(t=>g.filter(a=>a.Name===t))},L={include:!1,cards:["Apple Pie","Cherry","Pumpkin","Leisurely","Mandarin","Bread","Closing Time","Picky","Medium","Advertising","Cheese ","Soup"].flatMap(t=>g.filter(a=>a.Name.includes(t)))};{let t=1;for(;t<=9;t++)b[t]=t===5?{include:!0,cards:g.filter(a=>a.Name==="Affordable")}:G;for(;t<=14;t++)b[t]=L}const I=()=>{const[t,a]=C(0),[o,l]=m([],"SEED_SEARCHER_RESULTS"),[c,p]=C(!1),[i,E]=m([1,2,3,4],"SEED_SEARCHER_ALLOWED_TABLES"),v=[1,2,3,4];y(()=>{console.log("useEffect registering message done");const e=s=>{const d=s;switch(d.data.type){case"error":break;case"result":const u=d.data.data;l(h=>(h.length>=30&&(S({type:"stop"}),p(!1)),[...h,u]));break;case"progress":a(d.data.data);break}};for(const s of k)s.onmessage=e},[]);const A=[];for(let e=1;e<=14;e++)A.push(e);const N=()=>{if(c)S({type:"stop"}),p(!1);else{if(n[0].cards.length<2){alert("No starting dish selected.");return}else if(n[0].cards.length>2){alert("Too many starting dishes selected");return}const e=[];for(let s=1;s<15;s++)(!n[s]||n[s].include&&n[s].cards.length===0)&&e.push(s);if(e.length){e.length>1&&(e[e.length-1]="and "+e[e.length-1]),alert(`Empty card configurations for day${e.length>1?"s":""} `+e.join(e.length>2?", ":" ")+". Add cards, or switch to exclude cards mode.");return}S({type:"start",data:{mapSizes:i,goalCards:n,goalAppliances:j}}),p(!0)}},[n,w]=m(b,"SEED_SEARCHER_CARDS_BY_DAY"),R=e=>s=>{w(d=>{var h;const u=[...d];return e===0&&((h=s.cards[0])==null?void 0:h.Name)!=="Turbo"&&s.cards.splice(0,0,u[e].cards[0]),u[e]=s,u})},_=e=>()=>{i.includes(e)?E(i.filter(s=>s!==e)):E([...i,e])};return r("div",{class:"search-container",children:[r("div",{class:"search-config",children:[r("div",{style:"min-width:fit-content;",children:[r("label",{children:"Starting Tables: "}),v.map(e=>{const s=e+"-table";return r(D,{children:[r("label",{for:s,children:e}),r("input",{id:s,type:"checkbox",onChange:_(e),checked:i.includes(e)})]})})]}),r(D,{children:[r(B,{onSelectionChange:R(0),showSelectionMode:!1,label:"Starting Cards",...n[0],unlockGroupFilter:[f.Dish],dishTypeFilter:[T.Null,T.Base]}),A.map(e=>r(B,{onSelectionChange:R(e),label:"After Day "+e,...n[e]??{},unlockGroupFilter:e===5?[f.PrimaryTheme]:[f.Generic,f.Dish]}))]})]}),r("div",{class:"search-results",children:[r("div",{children:[t," seeds checked"]}),r("button",{onClick:N,children:[c?"Stop":"Start"," Search"]}),r("div",{class:"results",children:[o.length?r("button",{onClick:()=>l([]),children:"Clear Previous Results"}):"",o.map(e=>r("div",{children:[e.seed,": ",r("div",{children:e.cards.join(", ")}),e.blueprints.map(s=>s.Name).join(", ")]}))]})]})]})};M(r(I,{}),document.getElementById("app"));const j=[];
