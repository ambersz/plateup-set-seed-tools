import{g as S}from"./weekly-0HgcG4xj.js";import{C as D}from"./CardPaths-CKOpxhZE.js";import{h as u,A as f,u as I,a as R,b as n,d as P,L as j,R as A,g as x}from"./main-CRiP0NLe.js";import"./cards-D2HxhGiP.js";import"./getCardPaths-Dzck86Ir.js";const m=e=>{const[s,o]=u(e);return[s,d=>{o(d.target.value)}]},B=[{spawnInside:!0,blueprintCount:5}],L={spawnInside:!0,blueprintCount:10},E=[{spawnInside:!0,blueprintCount:5},{spawnInside:!1,playerInside:!0,blueprintCount:5},{spawnInside:!1,playerInside:!1,blueprintCount:5}],W=[3,5,6,9,12],M=f.filter(e=>e.Name==="Booking Desk"||e.Name==="Blueprint Cabinet").sort((e,s)=>e.Name<s.Name?1:-1),b=["Counter","Dining Table","Sink","Hob","Research Desk"];function O(e){const s=[];for(let l=0;l<b.length;l++){const d=b[l];for(let c=0;c<e.length;c++)e[c].Name===d&&(s[l]=e.splice(c,1)[0])}e.sort((l,d)=>(l.StapleWhenMissing?1:0)-(d.StapleWhenMissing?1:0));let o=0;for(;e.length;){for(;s[o];)o++;s[o]=e.shift(),o++}return s}const J=()=>{const[e,s]=u([]),[o,l]=u(),[d,c]=m("2"),[g,v]=m("2"),y=I(0),p=R(()=>S(Date.now()+7*24*60*60*1e3*y.value));return n(x,{children:[n("div",{children:["Designed for use with"," ",n("a",{href:"https://docs.google.com/spreadsheets/d/1hlkwDRavJPK4CkXLycuM5_lDkiRbS0H-8Ftf0tSv3lk/edit?gid=0#gid=0&range=B22:I23",children:"Lock's spreadsheet tools"})]}),!1,n("div",{children:n("button",{onClick:()=>{let i=[e.map(a=>a.Name).join("	"),["prep of day","reroll #","blueprints spawn inside","at least one player inside the restaurant","blueprints"].join("	")];const t=new P(p.value.seed);t.OwnedAppliances=M,t.addCard(p.value.dish),t.addCard(p.value.setting);const w=[...e].slice(t.Cards.length);for(let a=1;a<15;a++){let h;W.includes(a)&&(h=w.shift(),t.handleNewCardSpawnEffects(h)),i.push((a+1).toString()+"	0			"+O(t.getAppliances(B,a)).map(r=>r.Name).join("	")),Number(d)-1===a&&t.OwnedAppliances.push(f.filter(r=>r.Name==="Plates")[0]),Number(g)-1===a&&t.OwnedAppliances.push(f.filter(r=>r.Name==="Research Desk")[0]),t.handleNewCardRerollEffects(h);for(const r of E){const C=[r,L];for(const k of[1,2])i.push(a+1+"	"+k+"	"+r.spawnInside+"	"+!!r.playerInside+"	"+t.getAppliances(C,a).map(N=>N.Name).join("	")),C.splice(0,0,r)}t.addCard(h)}navigator.clipboard.writeText(i.join(`
`))},children:"Export tsv to clipboard"})}),n("div",{children:e.length?n(j,{to:`../branching-rerolls.html?seed=${p.value.seed}&cards=${e.filter((i,t)=>t||A.includes(i)).map(i=>i.Name).join(",")}`,children:"Pre-filled Branching Rerolls Link"}):""}),n("div",{children:[n("label",{for:"plates",children:"Buy plates on prep of day"}),n("input",{type:"number",id:"plates",value:d,onChange:c})]}),n("div",{children:[n("label",{for:"research",children:"Buy research desk on prep of day"}),n("input",{type:"number",id:"research",value:g,onChange:v})]}),n(D,{chooseCardPath:!0,onSelectCardPath:(i,t)=>{l(t),s(i)},highlightCardPath:o,seed:p.value.seed,startingCards:[p.value.setting,p.value.dish]})]})};export{J as default};
