import{b as c,o as r,h as S,p as f,T as u}from"./main-BTw1FnPV.js";const m=(o,e,a)=>{const n=c(o);return r(()=>{console.log("loading persistentsignal for:",{defaultState:o,ID:e});const s=localStorage.getItem(e);s===null||(n.value=JSON.parse(s))}),r(()=>{console.log("saving persistentsignal state"),localStorage.setItem(e,JSON.stringify(n.value))}),n},J=(o,e,a)=>{const[n,s]=S();f(()=>{const t=localStorage.getItem(e);t===null||s(a?a(JSON.parse(t)):JSON.parse(t))},[o,e]);const i=u(t=>{typeof t=="function"?s(g=>{const l=t(g??o);return localStorage.setItem(e,JSON.stringify(l)),l}):(s(t),localStorage.setItem(e,JSON.stringify(t)))},[e,s]);return[n??o,i]};export{m as a,J as u};
