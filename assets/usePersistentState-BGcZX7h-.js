import{k as c,n as r,h as S,p as f,T as u}from"./main-B4-YRuo1.js";const m=(n,e,a)=>{const o=c(n);return r(()=>{console.log("loading persistentsignal for:",{defaultState:n,ID:e});const s=localStorage.getItem(e);s===null||(o.value=JSON.parse(s))}),r(()=>{console.log("saving persistentsignal state"),localStorage.setItem(e,JSON.stringify(o.value))}),o},J=(n,e,a)=>{const[o,s]=S();f(()=>{const t=localStorage.getItem(e);t===null||s(a?a(JSON.parse(t)):JSON.parse(t))},[n,e]);const i=u(t=>{typeof t=="function"?s(g=>{const l=t(g??n);return localStorage.setItem(e,JSON.stringify(l)),l}):(s(t),localStorage.setItem(e,JSON.stringify(t)))},[e,s]);return[o??n,i]};export{m as a,J as u};
