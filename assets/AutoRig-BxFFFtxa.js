import{T as B,_ as R,p as S,b as t,r as k,s as M}from"./main-Cyodgag4.js";import{defaultBranchingRerollConfig as D}from"./branchingRerolls-D8Ve4S4a.js";import{u as p}from"./usePersistentState-HjpLCYar.js";import"./GhostBlueprints-DFpQBR6X.js";function y(i,u){i.postMessage(u)}const T={"Grabber - Rotating":["Smart Grabber","Grabber"],Grabber:["Conveyor"],Freezer:["Counter"],Workstation:["Counter"],"Prep Station":["Frozen Prep Station"],"Frozen Prep Station":["Prep Station"],Mixer:["Rapid Mixer","Conveyor Mixer","Heated Mixer"],"Dish Rack":["Dish Washer"],"Rapid Mixer":["Mixer","Conveyor Mixer"],"Heated Mixer":["Mixer","Rapid Mixer"],"Conveyor Mixer":["Heated Mixer","Mixer"],Bin:["Affordable Bin","Expanded Bin","Compactor Bin","Composter Bin"],"Compactor Bin":["Expanded Bin","Bin"],"Composter Bin":["Compactor Bin","Bin"],"Expanded Bin":["Composter Bin","Bin"],"Metal Table":["Table - Simple Cloth","Dining Table"],"Table - Simple Cloth":["Dining Table","Bar Table"],"Table - Fancy Cloth":["Dining Table"],"Bar Table":["Dining Table","Table - Fancy Cloth"],"Power Sink":["Soaking Sink","Sink"],"Soaking Sink":["Sink","Dish Washer"],"Dish Washer":["Sink","Wash Basin"],"Danger Hob":["Safety Hob","Hob"],"Safety Hob":["Hob","Danger Hob"],Microwave:["Oven"],"Robot Mop":["Fast Mop"],"Robot Buffer":["Floor Buffer"],"Copying Desk":["Research Desk","Discount Desk"],"Discount Desk":["Research Desk","Blueprint Desk"],Teleporter:["Dumbwaiter"]},F=({})=>{const[i,u]=p(D,"BRANCH_CONFIG",e=>typeof e.simpleBPSettings=="boolean"?{...e,simpleBPSettings:e.simpleBPSettings?"insideOnly":"full"}:e),[c,m]=p([[]],"RIG_TIERS"),[b,C]=p(1,"RIG_PLAYER_COUNT"),[g,d]=p("","RIG_RESULT"),h=B(e=>{d(e.data)},[]),a=R();S(()=>{a.current===void 0&&(a.current=new Worker(new URL("/plateup-set-seed-tools/assets/autoRigWorker-Bpd26LTC.js",import.meta.url),{type:"module"})),a.current.onmessage=h},[]);const f=e=>{y(a.current,{config:i,tiers:e,playerCount:b})};return t("div",{children:[t("label",{for:"playerCount",children:"Player Count"}),t("input",{id:"playerCount",defaultValue:b.toString(),type:"number",onChange:e=>{const o=e.target;C(Number(o.value))}}),t(k,{onConfigChange:u,config:i,mode:"cards"}),c.map((e,o)=>t(M,{shopModifiersOnly:!1,appliances:e,allowDupes:!0,label:`Tier ${o+1} appliances: `,onSelectionChange:n=>{m(s=>{const r=[...s];r.splice(o,1,n);let l=r.length;for(;l--&&!r[l].length;)r.pop();return r.push([]),r})}})),t("button",{onClick:()=>{const e=c.map(o=>{let n={};for(const r of o)n[r.Name]||(n[r.Name]=0),n[r.Name]++;let s=[];for(const[r,l]of Object.entries(n))s.push({goal:r,substitutes:T[r]??[],number:l});return s});f(e)},children:"Route Rig"}),t("button",{onClick:()=>{d("")},children:"Clear Previous Results"}),t("div",{children:g.split(`
`).map(e=>t("div",{children:e}))})]})};export{F as default};
