import{S,A as R,d as B}from"./branchingRerolls-6swdT-wF.js";import{T as k,_ as M,p as D,u as r}from"./main-9UvbXhzR.js";import{u as p}from"./usePersistentState-Fu9jtNGz.js";import"./shop-CqM9UwNR.js";import"./utils-Q6qU-psA.js";import"./prng-AgcW_0Xw.js";import"./GhostBlueprints-XvrSDz63.js";import"./UnlockSelect-AhTz_igJ.js";function x(i,u){i.postMessage(u)}const y={"Grabber - Rotating":["Smart Grabber","Grabber"],Grabber:["Conveyor"],Freezer:["Counter"],Workstation:["Counter"],"Prep Station":["Frozen Prep Station"],"Frozen Prep Station":["Prep Station"],Mixer:["Rapid Mixer","Conveyor Mixer","Heated Mixer"],"Dish Rack":["Dish Washer"],"Rapid Mixer":["Mixer","Conveyor Mixer"],"Heated Mixer":["Mixer","Rapid Mixer"],"Conveyor Mixer":["Heated Mixer","Mixer"],Bin:["Affordable Bin","Expanded Bin","Compactor Bin","Composter Bin"],"Compactor Bin":["Expanded Bin","Bin"],"Composter Bin":["Compactor Bin","Bin"],"Expanded Bin":["Composter Bin","Bin"],"Metal Table":["Table - Simple Cloth","Dining Table"],"Table - Simple Cloth":["Dining Table"],"Table - Fancy Cloth":["Dining Table"],"Power Sink":["Soaking Sink","Sink"],"Soaking Sink":["Sink","Dish Washer"],"Dish Washer":["Sink","Wash Basin"],"Danger Hob":["Safety Hob","Hob"],"Safety Hob":["Hob","Danger Hob"],Microwave:["Oven"],"Robot Mop":["Fast Mop"],"Robot Buffer":["Floor Buffer"],"Copying Desk":["Research Desk","Discount Desk"],"Discount Desk":["Research Desk","Blueprint Desk"],Teleporter:["Dumbwaiter"]},F=({})=>{const[i,u]=p(B,"BRANCH_CONFIG",e=>typeof e.simpleBPSettings=="boolean"?{...e,simpleBPSettings:e.simpleBPSettings?"insideOnly":"full"}:e),[c,b]=p([[]],"RIG_TIERS"),[m,C]=p(1,"RIG_PLAYER_COUNT"),[g,d]=p("","RIG_RESULT"),f=k(e=>{d(e.data)},[]),a=M();D(()=>{a.current===void 0&&(a.current=new Worker(new URL("/plateup-set-seed-tools/assets/autoRigWorker-7xEY1n3V.js",import.meta.url),{type:"module"})),a.current.onmessage=f},[]);const h=e=>{x(a.current,{config:i,tiers:e,playerCount:m})};return r("div",{children:[r("label",{for:"playerCount",children:"Player Count"}),r("input",{id:"playerCount",defaultValue:m.toString(),type:"number",onChange:e=>{const o=e.target;C(Number(o.value))}}),r(S,{onConfigChange:u,config:i,mode:"cards"}),c.map((e,o)=>r(R,{shopModifiersOnly:!1,appliances:e,allowDupes:!0,label:`Tier ${o+1} appliances: `,onSelectionChange:n=>{b(s=>{const t=[...s];t.splice(o,1,n);let l=t.length;for(;l--&&!t[l].length;)t.pop();return t.push([]),t})}})),r("button",{onClick:()=>{const e=c.map(o=>{let n={};for(const t of o)n[t.Name]||(n[t.Name]=0),n[t.Name]++;let s=[];for(const[t,l]of Object.entries(n))s.push({goal:t,substitutes:y[t]??[],number:l});return s});h(e)},children:"Route Rig"}),r("button",{onClick:()=>{d("")},children:"Clear Previous Results"}),r("div",{children:g.split(`
`).map(e=>r("div",{children:e}))})]})};export{F as default};
