import{h as S,u as r,g as N,U as R}from"./jsxRuntime.module-l0uvQyNz.js";import{A as x,G as A,S as B}from"./GhostBlueprints-5V3b3Qq8.js";const W=({defaultSeed:l,disableSeedInput:u=!1,cardDefaults:f={},maxRerolls:b})=>{const[i,p]=S(l),[d,h]=S(1),[g,a]=S(I),[o,c]=S(f),m=e=>{c(t=>({...t,[e.target.id]:e.target.checked}))};let w=[];for(const[e,t]of Object.entries(o))t&&w.push(e);const C={seed:i,day:d,upgradeChance:i.indexOf("az")>-1?.25:0,blueprintCount:i.indexOf("az")>-1?7:5,ownedAppliances:g,cards:w},O=e=>{h(Number(e.target.value))},y=e=>{p(e.target.value)},n=e=>{const t=e.target;a(s=>({...s,[t.id]:t.checked}))};return r(N,{children:[r("h3",{children:["Seed:"," ",u?i:r("input",{disabled:u,value:i,onChange:y})]}),r("label",{children:"Shop after completing day "}),r("input",{style:"border:none;width:2.5em",type:"number",value:d,onChange:O}),r("div",{children:Object.entries(o).map(([e,t])=>r("span",{style:"margin:0 20px 0 0",children:[r("label",{for:e,children:e}),r("input",{type:"checkbox",id:e,checked:t,onChange:m})]}))}),r("div",{children:v.map(e=>r("span",{style:"margin:0 25px 0 0",children:[r("label",{for:e,children:["Own ",e,"?"]}),r("input",{type:"checkbox",checked:g[e],id:e,onChange:n})]}))}),r(T,{...C,maxRerolls:b??j(d)})]})},I={},v=["Blueprint Cabinet","Plates","Research Desk"];for(const l of v)I[l]=!1;I["Blueprint Cabinet"]=!0;const E=[!0,!1],P=[!0,!1],T=({seed:l,day:u=1,blueprintCount:f,upgradeChance:b,ownedAppliances:i,cards:p,maxRerolls:d})=>{const h=new B(l,b);for(let n=0;n<=p.length;n++)if(p[n]){const e=R.filter(t=>t.Name===p[n])[0];e&&h.addCard(e)}const g=Object.entries(i).filter(n=>n[1]).map(n=>n[0]).map(n=>x.filter(e=>e.Name===n)[0]);for(const n of g)n&&h.OwnedAppliances.push(n);let a=[];for(const n of P)for(const e of E)if(a.push({spawnInside:n,playerInside:n?void 0:e,blueprintCount:f}),n)break;const o=[];let c=[[],[],[],[]];for(let n=0;n<a.length;n++)for(let e=0;e<a.length;e++){o.push([a[n],a[e]]);const t=[a[n].spawnInside,a[n].playerInside,a[e].spawnInside,a[e].playerInside];for(let s=0;s<t.length;s++)c[s].length&&c[s].at(-1).val===t[s]?c[s].at(-1).run+=1:c[s].push({val:t[s],run:1})}let m=[];const w=f,C=4,O=d;for(let n=0;n<O;n++){const e=[];for(const t of n?o:o.map(s=>[s[0]])){const s=[...t];n&&s.splice(-1,1,{...s.at(-1),blueprintCount:w+C}),e.push(h.getAppliances(s,u).map(k=>k.Name))}if(m.push(e),n)for(let t=0;t<o.length;t++)o[t].push(o[t][o[t].length-1])}const y=(n,e)=>{switch(n){case 0:return e?"Spawn Inside":"Spawn Outside";case 1:return e===void 0?"":e?"Stand Inside at End of Day":"Everyone Outside at End of Day";case 2:return e?"Spawn Inside for Rerolls":"Spawn Outside for Rerolls";case 3:return e===void 0?"":e?"Someone Inside when Rerolling":"Everyone Outside when Rerolling";default:throw new Error("Too Many Headers")}};return r("table",{children:[r("thead",{children:c.map((n,e)=>r("tr",{children:[!e&&r("th",{colSpan:1,rowSpan:4,children:"Reroll #"}),n.map(t=>t.val!==void 0&&r("th",{colSpan:t.run,rowSpan:y(e,t.val).indexOf("Spawn Inside")>-1?2:1,scope:"colgroup",children:y(e,t.val)}))]}))}),m.map((n,e)=>r("tr",{children:[r("th",{children:e||"Spawn"}),e?n.map(t=>r("td",{colspan:1,children:r(A,{ghostCount:C,bps:t})})):r("td",{style:"text-align:center;",colSpan:16,children:n[0].join(", ")})]}))]})};function j(l){return[5,8,10,12,13,15,16,18,19,20,21,22,23,24,25][l-1]+1}export{W};
