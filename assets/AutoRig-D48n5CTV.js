import{S as B,A as S,d as R}from"./branchingRerolls-wW8aFQ9l.js";import{T as M,_ as k,p as D,u as r}from"./main-B1BEstpK.js";import{u as p}from"./usePersistentState-9UFCH8-D.js";import"./shop-k7Nh1rul.js";import"./utils-TAJegOmx.js";import"./prng-CKVWDsP8.js";import"./GhostBlueprints-nd19OZRJ.js";import"./UnlockSelect-DgzK3vJX.js";function y(i,u){i.postMessage(u)}const x={"Grabber - Rotating":["Smart Grabber","Grabber"],Grabber:["Conveyor"],Freezer:["Counter"],Workstation:["Counter"],"Prep Station":["Frozen Prep Station"],"Frozen Prep Station":["Prep Station"],Mixer:["Rapid Mixer","Conveyor Mixer","Heated Mixer"],"Dish Rack":["Dish Washer"],"Rapid Mixer":["Mixer","Conveyor Mixer"],"Heated Mixer":["Mixer","Rapid Mixer"],"Conveyor Mixer":["Heated Mixer","Mixer"],Bin:["Affordable Bin","Expanded Bin","Compactor Bin","Composter Bin"],"Compactor Bin":["Expanded Bin","Bin"],"Composter Bin":["Compactor Bin","Bin"],"Expanded Bin":["Composter Bin","Bin"],"Metal Table":["Table - Simple Cloth","Dining Table"],"Table - Simple Cloth":["Dining Table","Bar Table"],"Table - Fancy Cloth":["Dining Table"],"Bar Table":["Dining Table","Table - Fancy Cloth"],"Power Sink":["Soaking Sink","Sink"],"Soaking Sink":["Sink","Dish Washer"],"Dish Washer":["Sink","Wash Basin"],"Danger Hob":["Safety Hob","Hob"],"Safety Hob":["Hob","Danger Hob"],Microwave:["Oven"],"Robot Mop":["Fast Mop"],"Robot Buffer":["Floor Buffer"],"Copying Desk":["Research Desk","Discount Desk"],"Discount Desk":["Research Desk","Blueprint Desk"],Teleporter:["Dumbwaiter"]},E=({})=>{const[i,u]=p(R,"BRANCH_CONFIG",e=>typeof e.simpleBPSettings=="boolean"?{...e,simpleBPSettings:e.simpleBPSettings?"insideOnly":"full"}:e),[c,d]=p([[]],"RIG_TIERS"),[b,C]=p(1,"RIG_PLAYER_COUNT"),[g,m]=p("","RIG_RESULT"),h=M(e=>{m(e.data)},[]),a=k();D(()=>{a.current===void 0&&(a.current=new Worker(new URL("/plateup-set-seed-tools/assets/autoRigWorker-B4xM95w4.js",import.meta.url),{type:"module"})),a.current.onmessage=h},[]);const f=e=>{y(a.current,{config:i,tiers:e,playerCount:b})};return r("div",{children:[r("label",{for:"playerCount",children:"Player Count"}),r("input",{id:"playerCount",defaultValue:b.toString(),type:"number",onChange:e=>{const o=e.target;C(Number(o.value))}}),r(B,{onConfigChange:u,config:i,mode:"cards"}),c.map((e,o)=>r(S,{shopModifiersOnly:!1,appliances:e,allowDupes:!0,label:`Tier ${o+1} appliances: `,onSelectionChange:n=>{d(s=>{const t=[...s];t.splice(o,1,n);let l=t.length;for(;l--&&!t[l].length;)t.pop();return t.push([]),t})}})),r("button",{onClick:()=>{const e=c.map(o=>{let n={};for(const t of o)n[t.Name]||(n[t.Name]=0),n[t.Name]++;let s=[];for(const[t,l]of Object.entries(n))s.push({goal:t,substitutes:x[t]??[],number:l});return s});f(e)},children:"Route Rig"}),r("button",{onClick:()=>{m("")},children:"Clear Previous Results"}),r("div",{children:g.split(`
`).map(e=>r("div",{children:e}))})]})};export{E as default};
