import{S as R,A as S,d as B}from"./branchingRerolls-8HaECa1z.js";import{T as k,_ as M,p as y,u as t}from"./main-lDfI0dqc.js";import{u as p}from"./usePersistentState-Wof0CgTh.js";import"./shop-_L9XUQ4m.js";import"./utils-Q6qU-psA.js";import"./prng-JpF06ZO8.js";import"./GhostBlueprints-7pAiULHV.js";import"./UnlockSelect-Xcigifsi.js";function D(i,u){i.postMessage(u)}const x={"Grabber - Rotating":["Smart Grabber","Grabber"],Grabber:["Conveyor"],Freezer:["Counter"],Workstation:["Counter"],"Prep Station":["Frozen Prep Station"],"Frozen Prep Station":["Prep Station"],Mixer:["Rapid Mixer","Conveyor Mixer","Heated Mixer"],"Dish Rack":["Dish Washer"],"Rapid Mixer":["Mixer","Conveyor Mixer"],"Heated Mixer":["Mixer","Rapid Mixer"],"Conveyor Mixer":["Heated Mixer","Mixer"],Bin:["Affordable Bin","Expanded Bin","Compactor Bin","Composter Bin"],"Compactor Bin":["Expanded Bin","Bin"],"Composter Bin":["Compactor Bin","Bin"],"Expanded Bin":["Composter Bin","Bin"],"Table - Simple Cloth":["Dining Table"],"Table - Fancy Cloth":["Dining Table"],"Power Sink":["Soaking Sink","Sink"],"Soaking Sink":["Sink","Dish Washer"],"Dish Washer":["Sink","Wash Basin"],"Danger Hob":["Safety Hob","Hob"],"Safety Hob":["Hob","Danger Hob"],Microwave:["Oven"],"Robot Mop":["Fast Mop"],"Robot Buffer":["Floor Buffer"],"Copying Desk":["Research Desk","Discount Desk"],"Discount Desk":["Research Desk","Blueprint Desk"],Teleporter:["Dumbwaiter"]},E=({})=>{const[i,u]=p(B,"BRANCH_CONFIG",e=>{if(typeof e.simpleBPSettings=="boolean"){debugger;return{...e,simpleBPSettings:e.simpleBPSettings?"insideOnly":"full"}}return e}),[c,b]=p([[]],"RIG_TIERS"),[m,C]=p(1,"RIG_PLAYER_COUNT"),[g,d]=p("","RIG_RESULT"),f=k(e=>{d(e.data)},[]),s=M();y(()=>{s.current===void 0&&(s.current=new Worker(new URL("/plateup-set-seed-tools/assets/autoRigWorker-4LZnBJ6c.js",import.meta.url),{type:"module"})),s.current.onmessage=f},[]);const h=e=>{D(s.current,{config:i,tiers:e,playerCount:m})};return t("div",{children:[t("label",{for:"playerCount",children:"Player Count"}),t("input",{id:"playerCount",defaultValue:m.toString(),type:"number",onChange:e=>{const o=e.target;C(Number(o.value))}}),t(R,{onConfigChange:u,config:i,mode:"cards"}),c.map((e,o)=>t(S,{shopModifiersOnly:!1,appliances:e,allowDupes:!0,label:`Tier ${o+1} appliances: `,onSelectionChange:n=>{b(a=>{const r=[...a];r.splice(o,1,n);let l=r.length;for(;l--&&!r[l].length;)r.pop();return r.push([]),r})}})),t("button",{onClick:()=>{const e=c.map(o=>{let n={};for(const r of o)n[r.Name]||(n[r.Name]=0),n[r.Name]++;let a=[];for(const[r,l]of Object.entries(n))a.push({goal:r,substitutes:x[r]??[],number:l});return a});h(e)},children:"Route Rig"}),t("button",{onClick:()=>{d("")},children:"Clear Previous Results"}),t("div",{children:g.split(`
`).map(e=>t("div",{children:e}))})]})};export{E as default};
