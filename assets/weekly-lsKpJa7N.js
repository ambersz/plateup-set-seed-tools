import{u as r,g as x,q as A}from"./jsxRuntime.module-lz3Tx-bR.js";import{h as S}from"./compat.module-aXJm5aLC.js";import{S as E,A as P}from"./shop-MQ10uyMV.js";import{U as T}from"./unlocks-fGSP_DLg.js";import{G as j}from"./GhostBlueprints-8npY77LS.js";import{g as U,a as W}from"./weekly-aA32fYY8.js";import"./prng-1rWzft78.js";import"./cards-oaJpWqVY.js";const b=U(),k=W(),N={[b.setting.Name]:!0,[b.dish.Name]:!0};for(let s=0;s<k[0].length;s++)for(const i of k)N[i[s].Name]===void 0&&(N[i[s].Name]=!1);console.log({weeklyConfig:b,cardPaths:k});const D=({defaultSeed:s=b.seed,disableSeedInput:i=!0,cardDefaults:u=N,maxRerolls:I})=>{const[c,p]=S(s),[h,f]=S(1),[g,o]=S(v),[l,d]=S(u),m=e=>{d(t=>({...t,[e.target.id]:e.target.checked}))};let w=[];for(const[e,t]of Object.entries(l))t&&w.push(e);const y={seed:c,day:h,upgradeChance:c.indexOf("az")>-1?.25:0,blueprintCount:c.indexOf("az")>-1?7:5,ownedAppliances:g,cards:w},O=e=>{f(Number(e.target.value))},C=e=>{p(e.target.value)},n=e=>{const t=e.target;o(a=>({...a,[t.id]:t.checked}))};return r(x,{children:[r("h3",{children:["Seed:"," ",i?c:r("input",{disabled:i,value:c,onChange:C})]}),r("label",{children:"Shop after completing day "}),r("input",{style:"border:none;width:2.5em",type:"number",value:h,onChange:O}),r("div",{children:Object.entries(l).map(([e,t])=>r("span",{style:"margin:0 20px 0 0",children:[r("label",{for:e,children:e}),r("input",{type:"checkbox",id:e,checked:t,onChange:m})]}))}),r("div",{children:B.map(e=>r("span",{style:"margin:0 25px 0 0",children:[r("label",{for:e,children:["Own ",e,"?"]}),r("input",{type:"checkbox",checked:g[e],id:e,onChange:n})]}))}),r(H,{...y,maxRerolls:I??L(h)})]})},v={},B=["Blueprint Cabinet","Plates","Research Desk"];for(const s of B)v[s]=!1;v["Blueprint Cabinet"]=!0;const G=[!0,!1],_=[!0,!1],H=({seed:s,day:i=1,blueprintCount:u,upgradeChance:I,ownedAppliances:c,cards:p,maxRerolls:h})=>{const f=new E(s,I);for(let n=0;n<=p.length;n++)if(p[n]){const e=T.filter(t=>t.Name===p[n])[0];e&&f.addCard(e)}const g=Object.entries(c).filter(n=>n[1]).map(n=>n[0]).map(n=>P.filter(e=>e.Name===n)[0]);for(const n of g)n&&f.OwnedAppliances.push(n);let o=[];for(const n of _)for(const e of G)if(o.push({spawnInside:n,playerInside:n?void 0:e,blueprintCount:u}),n)break;const l=[];let d=[[],[],[],[]];for(let n=0;n<o.length;n++)for(let e=0;e<o.length;e++){l.push([o[n],o[e]]);const t=[o[n].spawnInside,o[n].playerInside,o[e].spawnInside,o[e].playerInside];for(let a=0;a<t.length;a++)d[a].length&&d[a].at(-1).val===t[a]?d[a].at(-1).run+=1:d[a].push({val:t[a],run:1})}let m=[];const w=u,y=4,O=h;for(let n=0;n<O;n++){const e=[];for(const t of n?l:l.map(a=>[a[0]])){const a=[...t];n&&a.splice(-1,1,{...a.at(-1),blueprintCount:w+y}),e.push(f.getAppliances(a,i).map(R=>R.Name))}if(m.push(e),n)for(let t=0;t<l.length;t++)l[t].push(l[t][l[t].length-1])}const C=(n,e)=>{switch(n){case 0:return e?"Spawn Inside":"Spawn Outside";case 1:return e===void 0?"":e?"Stand Inside at End of Day":"Everyone Outside at End of Day";case 2:return e?"Spawn Inside for Rerolls":"Spawn Outside for Rerolls";case 3:return e===void 0?"":e?"Someone Inside when Rerolling":"Everyone Outside when Rerolling";default:throw new Error("Too Many Headers")}};return r("table",{children:[r("thead",{children:d.map((n,e)=>r("tr",{children:[!e&&r("th",{colSpan:1,rowSpan:4,children:"Reroll #"}),n.map(t=>t.val!==void 0&&r("th",{colSpan:t.run,rowSpan:C(e,t.val).indexOf("Spawn Inside")>-1?2:1,scope:"colgroup",children:C(e,t.val)}))]}))}),m.map((n,e)=>r("tr",{children:[r("th",{children:e||"Spawn"}),e?n.map(t=>r("td",{colspan:1,children:r(j,{ghostCount:y,bps:t})})):r("td",{style:"text-align:center;",colSpan:16,children:n[0].join(", ")})]}))]})};function L(s){return[5,8,10,12,13,15,16,18,19,20,21,22,23,24,25][s-1]+1}const M=["Breakfast","Breakfast Eggs","Breakfast Extras","Breakfast Beans","Pumpkin Seed"];for(const s of M);A(r(D,{disableSeedInput:!0,maxRerolls:5}),document.getElementById("app"));
